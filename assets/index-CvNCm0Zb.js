(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=o(r);fetch(r.href,f)}})();function gh(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Kr={exports:{}},Ki={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function Cv(){if(bm)return Ki;bm=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var h in r)h!=="key"&&(f[h]=r[h])}else f=r;return r=f.ref,{$$typeof:l,type:a,key:p,ref:r!==void 0?r:null,props:f}}return Ki.Fragment=t,Ki.jsx=o,Ki.jsxs=o,Ki}var Rm;function Av(){return Rm||(Rm=1,Kr.exports=Cv()),Kr.exports}var v=Av(),Xr={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function Nv(){if(Mm)return fe;Mm=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function C(b){return b===null||typeof b!="object"?null:(b=E&&b[E]||b["@@iterator"],typeof b=="function"?b:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,z={};function Y(b,V,Z){this.props=b,this.context=V,this.refs=z,this.updater=Z||M}Y.prototype.isReactComponent={},Y.prototype.setState=function(b,V){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,V,"setState")},Y.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function K(){}K.prototype=Y.prototype;function O(b,V,Z){this.props=b,this.context=V,this.refs=z,this.updater=Z||M}var F=O.prototype=new K;F.constructor=O,w(F,Y.prototype),F.isPureReactComponent=!0;var X=Array.isArray;function W(){}var Q={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function B(b,V,Z){var j=Z.ref;return{$$typeof:l,type:b,key:V,ref:j!==void 0?j:null,props:Z}}function re(b,V){return B(b.type,V,b.props)}function ce(b){return typeof b=="object"&&b!==null&&b.$$typeof===l}function le(b){var V={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Z){return V[Z]})}var ge=/\/+/g;function ae(b,V){return typeof b=="object"&&b!==null&&b.key!=null?le(""+b.key):V.toString(36)}function xe(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(W,W):(b.status="pending",b.then(function(V){b.status==="pending"&&(b.status="fulfilled",b.value=V)},function(V){b.status==="pending"&&(b.status="rejected",b.reason=V)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function D(b,V,Z,j,oe){var ue=typeof b;(ue==="undefined"||ue==="boolean")&&(b=null);var Re=!1;if(b===null)Re=!0;else switch(ue){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(b.$$typeof){case l:case t:Re=!0;break;case x:return Re=b._init,D(Re(b._payload),V,Z,j,oe)}}if(Re)return oe=oe(b),Re=j===""?"."+ae(b,0):j,X(oe)?(Z="",Re!=null&&(Z=Re.replace(ge,"$&/")+"/"),D(oe,V,Z,"",function(ei){return ei})):oe!=null&&(ce(oe)&&(oe=re(oe,Z+(oe.key==null||b&&b.key===oe.key?"":(""+oe.key).replace(ge,"$&/")+"/")+Re)),V.push(oe)),1;Re=0;var ot=j===""?".":j+":";if(X(b))for(var ze=0;ze<b.length;ze++)j=b[ze],ue=ot+ae(j,ze),Re+=D(j,V,Z,ue,oe);else if(ze=C(b),typeof ze=="function")for(b=ze.call(b),ze=0;!(j=b.next()).done;)j=j.value,ue=ot+ae(j,ze++),Re+=D(j,V,Z,ue,oe);else if(ue==="object"){if(typeof b.then=="function")return D(xe(b),V,Z,j,oe);throw V=String(b),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Re}function J(b,V,Z){if(b==null)return b;var j=[],oe=0;return D(b,j,"","",function(ue){return V.call(Z,ue,oe++)}),j}function te(b){if(b._status===-1){var V=b._result;V=V(),V.then(function(Z){(b._status===0||b._status===-1)&&(b._status=1,b._result=Z)},function(Z){(b._status===0||b._status===-1)&&(b._status=2,b._result=Z)}),b._status===-1&&(b._status=0,b._result=V)}if(b._status===1)return b._result.default;throw b._result}var he=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},be={map:J,forEach:function(b,V,Z){J(b,function(){V.apply(this,arguments)},Z)},count:function(b){var V=0;return J(b,function(){V++}),V},toArray:function(b){return J(b,function(V){return V})||[]},only:function(b){if(!ce(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return fe.Activity=S,fe.Children=be,fe.Component=Y,fe.Fragment=o,fe.Profiler=r,fe.PureComponent=O,fe.StrictMode=a,fe.Suspense=y,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,fe.__COMPILER_RUNTIME={__proto__:null,c:function(b){return Q.H.useMemoCache(b)}},fe.cache=function(b){return function(){return b.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(b,V,Z){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var j=w({},b.props),oe=b.key;if(V!=null)for(ue in V.key!==void 0&&(oe=""+V.key),V)!de.call(V,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&V.ref===void 0||(j[ue]=V[ue]);var ue=arguments.length-2;if(ue===1)j.children=Z;else if(1<ue){for(var Re=Array(ue),ot=0;ot<ue;ot++)Re[ot]=arguments[ot+2];j.children=Re}return B(b.type,oe,j)},fe.createContext=function(b){return b={$$typeof:p,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},fe.createElement=function(b,V,Z){var j,oe={},ue=null;if(V!=null)for(j in V.key!==void 0&&(ue=""+V.key),V)de.call(V,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(oe[j]=V[j]);var Re=arguments.length-2;if(Re===1)oe.children=Z;else if(1<Re){for(var ot=Array(Re),ze=0;ze<Re;ze++)ot[ze]=arguments[ze+2];oe.children=ot}if(b&&b.defaultProps)for(j in Re=b.defaultProps,Re)oe[j]===void 0&&(oe[j]=Re[j]);return B(b,ue,oe)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(b){return{$$typeof:h,render:b}},fe.isValidElement=ce,fe.lazy=function(b){return{$$typeof:x,_payload:{_status:-1,_result:b},_init:te}},fe.memo=function(b,V){return{$$typeof:g,type:b,compare:V===void 0?null:V}},fe.startTransition=function(b){var V=Q.T,Z={};Q.T=Z;try{var j=b(),oe=Q.S;oe!==null&&oe(Z,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(W,he)}catch(ue){he(ue)}finally{V!==null&&Z.types!==null&&(V.types=Z.types),Q.T=V}},fe.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},fe.use=function(b){return Q.H.use(b)},fe.useActionState=function(b,V,Z){return Q.H.useActionState(b,V,Z)},fe.useCallback=function(b,V){return Q.H.useCallback(b,V)},fe.useContext=function(b){return Q.H.useContext(b)},fe.useDebugValue=function(){},fe.useDeferredValue=function(b,V){return Q.H.useDeferredValue(b,V)},fe.useEffect=function(b,V){return Q.H.useEffect(b,V)},fe.useEffectEvent=function(b){return Q.H.useEffectEvent(b)},fe.useId=function(){return Q.H.useId()},fe.useImperativeHandle=function(b,V,Z){return Q.H.useImperativeHandle(b,V,Z)},fe.useInsertionEffect=function(b,V){return Q.H.useInsertionEffect(b,V)},fe.useLayoutEffect=function(b,V){return Q.H.useLayoutEffect(b,V)},fe.useMemo=function(b,V){return Q.H.useMemo(b,V)},fe.useOptimistic=function(b,V){return Q.H.useOptimistic(b,V)},fe.useReducer=function(b,V,Z){return Q.H.useReducer(b,V,Z)},fe.useRef=function(b){return Q.H.useRef(b)},fe.useState=function(b){return Q.H.useState(b)},fe.useSyncExternalStore=function(b,V,Z){return Q.H.useSyncExternalStore(b,V,Z)},fe.useTransition=function(){return Q.H.useTransition()},fe.version="19.2.0",fe}var km;function du(){return km||(km=1,Xr.exports=Nv()),Xr.exports}var q=du();const bv=gh(q);var Qr={exports:{}},Xi={},Zr={exports:{}},$r={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function Rv(){return wm||(wm=1,(function(l){function t(D,J){var te=D.length;D.push(J);e:for(;0<te;){var he=te-1>>>1,be=D[he];if(0<r(be,J))D[he]=J,D[te]=be,te=he;else break e}}function o(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var J=D[0],te=D.pop();if(te!==J){D[0]=te;e:for(var he=0,be=D.length,b=be>>>1;he<b;){var V=2*(he+1)-1,Z=D[V],j=V+1,oe=D[j];if(0>r(Z,te))j<be&&0>r(oe,Z)?(D[he]=oe,D[j]=te,he=j):(D[he]=Z,D[V]=te,he=V);else if(j<be&&0>r(oe,te))D[he]=oe,D[j]=te,he=j;else break e}}return J}function r(D,J){var te=D.sortIndex-J.sortIndex;return te!==0?te:D.id-J.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var p=Date,h=p.now();l.unstable_now=function(){return p.now()-h}}var y=[],g=[],x=1,S=null,E=3,C=!1,M=!1,w=!1,z=!1,Y=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function F(D){for(var J=o(g);J!==null;){if(J.callback===null)a(g);else if(J.startTime<=D)a(g),J.sortIndex=J.expirationTime,t(y,J);else break;J=o(g)}}function X(D){if(w=!1,F(D),!M)if(o(y)!==null)M=!0,W||(W=!0,le());else{var J=o(g);J!==null&&xe(X,J.startTime-D)}}var W=!1,Q=-1,de=5,B=-1;function re(){return z?!0:!(l.unstable_now()-B<de)}function ce(){if(z=!1,W){var D=l.unstable_now();B=D;var J=!0;try{e:{M=!1,w&&(w=!1,K(Q),Q=-1),C=!0;var te=E;try{t:{for(F(D),S=o(y);S!==null&&!(S.expirationTime>D&&re());){var he=S.callback;if(typeof he=="function"){S.callback=null,E=S.priorityLevel;var be=he(S.expirationTime<=D);if(D=l.unstable_now(),typeof be=="function"){S.callback=be,F(D),J=!0;break t}S===o(y)&&a(y),F(D)}else a(y);S=o(y)}if(S!==null)J=!0;else{var b=o(g);b!==null&&xe(X,b.startTime-D),J=!1}}break e}finally{S=null,E=te,C=!1}J=void 0}}finally{J?le():W=!1}}}var le;if(typeof O=="function")le=function(){O(ce)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,ae=ge.port2;ge.port1.onmessage=ce,le=function(){ae.postMessage(null)}}else le=function(){Y(ce,0)};function xe(D,J){Q=Y(function(){D(l.unstable_now())},J)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(D){D.callback=null},l.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<D?Math.floor(1e3/D):5},l.unstable_getCurrentPriorityLevel=function(){return E},l.unstable_next=function(D){switch(E){case 1:case 2:case 3:var J=3;break;default:J=E}var te=E;E=J;try{return D()}finally{E=te}},l.unstable_requestPaint=function(){z=!0},l.unstable_runWithPriority=function(D,J){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var te=E;E=D;try{return J()}finally{E=te}},l.unstable_scheduleCallback=function(D,J,te){var he=l.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?he+te:he):te=he,D){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=te+be,D={id:x++,callback:J,priorityLevel:D,startTime:te,expirationTime:be,sortIndex:-1},te>he?(D.sortIndex=te,t(g,D),o(y)===null&&D===o(g)&&(w?(K(Q),Q=-1):w=!0,xe(X,te-he))):(D.sortIndex=be,t(y,D),M||C||(M=!0,W||(W=!0,le()))),D},l.unstable_shouldYield=re,l.unstable_wrapCallback=function(D){var J=E;return function(){var te=E;E=J;try{return D.apply(this,arguments)}finally{E=te}}}})($r)),$r}var Im;function Mv(){return Im||(Im=1,Zr.exports=Rv()),Zr.exports}var Wr={exports:{}},nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function kv(){if(Dm)return nt;Dm=1;var l=du();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,g,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:y,containerInfo:g,implementation:x}}var p=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nt.createPortal=function(y,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return f(y,g,null,x)},nt.flushSync=function(y){var g=p.T,x=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=g,a.p=x,a.d.f()}},nt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},nt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},nt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var x=g.as,S=h(x,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:C}):x==="script"&&a.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=h(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},nt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,S=h(x,g.crossOrigin);a.d.L(y,x,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nt.preloadModule=function(y,g){if(typeof y=="string")if(g){var x=h(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},nt.requestFormReset=function(y){a.d.r(y)},nt.unstable_batchedUpdates=function(y,g){return y(g)},nt.useFormState=function(y,g,x){return p.H.useFormState(y,g,x)},nt.useFormStatus=function(){return p.H.useHostTransitionStatus()},nt.version="19.2.0",nt}var Um;function wv(){if(Um)return Wr.exports;Um=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Wr.exports=kv(),Wr.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function Iv(){if(Lm)return Xi;Lm=1;var l=Mv(),t=du(),o=wv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function g(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var i=e,s=n;;){var d=i.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){i=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===i)return y(d),e;if(m===s)return y(d),n;m=m.sibling}throw Error(a(188))}if(i.return!==s.return)i=d,s=m;else{for(var T=!1,_=d.child;_;){if(_===i){T=!0,i=d,s=m;break}if(_===s){T=!0,s=d,i=m;break}_=_.sibling}if(!T){for(_=m.child;_;){if(_===i){T=!0,i=m,s=d;break}if(_===s){T=!0,s=m,i=d;break}_=_.sibling}if(!T)throw Error(a(189))}}if(i.alternate!==s)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),O=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case Y:return"Profiler";case z:return"StrictMode";case X:return"Suspense";case W:return"SuspenseList";case B:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case O:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case F:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case de:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}var xe=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},he=[],be=-1;function b(e){return{current:e}}function V(e){0>be||(e.current=he[be],he[be]=null,be--)}function Z(e,n){be++,he[be]=e.current,e.current=n}var j=b(null),oe=b(null),ue=b(null),Re=b(null);function ot(e,n){switch(Z(ue,n),Z(oe,e),Z(j,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Zd(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Zd(n),e=$d(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(j),Z(j,e)}function ze(){V(j),V(oe),V(ue)}function ei(e){e.memoizedState!==null&&Z(Re,e);var n=j.current,i=$d(n,e.type);n!==i&&(Z(oe,e),Z(j,i))}function ji(e){oe.current===e&&(V(j),V(oe)),Re.current===e&&(V(Re),Oi._currentValue=te)}var Ma,Au;function Vn(e){if(Ma===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Ma=n&&n[1]||"",Au=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ma+e+Au}var ka=!1;function wa(e,n){if(!e||ka)return"";ka=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(L){var U=L}Reflect.construct(e,[],H)}else{try{H.call()}catch(L){U=L}e.call(H.prototype)}}else{try{throw Error()}catch(L){U=L}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(L){if(L&&U&&typeof L.stack=="string")return[L.stack,U.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),T=m[0],_=m[1];if(T&&_){var A=T.split(`
`),I=_.split(`
`);for(d=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;d<I.length&&!I[d].includes("DetermineComponentFrameRoot");)d++;if(s===A.length||d===I.length)for(s=A.length-1,d=I.length-1;1<=s&&0<=d&&A[s]!==I[d];)d--;for(;1<=s&&0<=d;s--,d--)if(A[s]!==I[d]){if(s!==1||d!==1)do if(s--,d--,0>d||A[s]!==I[d]){var G=`
`+A[s].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=s&&0<=d);break}}}finally{ka=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Vn(i):""}function tg(e,n){switch(e.tag){case 26:case 27:case 5:return Vn(e.type);case 16:return Vn("Lazy");case 13:return e.child!==n&&n!==null?Vn("Suspense Fallback"):Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 15:return wa(e.type,!1);case 11:return wa(e.type.render,!1);case 1:return wa(e.type,!0);case 31:return Vn("Activity");default:return""}}function Nu(e){try{var n="",i=null;do n+=tg(e,i),i=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ia=Object.prototype.hasOwnProperty,Da=l.unstable_scheduleCallback,Ua=l.unstable_cancelCallback,ng=l.unstable_shouldYield,lg=l.unstable_requestPaint,pt=l.unstable_now,ig=l.unstable_getCurrentPriorityLevel,bu=l.unstable_ImmediatePriority,Ru=l.unstable_UserBlockingPriority,eo=l.unstable_NormalPriority,og=l.unstable_LowPriority,Mu=l.unstable_IdlePriority,ag=l.log,sg=l.unstable_setDisableYieldValue,ti=null,ht=null;function dn(e){if(typeof ag=="function"&&sg(e),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(ti,e)}catch{}}var gt=Math.clz32?Math.clz32:cg,rg=Math.log,ug=Math.LN2;function cg(e){return e>>>=0,e===0?32:31-(rg(e)/ug|0)|0}var to=256,no=262144,lo=4194304;function zn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function io(e,n,i){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~m,s!==0?d=zn(s):(T&=_,T!==0?d=zn(T):i||(i=_&~e,i!==0&&(d=zn(i))))):(_=s&~m,_!==0?d=zn(_):T!==0?d=zn(T):i||(i=s&~e,i!==0&&(d=zn(i)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,i=n&-n,m>=i||m===32&&(i&4194048)!==0)?n:d}function ni(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function fg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ku(){var e=lo;return lo<<=1,(lo&62914560)===0&&(lo=4194304),e}function La(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function li(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function dg(e,n,i,s,d,m){var T=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,I=e.hiddenUpdates;for(i=T&~i;0<i;){var G=31-gt(i),H=1<<G;_[G]=0,A[G]=-1;var U=I[G];if(U!==null)for(I[G]=null,G=0;G<U.length;G++){var L=U[G];L!==null&&(L.lane&=-536870913)}i&=~H}s!==0&&wu(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~n))}function wu(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-gt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function Iu(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var s=31-gt(i),d=1<<s;d&n|e[s]&n&&(e[s]|=n),i&=~d}}function Du(e,n){var i=n&-n;return i=(i&42)!==0?1:Ga(i),(i&(e.suspendedLanes|n))!==0?0:i}function Ga(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Uu(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Tm(e.type))}function Lu(e,n){var i=J.p;try{return J.p=e,n()}finally{J.p=i}}var mn=Math.random().toString(36).slice(2),$e="__reactFiber$"+mn,st="__reactProps$"+mn,al="__reactContainer$"+mn,Pa="__reactEvents$"+mn,mg="__reactListeners$"+mn,pg="__reactHandles$"+mn,Gu="__reactResources$"+mn,ii="__reactMarker$"+mn;function Ha(e){delete e[$e],delete e[st],delete e[Pa],delete e[mg],delete e[pg]}function sl(e){var n=e[$e];if(n)return n;for(var i=e.parentNode;i;){if(n=i[al]||i[$e]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=im(e);e!==null;){if(i=e[$e])return i;e=im(e)}return n}e=i,i=e.parentNode}return null}function rl(e){if(e=e[$e]||e[al]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function oi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ul(e){var n=e[Gu];return n||(n=e[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Qe(e){e[ii]=!0}var qu=new Set,Pu={};function Bn(e,n){cl(e,n),cl(e+"Capture",n)}function cl(e,n){for(Pu[e]=n,e=0;e<n.length;e++)qu.add(n[e])}var hg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hu={},Vu={};function gg(e){return Ia.call(Vu,e)?!0:Ia.call(Hu,e)?!1:hg.test(e)?Vu[e]=!0:(Hu[e]=!0,!1)}function oo(e,n,i){if(gg(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function ao(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Ft(e,n,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+s)}}function Ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zu(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function yg(e,n,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(T){i=""+T,m.call(this,T)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(T){i=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Va(e){if(!e._valueTracker){var n=zu(e)?"checked":"value";e._valueTracker=yg(e,n,""+e[n])}}function Bu(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),s="";return e&&(s=zu(e)?e.checked?"true":"false":e.value),e=s,e!==i?(n.setValue(e),!0):!1}function so(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vg=/[\n"\\]/g;function At(e){return e.replace(vg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function za(e,n,i,s,d,m,T,_){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ct(n)):e.value!==""+Ct(n)&&(e.value=""+Ct(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?Ba(e,T,Ct(n)):i!=null?Ba(e,T,Ct(i)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Ct(_):e.removeAttribute("name")}function Ou(e,n,i,s,d,m,T,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Va(e);return}i=i!=null?""+Ct(i):"",n=n!=null?""+Ct(n):i,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),Va(e)}function Ba(e,n,i){n==="number"&&so(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function fl(e,n,i,s){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Ct(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Fu(e,n,i){if(n!=null&&(n=""+Ct(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Ct(i):""}function Ju(e,n,i,s){if(n==null){if(s!=null){if(i!=null)throw Error(a(92));if(xe(s)){if(1<s.length)throw Error(a(93));s=s[0]}i=s}i==null&&(i=""),n=i}i=Ct(n),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),Va(e)}function dl(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var xg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yu(e,n,i){var s=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,i):typeof i!="number"||i===0||xg.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Ku(e,n,i){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&i[d]!==s&&Yu(e,d,s)}else for(var m in n)n.hasOwnProperty(m)&&Yu(e,m,n[m])}function Oa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ro(e){return Sg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jt(){}var Fa=null;function Ja(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ml=null,pl=null;function Xu(e){var n=rl(e);if(n&&(e=n.stateNode)){var i=e[st]||null;e:switch(e=n.stateNode,n.type){case"input":if(za(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+At(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==e&&s.form===e.form){var d=s[st]||null;if(!d)throw Error(a(90));za(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<i.length;n++)s=i[n],s.form===e.form&&Bu(s)}break e;case"textarea":Fu(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&fl(e,!!i.multiple,n,!1)}}}var Ya=!1;function Qu(e,n,i){if(Ya)return e(n,i);Ya=!0;try{var s=e(n);return s}finally{if(Ya=!1,(ml!==null||pl!==null)&&(Zo(),ml&&(n=ml,e=pl,pl=ml=null,Xu(n),e)))for(n=0;n<e.length;n++)Xu(e[n])}}function ai(e,n){var i=e.stateNode;if(i===null)return null;var s=i[st]||null;if(s===null)return null;i=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ka=!1;if(Yt)try{var si={};Object.defineProperty(si,"passive",{get:function(){Ka=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{Ka=!1}var pn=null,Xa=null,uo=null;function Zu(){if(uo)return uo;var e,n=Xa,i=n.length,s,d="value"in pn?pn.value:pn.textContent,m=d.length;for(e=0;e<i&&n[e]===d[e];e++);var T=i-e;for(s=1;s<=T&&n[i-s]===d[m-s];s++);return uo=d.slice(e,1<s?1-s:void 0)}function co(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function fo(){return!0}function $u(){return!1}function rt(e){function n(i,s,d,m,T){this._reactName=i,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?fo:$u,this.isPropagationStopped=$u,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),n}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=rt(On),ri=S({},On,{view:0,detail:0}),Eg=rt(ri),Qa,Za,ui,po=S({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ui&&(ui&&e.type==="mousemove"?(Qa=e.screenX-ui.screenX,Za=e.screenY-ui.screenY):Za=Qa=0,ui=e),Qa)},movementY:function(e){return"movementY"in e?e.movementY:Za}}),Wu=rt(po),_g=S({},po,{dataTransfer:0}),Cg=rt(_g),Ag=S({},ri,{relatedTarget:0}),$a=rt(Ag),Ng=S({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),bg=rt(Ng),Rg=S({},On,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mg=rt(Rg),kg=S({},On,{data:0}),ju=rt(kg),wg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ig={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ug(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Dg[e])?!!n[e]:!1}function Wa(){return Ug}var Lg=S({},ri,{key:function(e){if(e.key){var n=wg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ig[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wa,charCode:function(e){return e.type==="keypress"?co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gg=rt(Lg),qg=S({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ec=rt(qg),Pg=S({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wa}),Hg=rt(Pg),Vg=S({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),zg=rt(Vg),Bg=S({},po,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Og=rt(Bg),Fg=S({},On,{newState:0,oldState:0}),Jg=rt(Fg),Yg=[9,13,27,32],ja=Yt&&"CompositionEvent"in window,ci=null;Yt&&"documentMode"in document&&(ci=document.documentMode);var Kg=Yt&&"TextEvent"in window&&!ci,tc=Yt&&(!ja||ci&&8<ci&&11>=ci),nc=" ",lc=!1;function ic(e,n){switch(e){case"keyup":return Yg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hl=!1;function Xg(e,n){switch(e){case"compositionend":return oc(n);case"keypress":return n.which!==32?null:(lc=!0,nc);case"textInput":return e=n.data,e===nc&&lc?null:e;default:return null}}function Qg(e,n){if(hl)return e==="compositionend"||!ja&&ic(e,n)?(e=Zu(),uo=Xa=pn=null,hl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return tc&&n.locale!=="ko"?null:n.data;default:return null}}var Zg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Zg[e.type]:n==="textarea"}function sc(e,n,i,s){ml?pl?pl.push(s):pl=[s]:ml=s,n=la(n,"onChange"),0<n.length&&(i=new mo("onChange","change",null,i,s),e.push({event:i,listeners:n}))}var fi=null,di=null;function $g(e){Fd(e,0)}function ho(e){var n=oi(e);if(Bu(n))return e}function rc(e,n){if(e==="change")return n}var uc=!1;if(Yt){var es;if(Yt){var ts="oninput"in document;if(!ts){var cc=document.createElement("div");cc.setAttribute("oninput","return;"),ts=typeof cc.oninput=="function"}es=ts}else es=!1;uc=es&&(!document.documentMode||9<document.documentMode)}function fc(){fi&&(fi.detachEvent("onpropertychange",dc),di=fi=null)}function dc(e){if(e.propertyName==="value"&&ho(di)){var n=[];sc(n,di,e,Ja(e)),Qu($g,n)}}function Wg(e,n,i){e==="focusin"?(fc(),fi=n,di=i,fi.attachEvent("onpropertychange",dc)):e==="focusout"&&fc()}function jg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ho(di)}function ey(e,n){if(e==="click")return ho(n)}function ty(e,n){if(e==="input"||e==="change")return ho(n)}function ny(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var yt=typeof Object.is=="function"?Object.is:ny;function mi(e,n){if(yt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),s=Object.keys(n);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var d=i[s];if(!Ia.call(n,d)||!yt(e[d],n[d]))return!1}return!0}function mc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pc(e,n){var i=mc(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=n&&s>=n)return{node:i,offset:n-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=mc(i)}}function hc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?hc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function gc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=so(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=so(e.document)}return n}function ns(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ly=Yt&&"documentMode"in document&&11>=document.documentMode,gl=null,ls=null,pi=null,is=!1;function yc(e,n,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;is||gl==null||gl!==so(s)||(s=gl,"selectionStart"in s&&ns(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),pi&&mi(pi,s)||(pi=s,s=la(ls,"onSelect"),0<s.length&&(n=new mo("onSelect","select",null,n,i),e.push({event:n,listeners:s}),n.target=gl)))}function Fn(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var yl={animationend:Fn("Animation","AnimationEnd"),animationiteration:Fn("Animation","AnimationIteration"),animationstart:Fn("Animation","AnimationStart"),transitionrun:Fn("Transition","TransitionRun"),transitionstart:Fn("Transition","TransitionStart"),transitioncancel:Fn("Transition","TransitionCancel"),transitionend:Fn("Transition","TransitionEnd")},os={},vc={};Yt&&(vc=document.createElement("div").style,"AnimationEvent"in window||(delete yl.animationend.animation,delete yl.animationiteration.animation,delete yl.animationstart.animation),"TransitionEvent"in window||delete yl.transitionend.transition);function Jn(e){if(os[e])return os[e];if(!yl[e])return e;var n=yl[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in vc)return os[e]=n[i];return e}var xc=Jn("animationend"),Tc=Jn("animationiteration"),Sc=Jn("animationstart"),iy=Jn("transitionrun"),oy=Jn("transitionstart"),ay=Jn("transitioncancel"),Ec=Jn("transitionend"),_c=new Map,as="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");as.push("scrollEnd");function Lt(e,n){_c.set(e,n),Bn(n,[e])}var go=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nt=[],vl=0,ss=0;function yo(){for(var e=vl,n=ss=vl=0;n<e;){var i=Nt[n];Nt[n++]=null;var s=Nt[n];Nt[n++]=null;var d=Nt[n];Nt[n++]=null;var m=Nt[n];if(Nt[n++]=null,s!==null&&d!==null){var T=s.pending;T===null?d.next=d:(d.next=T.next,T.next=d),s.pending=d}m!==0&&Cc(i,d,m)}}function vo(e,n,i,s){Nt[vl++]=e,Nt[vl++]=n,Nt[vl++]=i,Nt[vl++]=s,ss|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function rs(e,n,i,s){return vo(e,n,i,s),xo(e)}function Yn(e,n){return vo(e,null,null,n),xo(e)}function Cc(e,n,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var d=!1,m=e.return;m!==null;)m.childLanes|=i,s=m.alternate,s!==null&&(s.childLanes|=i),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-gt(i),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=i|536870912),m):null}function xo(e){if(50<Gi)throw Gi=0,yr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var xl={};function sy(e,n,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,n,i,s){return new sy(e,n,i,s)}function us(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kt(e,n){var i=e.alternate;return i===null?(i=vt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Ac(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function To(e,n,i,s,d,m){var T=0;if(s=e,typeof e=="function")us(e)&&(T=1);else if(typeof e=="string")T=dv(e,i,j.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case B:return e=vt(31,i,n,d),e.elementType=B,e.lanes=m,e;case w:return Kn(i.children,d,m,n);case z:T=8,d|=24;break;case Y:return e=vt(12,i,n,d|2),e.elementType=Y,e.lanes=m,e;case X:return e=vt(13,i,n,d),e.elementType=X,e.lanes=m,e;case W:return e=vt(19,i,n,d),e.elementType=W,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:T=10;break e;case K:T=9;break e;case F:T=11;break e;case Q:T=14;break e;case de:T=16,s=null;break e}T=29,i=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=vt(T,i,n,d),n.elementType=e,n.type=s,n.lanes=m,n}function Kn(e,n,i,s){return e=vt(7,e,s,n),e.lanes=i,e}function cs(e,n,i){return e=vt(6,e,null,n),e.lanes=i,e}function Nc(e){var n=vt(18,null,null,0);return n.stateNode=e,n}function fs(e,n,i){return n=vt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var bc=new WeakMap;function bt(e,n){if(typeof e=="object"&&e!==null){var i=bc.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Nu(n)},bc.set(e,n),n)}return{value:e,source:n,stack:Nu(n)}}var Tl=[],Sl=0,So=null,hi=0,Rt=[],Mt=0,hn=null,Ht=1,Vt="";function Xt(e,n){Tl[Sl++]=hi,Tl[Sl++]=So,So=e,hi=n}function Rc(e,n,i){Rt[Mt++]=Ht,Rt[Mt++]=Vt,Rt[Mt++]=hn,hn=e;var s=Ht;e=Vt;var d=32-gt(s)-1;s&=~(1<<d),i+=1;var m=32-gt(n)+d;if(30<m){var T=d-d%5;m=(s&(1<<T)-1).toString(32),s>>=T,d-=T,Ht=1<<32-gt(n)+d|i<<d|s,Vt=m+e}else Ht=1<<m|i<<d|s,Vt=e}function ds(e){e.return!==null&&(Xt(e,1),Rc(e,1,0))}function ms(e){for(;e===So;)So=Tl[--Sl],Tl[Sl]=null,hi=Tl[--Sl],Tl[Sl]=null;for(;e===hn;)hn=Rt[--Mt],Rt[Mt]=null,Vt=Rt[--Mt],Rt[Mt]=null,Ht=Rt[--Mt],Rt[Mt]=null}function Mc(e,n){Rt[Mt++]=Ht,Rt[Mt++]=Vt,Rt[Mt++]=hn,Ht=n.id,Vt=n.overflow,hn=e}var We=null,Le=null,Ee=!1,gn=null,kt=!1,ps=Error(a(519));function yn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gi(bt(n,e)),ps}function kc(e){var n=e.stateNode,i=e.type,s=e.memoizedProps;switch(n[$e]=e,n[st]=s,i){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(i=0;i<Pi.length;i++)ve(Pi[i],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":ve("invalid",n),Ou(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ve("invalid",n);break;case"textarea":ve("invalid",n),Ju(n,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||s.suppressHydrationWarning===!0||Xd(n.textContent,i)?(s.popover!=null&&(ve("beforetoggle",n),ve("toggle",n)),s.onScroll!=null&&ve("scroll",n),s.onScrollEnd!=null&&ve("scrollend",n),s.onClick!=null&&(n.onclick=Jt),n=!0):n=!1,n||yn(e,!0)}function wc(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:kt=!1;return;case 27:case 3:kt=!0;return;default:We=We.return}}function El(e){if(e!==We)return!1;if(!Ee)return wc(e),Ee=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Ir(e.type,e.memoizedProps)),i=!i),i&&Le&&yn(e),wc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=lm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=lm(e)}else n===27?(n=Le,wn(e.type)?(e=qr,qr=null,Le=e):Le=n):Le=We?It(e.stateNode.nextSibling):null;return!0}function Xn(){Le=We=null,Ee=!1}function hs(){var e=gn;return e!==null&&(dt===null?dt=e:dt.push.apply(dt,e),gn=null),e}function gi(e){gn===null?gn=[e]:gn.push(e)}var gs=b(null),Qn=null,Qt=null;function vn(e,n,i){Z(gs,n._currentValue),n._currentValue=i}function Zt(e){e._currentValue=gs.current,V(gs)}function ys(e,n,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===i)break;e=e.return}}function vs(e,n,i,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var T=d.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=d;for(var A=0;A<n.length;A++)if(_.context===n[A]){m.lanes|=i,_=m.alternate,_!==null&&(_.lanes|=i),ys(m.return,i,e),s||(T=null);break e}m=_.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(a(341));T.lanes|=i,m=T.alternate,m!==null&&(m.lanes|=i),ys(T,i,e),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===e){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function _l(e,n,i,s){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var _=d.type;yt(d.pendingProps.value,T.value)||(e!==null?e.push(_):e=[_])}}else if(d===Re.current){if(T=d.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Oi):e=[Oi])}d=d.return}e!==null&&vs(n,e,i,s),n.flags|=262144}function Eo(e){for(e=e.firstContext;e!==null;){if(!yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Zn(e){Qn=e,Qt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return Ic(Qn,e)}function _o(e,n){return Qn===null&&Zn(e),Ic(e,n)}function Ic(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Qt===null){if(e===null)throw Error(a(308));Qt=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Qt=Qt.next=n;return i}var ry=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},uy=l.unstable_scheduleCallback,cy=l.unstable_NormalPriority,Fe={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xs(){return{controller:new ry,data:new Map,refCount:0}}function yi(e){e.refCount--,e.refCount===0&&uy(cy,function(){e.controller.abort()})}var vi=null,Ts=0,Cl=0,Al=null;function fy(e,n){if(vi===null){var i=vi=[];Ts=0,Cl=_r(),Al={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Ts++,n.then(Dc,Dc),n}function Dc(){if(--Ts===0&&vi!==null){Al!==null&&(Al.status="fulfilled");var e=vi;vi=null,Cl=0,Al=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function dy(e,n){var i=[],s={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<i.length;d++)(0,i[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),s}var Uc=D.S;D.S=function(e,n){vd=pt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&fy(e,n),Uc!==null&&Uc(e,n)};var $n=b(null);function Ss(){var e=$n.current;return e!==null?e:Ue.pooledCache}function Co(e,n){n===null?Z($n,$n.current):Z($n,n.pool)}function Lc(){var e=Ss();return e===null?null:{parent:Fe._currentValue,pool:e}}var Nl=Error(a(460)),Es=Error(a(474)),Ao=Error(a(542)),No={then:function(){}};function Gc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qc(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Jt,Jt),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hc(e),e;default:if(typeof n.status=="string")n.then(Jt,Jt);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hc(e),e}throw jn=n,Nl}}function Wn(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(jn=i,Nl):i}}var jn=null;function Pc(){if(jn===null)throw Error(a(459));var e=jn;return jn=null,e}function Hc(e){if(e===Nl||e===Ao)throw Error(a(483))}var bl=null,xi=0;function bo(e){var n=xi;return xi+=1,bl===null&&(bl=[]),qc(bl,e,n)}function Ti(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ro(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Vc(e){function n(R,N){if(e){var k=R.deletions;k===null?(R.deletions=[N],R.flags|=16):k.push(N)}}function i(R,N){if(!e)return null;for(;N!==null;)n(R,N),N=N.sibling;return null}function s(R){for(var N=new Map;R!==null;)R.key!==null?N.set(R.key,R):N.set(R.index,R),R=R.sibling;return N}function d(R,N){return R=Kt(R,N),R.index=0,R.sibling=null,R}function m(R,N,k){return R.index=k,e?(k=R.alternate,k!==null?(k=k.index,k<N?(R.flags|=67108866,N):k):(R.flags|=67108866,N)):(R.flags|=1048576,N)}function T(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function _(R,N,k,P){return N===null||N.tag!==6?(N=cs(k,R.mode,P),N.return=R,N):(N=d(N,k),N.return=R,N)}function A(R,N,k,P){var ie=k.type;return ie===w?G(R,N,k.props.children,P,k.key):N!==null&&(N.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===de&&Wn(ie)===N.type)?(N=d(N,k.props),Ti(N,k),N.return=R,N):(N=To(k.type,k.key,k.props,null,R.mode,P),Ti(N,k),N.return=R,N)}function I(R,N,k,P){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=fs(k,R.mode,P),N.return=R,N):(N=d(N,k.children||[]),N.return=R,N)}function G(R,N,k,P,ie){return N===null||N.tag!==7?(N=Kn(k,R.mode,P,ie),N.return=R,N):(N=d(N,k),N.return=R,N)}function H(R,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=cs(""+N,R.mode,k),N.return=R,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case C:return k=To(N.type,N.key,N.props,null,R.mode,k),Ti(k,N),k.return=R,k;case M:return N=fs(N,R.mode,k),N.return=R,N;case de:return N=Wn(N),H(R,N,k)}if(xe(N)||le(N))return N=Kn(N,R.mode,k,null),N.return=R,N;if(typeof N.then=="function")return H(R,bo(N),k);if(N.$$typeof===O)return H(R,_o(R,N),k);Ro(R,N)}return null}function U(R,N,k,P){var ie=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ie!==null?null:_(R,N,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case C:return k.key===ie?A(R,N,k,P):null;case M:return k.key===ie?I(R,N,k,P):null;case de:return k=Wn(k),U(R,N,k,P)}if(xe(k)||le(k))return ie!==null?null:G(R,N,k,P,null);if(typeof k.then=="function")return U(R,N,bo(k),P);if(k.$$typeof===O)return U(R,N,_o(R,k),P);Ro(R,k)}return null}function L(R,N,k,P,ie){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return R=R.get(k)||null,_(N,R,""+P,ie);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case C:return R=R.get(P.key===null?k:P.key)||null,A(N,R,P,ie);case M:return R=R.get(P.key===null?k:P.key)||null,I(N,R,P,ie);case de:return P=Wn(P),L(R,N,k,P,ie)}if(xe(P)||le(P))return R=R.get(k)||null,G(N,R,P,ie,null);if(typeof P.then=="function")return L(R,N,k,bo(P),ie);if(P.$$typeof===O)return L(R,N,k,_o(N,P),ie);Ro(N,P)}return null}function ee(R,N,k,P){for(var ie=null,_e=null,ne=N,pe=N=0,Se=null;ne!==null&&pe<k.length;pe++){ne.index>pe?(Se=ne,ne=null):Se=ne.sibling;var Ce=U(R,ne,k[pe],P);if(Ce===null){ne===null&&(ne=Se);break}e&&ne&&Ce.alternate===null&&n(R,ne),N=m(Ce,N,pe),_e===null?ie=Ce:_e.sibling=Ce,_e=Ce,ne=Se}if(pe===k.length)return i(R,ne),Ee&&Xt(R,pe),ie;if(ne===null){for(;pe<k.length;pe++)ne=H(R,k[pe],P),ne!==null&&(N=m(ne,N,pe),_e===null?ie=ne:_e.sibling=ne,_e=ne);return Ee&&Xt(R,pe),ie}for(ne=s(ne);pe<k.length;pe++)Se=L(ne,R,pe,k[pe],P),Se!==null&&(e&&Se.alternate!==null&&ne.delete(Se.key===null?pe:Se.key),N=m(Se,N,pe),_e===null?ie=Se:_e.sibling=Se,_e=Se);return e&&ne.forEach(function(Gn){return n(R,Gn)}),Ee&&Xt(R,pe),ie}function se(R,N,k,P){if(k==null)throw Error(a(151));for(var ie=null,_e=null,ne=N,pe=N=0,Se=null,Ce=k.next();ne!==null&&!Ce.done;pe++,Ce=k.next()){ne.index>pe?(Se=ne,ne=null):Se=ne.sibling;var Gn=U(R,ne,Ce.value,P);if(Gn===null){ne===null&&(ne=Se);break}e&&ne&&Gn.alternate===null&&n(R,ne),N=m(Gn,N,pe),_e===null?ie=Gn:_e.sibling=Gn,_e=Gn,ne=Se}if(Ce.done)return i(R,ne),Ee&&Xt(R,pe),ie;if(ne===null){for(;!Ce.done;pe++,Ce=k.next())Ce=H(R,Ce.value,P),Ce!==null&&(N=m(Ce,N,pe),_e===null?ie=Ce:_e.sibling=Ce,_e=Ce);return Ee&&Xt(R,pe),ie}for(ne=s(ne);!Ce.done;pe++,Ce=k.next())Ce=L(ne,R,pe,Ce.value,P),Ce!==null&&(e&&Ce.alternate!==null&&ne.delete(Ce.key===null?pe:Ce.key),N=m(Ce,N,pe),_e===null?ie=Ce:_e.sibling=Ce,_e=Ce);return e&&ne.forEach(function(_v){return n(R,_v)}),Ee&&Xt(R,pe),ie}function De(R,N,k,P){if(typeof k=="object"&&k!==null&&k.type===w&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case C:e:{for(var ie=k.key;N!==null;){if(N.key===ie){if(ie=k.type,ie===w){if(N.tag===7){i(R,N.sibling),P=d(N,k.props.children),P.return=R,R=P;break e}}else if(N.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===de&&Wn(ie)===N.type){i(R,N.sibling),P=d(N,k.props),Ti(P,k),P.return=R,R=P;break e}i(R,N);break}else n(R,N);N=N.sibling}k.type===w?(P=Kn(k.props.children,R.mode,P,k.key),P.return=R,R=P):(P=To(k.type,k.key,k.props,null,R.mode,P),Ti(P,k),P.return=R,R=P)}return T(R);case M:e:{for(ie=k.key;N!==null;){if(N.key===ie)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){i(R,N.sibling),P=d(N,k.children||[]),P.return=R,R=P;break e}else{i(R,N);break}else n(R,N);N=N.sibling}P=fs(k,R.mode,P),P.return=R,R=P}return T(R);case de:return k=Wn(k),De(R,N,k,P)}if(xe(k))return ee(R,N,k,P);if(le(k)){if(ie=le(k),typeof ie!="function")throw Error(a(150));return k=ie.call(k),se(R,N,k,P)}if(typeof k.then=="function")return De(R,N,bo(k),P);if(k.$$typeof===O)return De(R,N,_o(R,k),P);Ro(R,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(i(R,N.sibling),P=d(N,k),P.return=R,R=P):(i(R,N),P=cs(k,R.mode,P),P.return=R,R=P),T(R)):i(R,N)}return function(R,N,k,P){try{xi=0;var ie=De(R,N,k,P);return bl=null,ie}catch(ne){if(ne===Nl||ne===Ao)throw ne;var _e=vt(29,ne,null,R.mode);return _e.lanes=P,_e.return=R,_e}finally{}}}var el=Vc(!0),zc=Vc(!1),xn=!1;function _s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sn(e,n,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ne&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=xo(e),Cc(e,null,i),n}return vo(e,s,n,i),xo(e)}function Si(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,Iu(e,i)}}function As(e,n){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var d=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var T={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?d=m=T:m=m.next=T,i=i.next}while(i!==null);m===null?d=m=n:m=m.next=n}else d=m=n;i={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Ns=!1;function Ei(){if(Ns){var e=Al;if(e!==null)throw e}}function _i(e,n,i,s){Ns=!1;var d=e.updateQueue;xn=!1;var m=d.firstBaseUpdate,T=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var A=_,I=A.next;A.next=null,T===null?m=I:T.next=I,T=A;var G=e.alternate;G!==null&&(G=G.updateQueue,_=G.lastBaseUpdate,_!==T&&(_===null?G.firstBaseUpdate=I:_.next=I,G.lastBaseUpdate=A))}if(m!==null){var H=d.baseState;T=0,G=I=A=null,_=m;do{var U=_.lane&-536870913,L=U!==_.lane;if(L?(Te&U)===U:(s&U)===U){U!==0&&U===Cl&&(Ns=!0),G!==null&&(G=G.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ee=e,se=_;U=n;var De=i;switch(se.tag){case 1:if(ee=se.payload,typeof ee=="function"){H=ee.call(De,H,U);break e}H=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=se.payload,U=typeof ee=="function"?ee.call(De,H,U):ee,U==null)break e;H=S({},H,U);break e;case 2:xn=!0}}U=_.callback,U!==null&&(e.flags|=64,L&&(e.flags|=8192),L=d.callbacks,L===null?d.callbacks=[U]:L.push(U))}else L={lane:U,tag:_.tag,payload:_.payload,callback:_.callback,next:null},G===null?(I=G=L,A=H):G=G.next=L,T|=U;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;L=_,_=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);G===null&&(A=H),d.baseState=A,d.firstBaseUpdate=I,d.lastBaseUpdate=G,m===null&&(d.shared.lanes=0),Nn|=T,e.lanes=T,e.memoizedState=H}}function Bc(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Oc(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Bc(i[e],n)}var Rl=b(null),Mo=b(0);function Fc(e,n){e=an,Z(Mo,e),Z(Rl,n),an=e|n.baseLanes}function bs(){Z(Mo,an),Z(Rl,Rl.current)}function Rs(){an=Mo.current,V(Rl),V(Mo)}var xt=b(null),wt=null;function En(e){var n=e.alternate;Z(Be,Be.current&1),Z(xt,e),wt===null&&(n===null||Rl.current!==null||n.memoizedState!==null)&&(wt=e)}function Ms(e){Z(Be,Be.current),Z(xt,e),wt===null&&(wt=e)}function Jc(e){e.tag===22?(Z(Be,Be.current),Z(xt,e),wt===null&&(wt=e)):_n()}function _n(){Z(Be,Be.current),Z(xt,xt.current)}function Tt(e){V(xt),wt===e&&(wt=null),V(Be)}var Be=b(0);function ko(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Lr(i)||Gr(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $t=0,me=null,we=null,Je=null,wo=!1,Ml=!1,tl=!1,Io=0,Ci=0,kl=null,my=0;function He(){throw Error(a(321))}function ks(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!yt(e[i],n[i]))return!1;return!0}function ws(e,n,i,s,d,m){return $t=m,me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=e===null||e.memoizedState===null?Mf:Ys,tl=!1,m=i(s,d),tl=!1,Ml&&(m=Kc(n,i,s,d)),Yc(e),m}function Yc(e){D.H=bi;var n=we!==null&&we.next!==null;if($t=0,Je=we=me=null,wo=!1,Ci=0,kl=null,n)throw Error(a(300));e===null||Ye||(e=e.dependencies,e!==null&&Eo(e)&&(Ye=!0))}function Kc(e,n,i,s){me=e;var d=0;do{if(Ml&&(kl=null),Ci=0,Ml=!1,25<=d)throw Error(a(301));if(d+=1,Je=we=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}D.H=kf,m=n(i,s)}while(Ml);return m}function py(){var e=D.H,n=e.useState()[0];return n=typeof n.then=="function"?Ai(n):n,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(me.flags|=1024),n}function Is(){var e=Io!==0;return Io=0,e}function Ds(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Us(e){if(wo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}wo=!1}$t=0,Je=we=me=null,Ml=!1,Ci=Io=0,kl=null}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?me.memoizedState=Je=e:Je=Je.next=e,Je}function Oe(){if(we===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var n=Je===null?me.memoizedState:Je.next;if(n!==null)Je=n,we=e;else{if(e===null)throw me.alternate===null?Error(a(467)):Error(a(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Je===null?me.memoizedState=Je=e:Je=Je.next=e}return Je}function Do(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ai(e){var n=Ci;return Ci+=1,kl===null&&(kl=[]),e=qc(kl,e,n),n=me,(Je===null?n.memoizedState:Je.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?Mf:Ys),e}function Uo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ai(e);if(e.$$typeof===O)return je(e)}throw Error(a(438,String(e)))}function Ls(e){var n=null,i=me.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var s=me.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Do(),me.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),s=0;s<e;s++)i[s]=re;return n.index++,i}function Wt(e,n){return typeof n=="function"?n(e):n}function Lo(e){var n=Oe();return Gs(n,we,e)}function Gs(e,n,i){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=i;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var T=d.next;d.next=m.next,m.next=T}n.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var _=T=null,A=null,I=n,G=!1;do{var H=I.lane&-536870913;if(H!==I.lane?(Te&H)===H:($t&H)===H){var U=I.revertLane;if(U===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),H===Cl&&(G=!0);else if(($t&U)===U){I=I.next,U===Cl&&(G=!0);continue}else H={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(_=A=H,T=m):A=A.next=H,me.lanes|=U,Nn|=U;H=I.action,tl&&i(m,H),m=I.hasEagerState?I.eagerState:i(m,H)}else U={lane:H,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(_=A=U,T=m):A=A.next=U,me.lanes|=H,Nn|=H;I=I.next}while(I!==null&&I!==n);if(A===null?T=m:A.next=_,!yt(m,e.memoizedState)&&(Ye=!0,G&&(i=Al,i!==null)))throw i;e.memoizedState=m,e.baseState=T,e.baseQueue=A,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function qs(e){var n=Oe(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var s=i.dispatch,d=i.pending,m=n.memoizedState;if(d!==null){i.pending=null;var T=d=d.next;do m=e(m,T.action),T=T.next;while(T!==d);yt(m,n.memoizedState)||(Ye=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),i.lastRenderedState=m}return[m,s]}function Xc(e,n,i){var s=me,d=Oe(),m=Ee;if(m){if(i===void 0)throw Error(a(407));i=i()}else i=n();var T=!yt((we||d).memoizedState,i);if(T&&(d.memoizedState=i,Ye=!0),d=d.queue,Vs($c.bind(null,s,d,e),[e]),d.getSnapshot!==n||T||Je!==null&&Je.memoizedState.tag&1){if(s.flags|=2048,wl(9,{destroy:void 0},Zc.bind(null,s,d,i,n),null),Ue===null)throw Error(a(349));m||($t&127)!==0||Qc(s,n,i)}return i}function Qc(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=me.updateQueue,n===null?(n=Do(),me.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Zc(e,n,i,s){n.value=i,n.getSnapshot=s,Wc(n)&&jc(e)}function $c(e,n,i){return i(function(){Wc(n)&&jc(e)})}function Wc(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!yt(e,i)}catch{return!0}}function jc(e){var n=Yn(e,2);n!==null&&mt(n,e,2)}function Ps(e){var n=at();if(typeof e=="function"){var i=e;if(e=i(),tl){dn(!0);try{i()}finally{dn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:e},n}function ef(e,n,i,s){return e.baseState=i,Gs(e,we,typeof s=="function"?s:Wt)}function hy(e,n,i,s,d){if(Po(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};D.T!==null?i(!0):m.isTransition=!1,s(m),i=n.pending,i===null?(m.next=n.pending=m,tf(n,m)):(m.next=i.next,n.pending=i.next=m)}}function tf(e,n){var i=n.action,s=n.payload,d=e.state;if(n.isTransition){var m=D.T,T={};D.T=T;try{var _=i(d,s),A=D.S;A!==null&&A(T,_),nf(e,n,_)}catch(I){Hs(e,n,I)}finally{m!==null&&T.types!==null&&(m.types=T.types),D.T=m}}else try{m=i(d,s),nf(e,n,m)}catch(I){Hs(e,n,I)}}function nf(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){lf(e,n,s)},function(s){return Hs(e,n,s)}):lf(e,n,i)}function lf(e,n,i){n.status="fulfilled",n.value=i,of(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,tf(e,i)))}function Hs(e,n,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=i,of(n),n=n.next;while(n!==s)}e.action=null}function of(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function af(e,n){return n}function sf(e,n){if(Ee){var i=Ue.formState;if(i!==null){e:{var s=me;if(Ee){if(Le){t:{for(var d=Le,m=kt;d.nodeType!==8;){if(!m){d=null;break t}if(d=It(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Le=It(d.nextSibling),s=d.data==="F!";break e}}yn(s)}s=!1}s&&(n=i[0])}}return i=at(),i.memoizedState=i.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:af,lastRenderedState:n},i.queue=s,i=Nf.bind(null,me,s),s.dispatch=i,s=Ps(!1),m=Js.bind(null,me,!1,s.queue),s=at(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,i=hy.bind(null,me,d,m,i),d.dispatch=i,s.memoizedState=e,[n,i,!1]}function rf(e){var n=Oe();return uf(n,we,e)}function uf(e,n,i){if(n=Gs(e,n,af)[0],e=Lo(Wt)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Ai(n)}catch(T){throw T===Nl?Ao:T}else s=n;n=Oe();var d=n.queue,m=d.dispatch;return i!==n.memoizedState&&(me.flags|=2048,wl(9,{destroy:void 0},gy.bind(null,d,i),null)),[s,m,e]}function gy(e,n){e.action=n}function cf(e){var n=Oe(),i=we;if(i!==null)return uf(n,i,e);Oe(),n=n.memoizedState,i=Oe();var s=i.queue.dispatch;return i.memoizedState=e,[n,s,!1]}function wl(e,n,i,s){return e={tag:e,create:i,deps:s,inst:n,next:null},n=me.updateQueue,n===null&&(n=Do(),me.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,n.lastEffect=e),e}function ff(){return Oe().memoizedState}function Go(e,n,i,s){var d=at();me.flags|=e,d.memoizedState=wl(1|n,{destroy:void 0},i,s===void 0?null:s)}function qo(e,n,i,s){var d=Oe();s=s===void 0?null:s;var m=d.memoizedState.inst;we!==null&&s!==null&&ks(s,we.memoizedState.deps)?d.memoizedState=wl(n,m,i,s):(me.flags|=e,d.memoizedState=wl(1|n,m,i,s))}function df(e,n){Go(8390656,8,e,n)}function Vs(e,n){qo(2048,8,e,n)}function yy(e){me.flags|=4;var n=me.updateQueue;if(n===null)n=Do(),me.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function mf(e){var n=Oe().memoizedState;return yy({ref:n,nextImpl:e}),function(){if((Ne&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function pf(e,n){return qo(4,2,e,n)}function hf(e,n){return qo(4,4,e,n)}function gf(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function yf(e,n,i){i=i!=null?i.concat([e]):null,qo(4,4,gf.bind(null,n,e),i)}function zs(){}function vf(e,n){var i=Oe();n=n===void 0?null:n;var s=i.memoizedState;return n!==null&&ks(n,s[1])?s[0]:(i.memoizedState=[e,n],e)}function xf(e,n){var i=Oe();n=n===void 0?null:n;var s=i.memoizedState;if(n!==null&&ks(n,s[1]))return s[0];if(s=e(),tl){dn(!0);try{e()}finally{dn(!1)}}return i.memoizedState=[s,n],s}function Bs(e,n,i){return i===void 0||($t&1073741824)!==0&&(Te&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=Td(),me.lanes|=e,Nn|=e,i)}function Tf(e,n,i,s){return yt(i,n)?i:Rl.current!==null?(e=Bs(e,i,s),yt(e,n)||(Ye=!0),e):($t&42)===0||($t&1073741824)!==0&&(Te&261930)===0?(Ye=!0,e.memoizedState=i):(e=Td(),me.lanes|=e,Nn|=e,n)}function Sf(e,n,i,s,d){var m=J.p;J.p=m!==0&&8>m?m:8;var T=D.T,_={};D.T=_,Js(e,!1,n,i);try{var A=d(),I=D.S;if(I!==null&&I(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var G=dy(A,s);Ni(e,n,G,_t(e))}else Ni(e,n,s,_t(e))}catch(H){Ni(e,n,{then:function(){},status:"rejected",reason:H},_t())}finally{J.p=m,T!==null&&_.types!==null&&(T.types=_.types),D.T=T}}function vy(){}function Os(e,n,i,s){if(e.tag!==5)throw Error(a(476));var d=Ef(e).queue;Sf(e,d,n,te,i===null?vy:function(){return _f(e),i(s)})}function Ef(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:te},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function _f(e){var n=Ef(e);n.next===null&&(n=e.alternate.memoizedState),Ni(e,n.next.queue,{},_t())}function Fs(){return je(Oi)}function Cf(){return Oe().memoizedState}function Af(){return Oe().memoizedState}function xy(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=_t();e=Tn(i);var s=Sn(n,e,i);s!==null&&(mt(s,n,i),Si(s,n,i)),n={cache:xs()},e.payload=n;return}n=n.return}}function Ty(e,n,i){var s=_t();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Po(e)?bf(n,i):(i=rs(e,n,i,s),i!==null&&(mt(i,e,s),Rf(i,n,s)))}function Nf(e,n,i){var s=_t();Ni(e,n,i,s)}function Ni(e,n,i,s){var d={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Po(e))bf(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,_=m(T,i);if(d.hasEagerState=!0,d.eagerState=_,yt(_,T))return vo(e,n,d,0),Ue===null&&yo(),!1}catch{}finally{}if(i=rs(e,n,d,s),i!==null)return mt(i,e,s),Rf(i,n,s),!0}return!1}function Js(e,n,i,s){if(s={lane:2,revertLane:_r(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Po(e)){if(n)throw Error(a(479))}else n=rs(e,i,s,2),n!==null&&mt(n,e,2)}function Po(e){var n=e.alternate;return e===me||n!==null&&n===me}function bf(e,n){Ml=wo=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Rf(e,n,i){if((i&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,Iu(e,i)}}var bi={readContext:je,use:Uo,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};bi.useEffectEvent=He;var Mf={readContext:je,use:Uo,useCallback:function(e,n){return at().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:df,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Go(4194308,4,gf.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Go(4194308,4,e,n)},useInsertionEffect:function(e,n){Go(4,2,e,n)},useMemo:function(e,n){var i=at();n=n===void 0?null:n;var s=e();if(tl){dn(!0);try{e()}finally{dn(!1)}}return i.memoizedState=[s,n],s},useReducer:function(e,n,i){var s=at();if(i!==void 0){var d=i(n);if(tl){dn(!0);try{i(n)}finally{dn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=Ty.bind(null,me,e),[s.memoizedState,e]},useRef:function(e){var n=at();return e={current:e},n.memoizedState=e},useState:function(e){e=Ps(e);var n=e.queue,i=Nf.bind(null,me,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:zs,useDeferredValue:function(e,n){var i=at();return Bs(i,e,n)},useTransition:function(){var e=Ps(!1);return e=Sf.bind(null,me,e.queue,!0,!1),at().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var s=me,d=at();if(Ee){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),Ue===null)throw Error(a(349));(Te&127)!==0||Qc(s,n,i)}d.memoizedState=i;var m={value:i,getSnapshot:n};return d.queue=m,df($c.bind(null,s,m,e),[e]),s.flags|=2048,wl(9,{destroy:void 0},Zc.bind(null,s,m,i,n),null),i},useId:function(){var e=at(),n=Ue.identifierPrefix;if(Ee){var i=Vt,s=Ht;i=(s&~(1<<32-gt(s)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Io++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=my++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Fs,useFormState:sf,useActionState:sf,useOptimistic:function(e){var n=at();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Js.bind(null,me,!0,i),i.dispatch=n,[e,n]},useMemoCache:Ls,useCacheRefresh:function(){return at().memoizedState=xy.bind(null,me)},useEffectEvent:function(e){var n=at(),i={impl:e};return n.memoizedState=i,function(){if((Ne&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},Ys={readContext:je,use:Uo,useCallback:vf,useContext:je,useEffect:Vs,useImperativeHandle:yf,useInsertionEffect:pf,useLayoutEffect:hf,useMemo:xf,useReducer:Lo,useRef:ff,useState:function(){return Lo(Wt)},useDebugValue:zs,useDeferredValue:function(e,n){var i=Oe();return Tf(i,we.memoizedState,e,n)},useTransition:function(){var e=Lo(Wt)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:Ai(e),n]},useSyncExternalStore:Xc,useId:Cf,useHostTransitionStatus:Fs,useFormState:rf,useActionState:rf,useOptimistic:function(e,n){var i=Oe();return ef(i,we,e,n)},useMemoCache:Ls,useCacheRefresh:Af};Ys.useEffectEvent=mf;var kf={readContext:je,use:Uo,useCallback:vf,useContext:je,useEffect:Vs,useImperativeHandle:yf,useInsertionEffect:pf,useLayoutEffect:hf,useMemo:xf,useReducer:qs,useRef:ff,useState:function(){return qs(Wt)},useDebugValue:zs,useDeferredValue:function(e,n){var i=Oe();return we===null?Bs(i,e,n):Tf(i,we.memoizedState,e,n)},useTransition:function(){var e=qs(Wt)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:Ai(e),n]},useSyncExternalStore:Xc,useId:Cf,useHostTransitionStatus:Fs,useFormState:cf,useActionState:cf,useOptimistic:function(e,n){var i=Oe();return we!==null?ef(i,we,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Ls,useCacheRefresh:Af};kf.useEffectEvent=mf;function Ks(e,n,i,s){n=e.memoizedState,i=i(s,n),i=i==null?n:S({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Xs={enqueueSetState:function(e,n,i){e=e._reactInternals;var s=_t(),d=Tn(s);d.payload=n,i!=null&&(d.callback=i),n=Sn(e,d,s),n!==null&&(mt(n,e,s),Si(n,e,s))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var s=_t(),d=Tn(s);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Sn(e,d,s),n!==null&&(mt(n,e,s),Si(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=_t(),s=Tn(i);s.tag=2,n!=null&&(s.callback=n),n=Sn(e,s,i),n!==null&&(mt(n,e,i),Si(n,e,i))}};function wf(e,n,i,s,d,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,T):n.prototype&&n.prototype.isPureReactComponent?!mi(i,s)||!mi(d,m):!0}function If(e,n,i,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,s),n.state!==e&&Xs.enqueueReplaceState(n,n.state,null)}function nl(e,n){var i=n;if("ref"in n){i={};for(var s in n)s!=="ref"&&(i[s]=n[s])}if(e=e.defaultProps){i===n&&(i=S({},i));for(var d in e)i[d]===void 0&&(i[d]=e[d])}return i}function Df(e){go(e)}function Uf(e){console.error(e)}function Lf(e){go(e)}function Ho(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Gf(e,n,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Qs(e,n,i){return i=Tn(i),i.tag=3,i.payload={element:null},i.callback=function(){Ho(e,n)},i}function qf(e){return e=Tn(e),e.tag=3,e}function Pf(e,n,i,s){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){Gf(n,i,s)}}var T=i.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Gf(n,i,s),typeof d!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function Sy(e,n,i,s,d){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=i.alternate,n!==null&&_l(n,i,d,!0),i=xt.current,i!==null){switch(i.tag){case 31:case 13:return wt===null?$o():i.alternate===null&&Ve===0&&(Ve=3),i.flags&=-257,i.flags|=65536,i.lanes=d,s===No?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([s]):n.add(s),Tr(e,s,d)),!1;case 22:return i.flags|=65536,s===No?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([s]):i.add(s)),Tr(e,s,d)),!1}throw Error(a(435,i.tag))}return Tr(e,s,d),$o(),!1}if(Ee)return n=xt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==ps&&(e=Error(a(422),{cause:s}),gi(bt(e,i)))):(s!==ps&&(n=Error(a(423),{cause:s}),gi(bt(n,i))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=bt(s,i),d=Qs(e.stateNode,s,d),As(e,d),Ve!==4&&(Ve=2)),!1;var m=Error(a(520),{cause:s});if(m=bt(m,i),Li===null?Li=[m]:Li.push(m),Ve!==4&&(Ve=2),n===null)return!0;s=bt(s,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=d&-d,i.lanes|=e,e=Qs(i.stateNode,s,e),As(i,e),!1;case 1:if(n=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(bn===null||!bn.has(m))))return i.flags|=65536,d&=-d,i.lanes|=d,d=qf(d),Pf(d,e,i,s),As(i,d),!1}i=i.return}while(i!==null);return!1}var Zs=Error(a(461)),Ye=!1;function et(e,n,i,s){n.child=e===null?zc(n,null,i,s):el(n,e.child,i,s)}function Hf(e,n,i,s,d){i=i.render;var m=n.ref;if("ref"in s){var T={};for(var _ in s)_!=="ref"&&(T[_]=s[_])}else T=s;return Zn(n),s=ws(e,n,i,T,m,d),_=Is(),e!==null&&!Ye?(Ds(e,n,d),jt(e,n,d)):(Ee&&_&&ds(n),n.flags|=1,et(e,n,s,d),n.child)}function Vf(e,n,i,s,d){if(e===null){var m=i.type;return typeof m=="function"&&!us(m)&&m.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=m,zf(e,n,m,s,d)):(e=To(i.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!ir(e,d)){var T=m.memoizedProps;if(i=i.compare,i=i!==null?i:mi,i(T,s)&&e.ref===n.ref)return jt(e,n,d)}return n.flags|=1,e=Kt(m,s),e.ref=n.ref,e.return=n,n.child=e}function zf(e,n,i,s,d){if(e!==null){var m=e.memoizedProps;if(mi(m,s)&&e.ref===n.ref)if(Ye=!1,n.pendingProps=s=m,ir(e,d))(e.flags&131072)!==0&&(Ye=!0);else return n.lanes=e.lanes,jt(e,n,d)}return $s(e,n,i,s,d)}function Bf(e,n,i,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,n.child=null;return Of(e,n,m,i,s)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Co(n,m!==null?m.cachePool:null),m!==null?Fc(n,m):bs(),Jc(n);else return s=n.lanes=536870912,Of(e,n,m!==null?m.baseLanes|i:i,i,s)}else m!==null?(Co(n,m.cachePool),Fc(n,m),_n(),n.memoizedState=null):(e!==null&&Co(n,null),bs(),_n());return et(e,n,d,i),n.child}function Ri(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Of(e,n,i,s,d){var m=Ss();return m=m===null?null:{parent:Fe._currentValue,pool:m},n.memoizedState={baseLanes:i,cachePool:m},e!==null&&Co(n,null),bs(),Jc(n),e!==null&&_l(e,n,s,!0),n.childLanes=d,null}function Vo(e,n){return n=Bo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ff(e,n,i){return el(n,e.child,null,i),e=Vo(n,n.pendingProps),e.flags|=2,Tt(n),n.memoizedState=null,e}function Ey(e,n,i){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ee){if(s.mode==="hidden")return e=Vo(n,s),n.lanes=536870912,Ri(null,e);if(Ms(n),(e=Le)?(e=nm(e,kt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:hn!==null?{id:Ht,overflow:Vt}:null,retryLane:536870912,hydrationErrors:null},i=Nc(e),i.return=n,n.child=i,We=n,Le=null)):e=null,e===null)throw yn(n);return n.lanes=536870912,null}return Vo(n,s)}var m=e.memoizedState;if(m!==null){var T=m.dehydrated;if(Ms(n),d)if(n.flags&256)n.flags&=-257,n=Ff(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ye||_l(e,n,i,!1),d=(i&e.childLanes)!==0,Ye||d){if(s=Ue,s!==null&&(T=Du(s,i),T!==0&&T!==m.retryLane))throw m.retryLane=T,Yn(e,T),mt(s,e,T),Zs;$o(),n=Ff(e,n,i)}else e=m.treeContext,Le=It(T.nextSibling),We=n,Ee=!0,gn=null,kt=!1,e!==null&&Mc(n,e),n=Vo(n,s),n.flags|=4096;return n}return e=Kt(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function zo(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function $s(e,n,i,s,d){return Zn(n),i=ws(e,n,i,s,void 0,d),s=Is(),e!==null&&!Ye?(Ds(e,n,d),jt(e,n,d)):(Ee&&s&&ds(n),n.flags|=1,et(e,n,i,d),n.child)}function Jf(e,n,i,s,d,m){return Zn(n),n.updateQueue=null,i=Kc(n,s,i,d),Yc(e),s=Is(),e!==null&&!Ye?(Ds(e,n,m),jt(e,n,m)):(Ee&&s&&ds(n),n.flags|=1,et(e,n,i,m),n.child)}function Yf(e,n,i,s,d){if(Zn(n),n.stateNode===null){var m=xl,T=i.contextType;typeof T=="object"&&T!==null&&(m=je(T)),m=new i(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Xs,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},_s(n),T=i.contextType,m.context=typeof T=="object"&&T!==null?je(T):xl,m.state=n.memoizedState,T=i.getDerivedStateFromProps,typeof T=="function"&&(Ks(n,i,T,s),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Xs.enqueueReplaceState(m,m.state,null),_i(n,s,m,d),Ei(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var _=n.memoizedProps,A=nl(i,_);m.props=A;var I=m.context,G=i.contextType;T=xl,typeof G=="object"&&G!==null&&(T=je(G));var H=i.getDerivedStateFromProps;G=typeof H=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,G||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||I!==T)&&If(n,m,s,T),xn=!1;var U=n.memoizedState;m.state=U,_i(n,s,m,d),Ei(),I=n.memoizedState,_||U!==I||xn?(typeof H=="function"&&(Ks(n,i,H,s),I=n.memoizedState),(A=xn||wf(n,i,A,s,U,I,T))?(G||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=I),m.props=s,m.state=I,m.context=T,s=A):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,Cs(e,n),T=n.memoizedProps,G=nl(i,T),m.props=G,H=n.pendingProps,U=m.context,I=i.contextType,A=xl,typeof I=="object"&&I!==null&&(A=je(I)),_=i.getDerivedStateFromProps,(I=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==H||U!==A)&&If(n,m,s,A),xn=!1,U=n.memoizedState,m.state=U,_i(n,s,m,d),Ei();var L=n.memoizedState;T!==H||U!==L||xn||e!==null&&e.dependencies!==null&&Eo(e.dependencies)?(typeof _=="function"&&(Ks(n,i,_,s),L=n.memoizedState),(G=xn||wf(n,i,G,s,U,L,A)||e!==null&&e.dependencies!==null&&Eo(e.dependencies))?(I||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,L,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,L,A)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=L),m.props=s,m.state=L,m.context=A,s=G):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,zo(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=el(n,e.child,null,d),n.child=el(n,null,i,d)):et(e,n,i,d),n.memoizedState=m.state,e=n.child):e=jt(e,n,d),e}function Kf(e,n,i,s){return Xn(),n.flags|=256,et(e,n,i,s),n.child}var Ws={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function js(e){return{baseLanes:e,cachePool:Lc()}}function er(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Et),e}function Xf(e,n,i){var s=n.pendingProps,d=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(Be.current&2)!==0),T&&(d=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ee){if(d?En(n):_n(),(e=Le)?(e=nm(e,kt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:hn!==null?{id:Ht,overflow:Vt}:null,retryLane:536870912,hydrationErrors:null},i=Nc(e),i.return=n,n.child=i,We=n,Le=null)):e=null,e===null)throw yn(n);return Gr(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(_n(),d=n.mode,_=Bo({mode:"hidden",children:_},d),s=Kn(s,d,i,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=js(i),s.childLanes=er(e,T,i),n.memoizedState=Ws,Ri(null,s)):(En(n),tr(n,_))}var A=e.memoizedState;if(A!==null&&(_=A.dehydrated,_!==null)){if(m)n.flags&256?(En(n),n.flags&=-257,n=nr(e,n,i)):n.memoizedState!==null?(_n(),n.child=e.child,n.flags|=128,n=null):(_n(),_=s.fallback,d=n.mode,s=Bo({mode:"visible",children:s.children},d),_=Kn(_,d,i,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,el(n,e.child,null,i),s=n.child,s.memoizedState=js(i),s.childLanes=er(e,T,i),n.memoizedState=Ws,n=Ri(null,s));else if(En(n),Gr(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var I=T.dgst;T=I,s=Error(a(419)),s.stack="",s.digest=T,gi({value:s,source:null,stack:null}),n=nr(e,n,i)}else if(Ye||_l(e,n,i,!1),T=(i&e.childLanes)!==0,Ye||T){if(T=Ue,T!==null&&(s=Du(T,i),s!==0&&s!==A.retryLane))throw A.retryLane=s,Yn(e,s),mt(T,e,s),Zs;Lr(_)||$o(),n=nr(e,n,i)}else Lr(_)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,Le=It(_.nextSibling),We=n,Ee=!0,gn=null,kt=!1,e!==null&&Mc(n,e),n=tr(n,s.children),n.flags|=4096);return n}return d?(_n(),_=s.fallback,d=n.mode,A=e.child,I=A.sibling,s=Kt(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,I!==null?_=Kt(I,_):(_=Kn(_,d,i,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,Ri(null,s),s=n.child,_=e.child.memoizedState,_===null?_=js(i):(d=_.cachePool,d!==null?(A=Fe._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=Lc(),_={baseLanes:_.baseLanes|i,cachePool:d}),s.memoizedState=_,s.childLanes=er(e,T,i),n.memoizedState=Ws,Ri(e.child,s)):(En(n),i=e.child,e=i.sibling,i=Kt(i,{mode:"visible",children:s.children}),i.return=n,i.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=i,n.memoizedState=null,i)}function tr(e,n){return n=Bo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bo(e,n){return e=vt(22,e,null,n),e.lanes=0,e}function nr(e,n,i){return el(n,e.child,null,i),e=tr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Qf(e,n,i){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),ys(e.return,n,i)}function lr(e,n,i,s,d,m){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:d,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=i,T.tailMode=d,T.treeForkCount=m)}function Zf(e,n,i){var s=n.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var T=Be.current,_=(T&2)!==0;if(_?(T=T&1|2,n.flags|=128):T&=1,Z(Be,T),et(e,n,s,i),s=Ee?hi:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qf(e,i,n);else if(e.tag===19)Qf(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&ko(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),lr(n,!1,d,i,m,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&ko(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}lr(n,!0,i,null,m,s);break;case"together":lr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function jt(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Nn|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(_l(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,i=Kt(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Kt(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function ir(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Eo(e)))}function _y(e,n,i){switch(n.tag){case 3:ot(n,n.stateNode.containerInfo),vn(n,Fe,e.memoizedState.cache),Xn();break;case 27:case 5:ei(n);break;case 4:ot(n,n.stateNode.containerInfo);break;case 10:vn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ms(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(En(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Xf(e,n,i):(En(n),e=jt(e,n,i),e!==null?e.sibling:null);En(n);break;case 19:var d=(e.flags&128)!==0;if(s=(i&n.childLanes)!==0,s||(_l(e,n,i,!1),s=(i&n.childLanes)!==0),d){if(s)return Zf(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Z(Be,Be.current),s)break;return null;case 22:return n.lanes=0,Bf(e,n,i,n.pendingProps);case 24:vn(n,Fe,e.memoizedState.cache)}return jt(e,n,i)}function $f(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ye=!0;else{if(!ir(e,i)&&(n.flags&128)===0)return Ye=!1,_y(e,n,i);Ye=(e.flags&131072)!==0}else Ye=!1,Ee&&(n.flags&1048576)!==0&&Rc(n,hi,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=Wn(n.elementType),n.type=e,typeof e=="function")us(e)?(s=nl(e,s),n.tag=1,n=Yf(null,n,e,s,i)):(n.tag=0,n=$s(null,n,e,s,i));else{if(e!=null){var d=e.$$typeof;if(d===F){n.tag=11,n=Hf(null,n,e,s,i);break e}else if(d===Q){n.tag=14,n=Vf(null,n,e,s,i);break e}}throw n=ae(e)||e,Error(a(306,n,""))}}return n;case 0:return $s(e,n,n.type,n.pendingProps,i);case 1:return s=n.type,d=nl(s,n.pendingProps),Yf(e,n,s,d,i);case 3:e:{if(ot(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;d=m.element,Cs(e,n),_i(n,s,null,i);var T=n.memoizedState;if(s=T.cache,vn(n,Fe,s),s!==m.cache&&vs(n,[Fe],i,!0),Ei(),s=T.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Kf(e,n,s,i);break e}else if(s!==d){d=bt(Error(a(424)),n),gi(d),n=Kf(e,n,s,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=It(e.firstChild),We=n,Ee=!0,gn=null,kt=!0,i=zc(n,null,s,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Xn(),s===d){n=jt(e,n,i);break e}et(e,n,s,i)}n=n.child}return n;case 26:return zo(e,n),e===null?(i=rm(n.type,null,n.pendingProps,null))?n.memoizedState=i:Ee||(i=n.type,e=n.pendingProps,s=ia(ue.current).createElement(i),s[$e]=n,s[st]=e,tt(s,i,e),Qe(s),n.stateNode=s):n.memoizedState=rm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ei(n),e===null&&Ee&&(s=n.stateNode=om(n.type,n.pendingProps,ue.current),We=n,kt=!0,d=Le,wn(n.type)?(qr=d,Le=It(s.firstChild)):Le=d),et(e,n,n.pendingProps.children,i),zo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ee&&((d=s=Le)&&(s=jy(s,n.type,n.pendingProps,kt),s!==null?(n.stateNode=s,We=n,Le=It(s.firstChild),kt=!1,d=!0):d=!1),d||yn(n)),ei(n),d=n.type,m=n.pendingProps,T=e!==null?e.memoizedProps:null,s=m.children,Ir(d,m)?s=null:T!==null&&Ir(d,T)&&(n.flags|=32),n.memoizedState!==null&&(d=ws(e,n,py,null,null,i),Oi._currentValue=d),zo(e,n),et(e,n,s,i),n.child;case 6:return e===null&&Ee&&((e=i=Le)&&(i=ev(i,n.pendingProps,kt),i!==null?(n.stateNode=i,We=n,Le=null,e=!0):e=!1),e||yn(n)),null;case 13:return Xf(e,n,i);case 4:return ot(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=el(n,null,s,i):et(e,n,s,i),n.child;case 11:return Hf(e,n,n.type,n.pendingProps,i);case 7:return et(e,n,n.pendingProps,i),n.child;case 8:return et(e,n,n.pendingProps.children,i),n.child;case 12:return et(e,n,n.pendingProps.children,i),n.child;case 10:return s=n.pendingProps,vn(n,n.type,s.value),et(e,n,s.children,i),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,Zn(n),d=je(d),s=s(d),n.flags|=1,et(e,n,s,i),n.child;case 14:return Vf(e,n,n.type,n.pendingProps,i);case 15:return zf(e,n,n.type,n.pendingProps,i);case 19:return Zf(e,n,i);case 31:return Ey(e,n,i);case 22:return Bf(e,n,i,n.pendingProps);case 24:return Zn(n),s=je(Fe),e===null?(d=Ss(),d===null&&(d=Ue,m=xs(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=i),d=m),n.memoizedState={parent:s,cache:d},_s(n),vn(n,Fe,d)):((e.lanes&i)!==0&&(Cs(e,n),_i(n,null,null,i),Ei()),d=e.memoizedState,m=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),vn(n,Fe,s)):(s=m.cache,vn(n,Fe,s),s!==d.cache&&vs(n,[Fe],i,!0))),et(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function en(e){e.flags|=4}function or(e,n,i,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Cd())e.flags|=8192;else throw jn=No,Es}else e.flags&=-16777217}function Wf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!mm(n))if(Cd())e.flags|=8192;else throw jn=No,Es}function Oo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ku():536870912,e.lanes|=n,Ll|=n)}function Mi(e,n){if(!Ee)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=i,n}function Cy(e,n,i){var s=n.pendingProps;switch(ms(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return Ge(n),null;case 3:return i=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Zt(Fe),ze(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(El(n)?en(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hs())),Ge(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(en(n),m!==null?(Ge(n),Wf(n,m)):(Ge(n),or(n,d,null,s,i))):m?m!==e.memoizedState?(en(n),Ge(n),Wf(n,m)):(Ge(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&en(n),Ge(n),or(n,d,e,s,i)),null;case 27:if(ji(n),i=ue.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&en(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}e=j.current,El(n)?kc(n):(e=om(d,s,i),n.stateNode=e,en(n))}return Ge(n),null;case 5:if(ji(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&en(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}if(m=j.current,El(n))kc(n);else{var T=ia(ue.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?T.createElement(d,{is:s.is}):T.createElement(d)}}m[$e]=n,m[st]=s;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(tt(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&en(n)}}return Ge(n),or(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&en(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=ue.current,El(n)){if(e=n.stateNode,i=n.memoizedProps,s=null,d=We,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[$e]=n,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Xd(e.nodeValue,i)),e||yn(n,!0)}else e=ia(e).createTextNode(s),e[$e]=n,n.stateNode=e}return Ge(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(s=El(n),i!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[$e]=n}else Xn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),e=!1}else i=hs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Tt(n),n):(Tt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Ge(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=El(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[$e]=n}else Xn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),d=!1}else d=hs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Tt(n),n):(Tt(n),null)}return Tt(n),(n.flags&128)!==0?(n.lanes=i,n):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),Oo(n,n.updateQueue),Ge(n),null);case 4:return ze(),e===null&&br(n.stateNode.containerInfo),Ge(n),null;case 10:return Zt(n.type),Ge(n),null;case 19:if(V(Be),s=n.memoizedState,s===null)return Ge(n),null;if(d=(n.flags&128)!==0,m=s.rendering,m===null)if(d)Mi(s,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=ko(e),m!==null){for(n.flags|=128,Mi(s,!1),e=m.updateQueue,n.updateQueue=e,Oo(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Ac(i,e),i=i.sibling;return Z(Be,Be.current&1|2),Ee&&Xt(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&pt()>Xo&&(n.flags|=128,d=!0,Mi(s,!1),n.lanes=4194304)}else{if(!d)if(e=ko(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,Oo(n,e),Mi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!Ee)return Ge(n),null}else 2*pt()-s.renderingStartTime>Xo&&i!==536870912&&(n.flags|=128,d=!0,Mi(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pt(),e.sibling=null,i=Be.current,Z(Be,d?i&1|2:i&1),Ee&&Xt(n,s.treeForkCount),e):(Ge(n),null);case 22:case 23:return Tt(n),Rs(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(i&536870912)!==0&&(n.flags&128)===0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),i=n.updateQueue,i!==null&&Oo(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(n.flags|=2048),e!==null&&V($n),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Zt(Fe),Ge(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Ay(e,n){switch(ms(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Zt(Fe),ze(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ji(n),null;case 31:if(n.memoizedState!==null){if(Tt(n),n.alternate===null)throw Error(a(340));Xn()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Tt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Xn()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return V(Be),null;case 4:return ze(),null;case 10:return Zt(n.type),null;case 22:case 23:return Tt(n),Rs(),e!==null&&V($n),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Zt(Fe),null;case 25:return null;default:return null}}function jf(e,n){switch(ms(n),n.tag){case 3:Zt(Fe),ze();break;case 26:case 27:case 5:ji(n);break;case 4:ze();break;case 31:n.memoizedState!==null&&Tt(n);break;case 13:Tt(n);break;case 19:V(Be);break;case 10:Zt(n.type);break;case 22:case 23:Tt(n),Rs(),e!==null&&V($n);break;case 24:Zt(Fe)}}function ki(e,n){try{var i=n.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var d=s.next;i=d;do{if((i.tag&e)===e){s=void 0;var m=i.create,T=i.inst;s=m(),T.destroy=s}i=i.next}while(i!==d)}}catch(_){ke(n,n.return,_)}}function Cn(e,n,i){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var T=s.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,d=n;var A=i,I=_;try{I()}catch(G){ke(d,A,G)}}}s=s.next}while(s!==m)}}catch(G){ke(n,n.return,G)}}function ed(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Oc(n,i)}catch(s){ke(e,e.return,s)}}}function td(e,n,i){i.props=nl(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){ke(e,n,s)}}function wi(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(d){ke(e,n,d)}}function zt(e,n){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(d){ke(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){ke(e,n,d)}else i.current=null}function nd(e){var n=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(d){ke(e,e.return,d)}}function ar(e,n,i){try{var s=e.stateNode;Ky(s,e.type,i,n),s[st]=n}catch(d){ke(e,e.return,d)}}function ld(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&wn(e.type)||e.tag===4}function sr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ld(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&wn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rr(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Jt));else if(s!==4&&(s===27&&wn(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(rr(e,n,i),e=e.sibling;e!==null;)rr(e,n,i),e=e.sibling}function Fo(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(s!==4&&(s===27&&wn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Fo(e,n,i),e=e.sibling;e!==null;)Fo(e,n,i),e=e.sibling}function id(e){var n=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);tt(n,s,i),n[$e]=e,n[st]=i}catch(m){ke(e,e.return,m)}}var tn=!1,Ke=!1,ur=!1,od=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Ny(e,n){if(e=e.containerInfo,kr=fa,e=gc(e),ns(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var T=0,_=-1,A=-1,I=0,G=0,H=e,U=null;t:for(;;){for(var L;H!==i||d!==0&&H.nodeType!==3||(_=T+d),H!==m||s!==0&&H.nodeType!==3||(A=T+s),H.nodeType===3&&(T+=H.nodeValue.length),(L=H.firstChild)!==null;)U=H,H=L;for(;;){if(H===e)break t;if(U===i&&++I===d&&(_=T),U===m&&++G===s&&(A=T),(L=H.nextSibling)!==null)break;H=U,U=H.parentNode}H=L}i=_===-1||A===-1?null:{start:_,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(wr={focusedElem:e,selectionRange:i},fa=!1,Ze=n;Ze!==null;)if(n=Ze,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ze=e;else for(;Ze!==null;){switch(n=Ze,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)d=e[i],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,i=n,d=m.memoizedProps,m=m.memoizedState,s=i.stateNode;try{var ee=nl(i.type,d);e=s.getSnapshotBeforeUpdate(ee,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(se){ke(i,i.return,se)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Ur(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ur(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ze=e;break}Ze=n.return}}function ad(e,n,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:ln(e,i),s&4&&ki(5,i);break;case 1:if(ln(e,i),s&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(T){ke(i,i.return,T)}else{var d=nl(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){ke(i,i.return,T)}}s&64&&ed(i),s&512&&wi(i,i.return);break;case 3:if(ln(e,i),s&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Oc(e,n)}catch(T){ke(i,i.return,T)}}break;case 27:n===null&&s&4&&id(i);case 26:case 5:ln(e,i),n===null&&s&4&&nd(i),s&512&&wi(i,i.return);break;case 12:ln(e,i);break;case 31:ln(e,i),s&4&&ud(e,i);break;case 13:ln(e,i),s&4&&cd(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Ly.bind(null,i),tv(e,i))));break;case 22:if(s=i.memoizedState!==null||tn,!s){n=n!==null&&n.memoizedState!==null||Ke,d=tn;var m=Ke;tn=s,(Ke=n)&&!m?on(e,i,(i.subtreeFlags&8772)!==0):ln(e,i),tn=d,Ke=m}break;case 30:break;default:ln(e,i)}}function sd(e){var n=e.alternate;n!==null&&(e.alternate=null,sd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ha(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,ut=!1;function nn(e,n,i){for(i=i.child;i!==null;)rd(e,n,i),i=i.sibling}function rd(e,n,i){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(ti,i)}catch{}switch(i.tag){case 26:Ke||zt(i,n),nn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ke||zt(i,n);var s=Pe,d=ut;wn(i.type)&&(Pe=i.stateNode,ut=!1),nn(e,n,i),Vi(i.stateNode),Pe=s,ut=d;break;case 5:Ke||zt(i,n);case 6:if(s=Pe,d=ut,Pe=null,nn(e,n,i),Pe=s,ut=d,Pe!==null)if(ut)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(i.stateNode)}catch(m){ke(i,n,m)}else try{Pe.removeChild(i.stateNode)}catch(m){ke(i,n,m)}break;case 18:Pe!==null&&(ut?(e=Pe,em(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ol(e)):em(Pe,i.stateNode));break;case 4:s=Pe,d=ut,Pe=i.stateNode.containerInfo,ut=!0,nn(e,n,i),Pe=s,ut=d;break;case 0:case 11:case 14:case 15:Cn(2,i,n),Ke||Cn(4,i,n),nn(e,n,i);break;case 1:Ke||(zt(i,n),s=i.stateNode,typeof s.componentWillUnmount=="function"&&td(i,n,s)),nn(e,n,i);break;case 21:nn(e,n,i);break;case 22:Ke=(s=Ke)||i.memoizedState!==null,nn(e,n,i),Ke=s;break;default:nn(e,n,i)}}function ud(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ol(e)}catch(i){ke(n,n.return,i)}}}function cd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ol(e)}catch(i){ke(n,n.return,i)}}function by(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new od),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new od),n;default:throw Error(a(435,e.tag))}}function Jo(e,n){var i=by(e);n.forEach(function(s){if(!i.has(s)){i.add(s);var d=Gy.bind(null,e,s);s.then(d,d)}})}function ct(e,n){var i=n.deletions;if(i!==null)for(var s=0;s<i.length;s++){var d=i[s],m=e,T=n,_=T;e:for(;_!==null;){switch(_.tag){case 27:if(wn(_.type)){Pe=_.stateNode,ut=!1;break e}break;case 5:Pe=_.stateNode,ut=!1;break e;case 3:case 4:Pe=_.stateNode.containerInfo,ut=!0;break e}_=_.return}if(Pe===null)throw Error(a(160));rd(m,T,d),Pe=null,ut=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fd(n,e),n=n.sibling}var Gt=null;function fd(e,n){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ct(n,e),ft(e),s&4&&(Cn(3,e,e.return),ki(3,e),Cn(5,e,e.return));break;case 1:ct(n,e),ft(e),s&512&&(Ke||i===null||zt(i,i.return)),s&64&&tn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var d=Gt;if(ct(n,e),ft(e),s&512&&(Ke||i===null||zt(i,i.return)),s&4){var m=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[ii]||m[$e]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),tt(m,s,i),m[$e]=e,Qe(m),s=m;break e;case"link":var T=fm("link","href",d).get(s+(i.href||""));if(T){for(var _=0;_<T.length;_++)if(m=T[_],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){T.splice(_,1);break t}}m=d.createElement(s),tt(m,s,i),d.head.appendChild(m);break;case"meta":if(T=fm("meta","content",d).get(s+(i.content||""))){for(_=0;_<T.length;_++)if(m=T[_],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){T.splice(_,1);break t}}m=d.createElement(s),tt(m,s,i),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[$e]=e,Qe(m),s=m}e.stateNode=s}else dm(d,e.type,e.stateNode);else e.stateNode=cm(d,s,e.memoizedProps);else m!==s?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,s===null?dm(d,e.type,e.stateNode):cm(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&ar(e,e.memoizedProps,i.memoizedProps)}break;case 27:ct(n,e),ft(e),s&512&&(Ke||i===null||zt(i,i.return)),i!==null&&s&4&&ar(e,e.memoizedProps,i.memoizedProps);break;case 5:if(ct(n,e),ft(e),s&512&&(Ke||i===null||zt(i,i.return)),e.flags&32){d=e.stateNode;try{dl(d,"")}catch(ee){ke(e,e.return,ee)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,ar(e,d,i!==null?i.memoizedProps:d)),s&1024&&(ur=!0);break;case 6:if(ct(n,e),ft(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(ee){ke(e,e.return,ee)}}break;case 3:if(sa=null,d=Gt,Gt=oa(n.containerInfo),ct(n,e),Gt=d,ft(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Ol(n.containerInfo)}catch(ee){ke(e,e.return,ee)}ur&&(ur=!1,dd(e));break;case 4:s=Gt,Gt=oa(e.stateNode.containerInfo),ct(n,e),ft(e),Gt=s;break;case 12:ct(n,e),ft(e);break;case 31:ct(n,e),ft(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Jo(e,s)));break;case 13:ct(n,e),ft(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Ko=pt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Jo(e,s)));break;case 22:d=e.memoizedState!==null;var A=i!==null&&i.memoizedState!==null,I=tn,G=Ke;if(tn=I||d,Ke=G||A,ct(n,e),Ke=G,tn=I,ft(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(i===null||A||tn||Ke||ll(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){A=i=n;try{if(m=A.stateNode,d)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=A.stateNode;var H=A.memoizedProps.style,U=H!=null&&H.hasOwnProperty("display")?H.display:null;_.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(ee){ke(A,A.return,ee)}}}else if(n.tag===6){if(i===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(ee){ke(A,A.return,ee)}}}else if(n.tag===18){if(i===null){A=n;try{var L=A.stateNode;d?tm(L,!0):tm(A.stateNode,!1)}catch(ee){ke(A,A.return,ee)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,Jo(e,i))));break;case 19:ct(n,e),ft(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Jo(e,s)));break;case 30:break;case 21:break;default:ct(n,e),ft(e)}}function ft(e){var n=e.flags;if(n&2){try{for(var i,s=e.return;s!==null;){if(ld(s)){i=s;break}s=s.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var d=i.stateNode,m=sr(e);Fo(e,m,d);break;case 5:var T=i.stateNode;i.flags&32&&(dl(T,""),i.flags&=-33);var _=sr(e);Fo(e,_,T);break;case 3:case 4:var A=i.stateNode.containerInfo,I=sr(e);rr(e,I,A);break;default:throw Error(a(161))}}catch(G){ke(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function dd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;dd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ln(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ad(e,n.alternate,n),n=n.sibling}function ll(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cn(4,n,n.return),ll(n);break;case 1:zt(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&td(n,n.return,i),ll(n);break;case 27:Vi(n.stateNode);case 26:case 5:zt(n,n.return),ll(n);break;case 22:n.memoizedState===null&&ll(n);break;case 30:ll(n);break;default:ll(n)}e=e.sibling}}function on(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:on(d,m,i),ki(4,m);break;case 1:if(on(d,m,i),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(I){ke(s,s.return,I)}if(s=m,d=s.updateQueue,d!==null){var _=s.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Bc(A[d],_)}catch(I){ke(s,s.return,I)}}i&&T&64&&ed(m),wi(m,m.return);break;case 27:id(m);case 26:case 5:on(d,m,i),i&&s===null&&T&4&&nd(m),wi(m,m.return);break;case 12:on(d,m,i);break;case 31:on(d,m,i),i&&T&4&&ud(d,m);break;case 13:on(d,m,i),i&&T&4&&cd(d,m);break;case 22:m.memoizedState===null&&on(d,m,i),wi(m,m.return);break;case 30:break;default:on(d,m,i)}n=n.sibling}}function cr(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&yi(i))}function fr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&yi(e))}function qt(e,n,i,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)md(e,n,i,s),n=n.sibling}function md(e,n,i,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:qt(e,n,i,s),d&2048&&ki(9,n);break;case 1:qt(e,n,i,s);break;case 3:qt(e,n,i,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&yi(e)));break;case 12:if(d&2048){qt(e,n,i,s),e=n.stateNode;try{var m=n.memoizedProps,T=m.id,_=m.onPostCommit;typeof _=="function"&&_(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){ke(n,n.return,A)}}else qt(e,n,i,s);break;case 31:qt(e,n,i,s);break;case 13:qt(e,n,i,s);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?qt(e,n,i,s):Ii(e,n):m._visibility&2?qt(e,n,i,s):(m._visibility|=2,Il(e,n,i,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&cr(T,n);break;case 24:qt(e,n,i,s),d&2048&&fr(n.alternate,n);break;default:qt(e,n,i,s)}}function Il(e,n,i,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,T=n,_=i,A=s,I=T.flags;switch(T.tag){case 0:case 11:case 15:Il(m,T,_,A,d),ki(8,T);break;case 23:break;case 22:var G=T.stateNode;T.memoizedState!==null?G._visibility&2?Il(m,T,_,A,d):Ii(m,T):(G._visibility|=2,Il(m,T,_,A,d)),d&&I&2048&&cr(T.alternate,T);break;case 24:Il(m,T,_,A,d),d&&I&2048&&fr(T.alternate,T);break;default:Il(m,T,_,A,d)}n=n.sibling}}function Ii(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,s=n,d=s.flags;switch(s.tag){case 22:Ii(i,s),d&2048&&cr(s.alternate,s);break;case 24:Ii(i,s),d&2048&&fr(s.alternate,s);break;default:Ii(i,s)}n=n.sibling}}var Di=8192;function Dl(e,n,i){if(e.subtreeFlags&Di)for(e=e.child;e!==null;)pd(e,n,i),e=e.sibling}function pd(e,n,i){switch(e.tag){case 26:Dl(e,n,i),e.flags&Di&&e.memoizedState!==null&&mv(i,Gt,e.memoizedState,e.memoizedProps);break;case 5:Dl(e,n,i);break;case 3:case 4:var s=Gt;Gt=oa(e.stateNode.containerInfo),Dl(e,n,i),Gt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Di,Di=16777216,Dl(e,n,i),Di=s):Dl(e,n,i));break;default:Dl(e,n,i)}}function hd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ui(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];Ze=s,yd(s,e)}hd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gd(e),e=e.sibling}function gd(e){switch(e.tag){case 0:case 11:case 15:Ui(e),e.flags&2048&&Cn(9,e,e.return);break;case 3:Ui(e);break;case 12:Ui(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Yo(e)):Ui(e);break;default:Ui(e)}}function Yo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];Ze=s,yd(s,e)}hd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cn(8,n,n.return),Yo(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Yo(n));break;default:Yo(n)}e=e.sibling}}function yd(e,n){for(;Ze!==null;){var i=Ze;switch(i.tag){case 0:case 11:case 15:Cn(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:yi(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,Ze=s;else e:for(i=e;Ze!==null;){s=Ze;var d=s.sibling,m=s.return;if(sd(s),s===i){Ze=null;break e}if(d!==null){d.return=m,Ze=d;break e}Ze=m}}}var Ry={getCacheForType:function(e){var n=je(Fe),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return je(Fe).controller.signal}},My=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Ue=null,ye=null,Te=0,Me=0,St=null,An=!1,Ul=!1,dr=!1,an=0,Ve=0,Nn=0,il=0,mr=0,Et=0,Ll=0,Li=null,dt=null,pr=!1,Ko=0,vd=0,Xo=1/0,Qo=null,bn=null,Xe=0,Rn=null,Gl=null,sn=0,hr=0,gr=null,xd=null,Gi=0,yr=null;function _t(){return(Ne&2)!==0&&Te!==0?Te&-Te:D.T!==null?_r():Uu()}function Td(){if(Et===0)if((Te&536870912)===0||Ee){var e=no;no<<=1,(no&3932160)===0&&(no=262144),Et=e}else Et=536870912;return e=xt.current,e!==null&&(e.flags|=32),Et}function mt(e,n,i){(e===Ue&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(ql(e,0),Mn(e,Te,Et,!1)),li(e,i),((Ne&2)===0||e!==Ue)&&(e===Ue&&((Ne&2)===0&&(il|=i),Ve===4&&Mn(e,Te,Et,!1)),Bt(e))}function Sd(e,n,i){if((Ne&6)!==0)throw Error(a(327));var s=!i&&(n&127)===0&&(n&e.expiredLanes)===0||ni(e,n),d=s?Iy(e,n):xr(e,n,!0),m=s;do{if(d===0){Ul&&!s&&Mn(e,n,0,!1);break}else{if(i=e.current.alternate,m&&!ky(i)){d=xr(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var _=e;d=Li;var A=_.current.memoizedState.isDehydrated;if(A&&(ql(_,T).flags|=256),T=xr(_,T,!1),T!==2){if(dr&&!A){_.errorRecoveryDisabledLanes|=m,il|=m,d=4;break e}m=dt,dt=d,m!==null&&(dt===null?dt=m:dt.push.apply(dt,m))}d=T}if(m=!1,d!==2)continue}}if(d===1){ql(e,0),Mn(e,n,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Mn(s,n,Et,!An);break e;case 2:dt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=Ko+300-pt(),10<d)){if(Mn(s,n,Et,!An),io(s,0,!0)!==0)break e;sn=n,s.timeoutHandle=Wd(Ed.bind(null,s,i,dt,Qo,pr,n,Et,il,Ll,An,m,"Throttled",-0,0),d);break e}Ed(s,i,dt,Qo,pr,n,Et,il,Ll,An,m,null,-0,0)}}break}while(!0);Bt(e)}function Ed(e,n,i,s,d,m,T,_,A,I,G,H,U,L){if(e.timeoutHandle=-1,H=n.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jt},pd(n,m,H);var ee=(m&62914560)===m?Ko-pt():(m&4194048)===m?vd-pt():0;if(ee=pv(H,ee),ee!==null){sn=m,e.cancelPendingCommit=ee(kd.bind(null,e,n,m,i,s,d,T,_,A,G,H,null,U,L)),Mn(e,m,T,!I);return}}kd(e,n,m,i,s,d,T,_,A)}function ky(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var d=i[s],m=d.getSnapshot;d=d.value;try{if(!yt(m(),d))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Mn(e,n,i,s){n&=~mr,n&=~il,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var m=31-gt(d),T=1<<m;s[m]=-1,d&=~T}i!==0&&wu(e,i,n)}function Zo(){return(Ne&6)===0?(qi(0),!1):!0}function vr(){if(ye!==null){if(Me===0)var e=ye.return;else e=ye,Qt=Qn=null,Us(e),bl=null,xi=0,e=ye;for(;e!==null;)jf(e.alternate,e),e=e.return;ye=null}}function ql(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Zy(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),sn=0,vr(),Ue=e,ye=i=Kt(e.current,null),Te=n,Me=0,St=null,An=!1,Ul=ni(e,n),dr=!1,Ll=Et=mr=il=Nn=Ve=0,dt=Li=null,pr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-gt(s),m=1<<d;n|=e[d],s&=~m}return an=n,yo(),i}function _d(e,n){me=null,D.H=bi,n===Nl||n===Ao?(n=Pc(),Me=3):n===Es?(n=Pc(),Me=4):Me=n===Zs?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,St=n,ye===null&&(Ve=1,Ho(e,bt(n,e.current)))}function Cd(){var e=xt.current;return e===null?!0:(Te&4194048)===Te?wt===null:(Te&62914560)===Te||(Te&536870912)!==0?e===wt:!1}function Ad(){var e=D.H;return D.H=bi,e===null?bi:e}function Nd(){var e=D.A;return D.A=Ry,e}function $o(){Ve=4,An||(Te&4194048)!==Te&&xt.current!==null||(Ul=!0),(Nn&134217727)===0&&(il&134217727)===0||Ue===null||Mn(Ue,Te,Et,!1)}function xr(e,n,i){var s=Ne;Ne|=2;var d=Ad(),m=Nd();(Ue!==e||Te!==n)&&(Qo=null,ql(e,n)),n=!1;var T=Ve;e:do try{if(Me!==0&&ye!==null){var _=ye,A=St;switch(Me){case 8:vr(),T=6;break e;case 3:case 2:case 9:case 6:xt.current===null&&(n=!0);var I=Me;if(Me=0,St=null,Pl(e,_,A,I),i&&Ul){T=0;break e}break;default:I=Me,Me=0,St=null,Pl(e,_,A,I)}}wy(),T=Ve;break}catch(G){_d(e,G)}while(!0);return n&&e.shellSuspendCounter++,Qt=Qn=null,Ne=s,D.H=d,D.A=m,ye===null&&(Ue=null,Te=0,yo()),T}function wy(){for(;ye!==null;)bd(ye)}function Iy(e,n){var i=Ne;Ne|=2;var s=Ad(),d=Nd();Ue!==e||Te!==n?(Qo=null,Xo=pt()+500,ql(e,n)):Ul=ni(e,n);e:do try{if(Me!==0&&ye!==null){n=ye;var m=St;t:switch(Me){case 1:Me=0,St=null,Pl(e,n,m,1);break;case 2:case 9:if(Gc(m)){Me=0,St=null,Rd(n);break}n=function(){Me!==2&&Me!==9||Ue!==e||(Me=7),Bt(e)},m.then(n,n);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:Gc(m)?(Me=0,St=null,Rd(n)):(Me=0,St=null,Pl(e,n,m,7));break;case 5:var T=null;switch(ye.tag){case 26:T=ye.memoizedState;case 5:case 27:var _=ye;if(T?mm(T):_.stateNode.complete){Me=0,St=null;var A=_.sibling;if(A!==null)ye=A;else{var I=_.return;I!==null?(ye=I,Wo(I)):ye=null}break t}}Me=0,St=null,Pl(e,n,m,5);break;case 6:Me=0,St=null,Pl(e,n,m,6);break;case 8:vr(),Ve=6;break e;default:throw Error(a(462))}}Dy();break}catch(G){_d(e,G)}while(!0);return Qt=Qn=null,D.H=s,D.A=d,Ne=i,ye!==null?0:(Ue=null,Te=0,yo(),Ve)}function Dy(){for(;ye!==null&&!ng();)bd(ye)}function bd(e){var n=$f(e.alternate,e,an);e.memoizedProps=e.pendingProps,n===null?Wo(e):ye=n}function Rd(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Jf(i,n,n.pendingProps,n.type,void 0,Te);break;case 11:n=Jf(i,n,n.pendingProps,n.type.render,n.ref,Te);break;case 5:Us(n);default:jf(i,n),n=ye=Ac(n,an),n=$f(i,n,an)}e.memoizedProps=e.pendingProps,n===null?Wo(e):ye=n}function Pl(e,n,i,s){Qt=Qn=null,Us(n),bl=null,xi=0;var d=n.return;try{if(Sy(e,d,n,i,Te)){Ve=1,Ho(e,bt(i,e.current)),ye=null;return}}catch(m){if(d!==null)throw ye=d,m;Ve=1,Ho(e,bt(i,e.current)),ye=null;return}n.flags&32768?(Ee||s===1?e=!0:Ul||(Te&536870912)!==0?e=!1:(An=e=!0,(s===2||s===9||s===3||s===6)&&(s=xt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Md(n,e)):Wo(n)}function Wo(e){var n=e;do{if((n.flags&32768)!==0){Md(n,An);return}e=n.return;var i=Cy(n.alternate,n,an);if(i!==null){ye=i;return}if(n=n.sibling,n!==null){ye=n;return}ye=n=e}while(n!==null);Ve===0&&(Ve=5)}function Md(e,n){do{var i=Ay(e.alternate,e);if(i!==null){i.flags&=32767,ye=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){ye=e;return}ye=e=i}while(e!==null);Ve=6,ye=null}function kd(e,n,i,s,d,m,T,_,A){e.cancelPendingCommit=null;do jo();while(Xe!==0);if((Ne&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=ss,dg(e,i,m,T,_,A),e===Ue&&(ye=Ue=null,Te=0),Gl=n,Rn=e,sn=i,hr=m,gr=d,xd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,qy(eo,function(){return Ld(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=D.T,D.T=null,d=J.p,J.p=2,T=Ne,Ne|=4;try{Ny(e,n,i)}finally{Ne=T,J.p=d,D.T=s}}Xe=1,wd(),Id(),Dd()}}function wd(){if(Xe===1){Xe=0;var e=Rn,n=Gl,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=D.T,D.T=null;var s=J.p;J.p=2;var d=Ne;Ne|=4;try{fd(n,e);var m=wr,T=gc(e.containerInfo),_=m.focusedElem,A=m.selectionRange;if(T!==_&&_&&_.ownerDocument&&hc(_.ownerDocument.documentElement,_)){if(A!==null&&ns(_)){var I=A.start,G=A.end;if(G===void 0&&(G=I),"selectionStart"in _)_.selectionStart=I,_.selectionEnd=Math.min(G,_.value.length);else{var H=_.ownerDocument||document,U=H&&H.defaultView||window;if(U.getSelection){var L=U.getSelection(),ee=_.textContent.length,se=Math.min(A.start,ee),De=A.end===void 0?se:Math.min(A.end,ee);!L.extend&&se>De&&(T=De,De=se,se=T);var R=pc(_,se),N=pc(_,De);if(R&&N&&(L.rangeCount!==1||L.anchorNode!==R.node||L.anchorOffset!==R.offset||L.focusNode!==N.node||L.focusOffset!==N.offset)){var k=H.createRange();k.setStart(R.node,R.offset),L.removeAllRanges(),se>De?(L.addRange(k),L.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),L.addRange(k))}}}}for(H=[],L=_;L=L.parentNode;)L.nodeType===1&&H.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<H.length;_++){var P=H[_];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}fa=!!kr,wr=kr=null}finally{Ne=d,J.p=s,D.T=i}}e.current=n,Xe=2}}function Id(){if(Xe===2){Xe=0;var e=Rn,n=Gl,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=D.T,D.T=null;var s=J.p;J.p=2;var d=Ne;Ne|=4;try{ad(e,n.alternate,n)}finally{Ne=d,J.p=s,D.T=i}}Xe=3}}function Dd(){if(Xe===4||Xe===3){Xe=0,lg();var e=Rn,n=Gl,i=sn,s=xd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xe=5:(Xe=0,Gl=Rn=null,Ud(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(bn=null),qa(i),n=n.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(ti,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=D.T,d=J.p,J.p=2,D.T=null;try{for(var m=e.onRecoverableError,T=0;T<s.length;T++){var _=s[T];m(_.value,{componentStack:_.stack})}}finally{D.T=n,J.p=d}}(sn&3)!==0&&jo(),Bt(e),d=e.pendingLanes,(i&261930)!==0&&(d&42)!==0?e===yr?Gi++:(Gi=0,yr=e):Gi=0,qi(0)}}function Ud(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,yi(n)))}function jo(){return wd(),Id(),Dd(),Ld()}function Ld(){if(Xe!==5)return!1;var e=Rn,n=hr;hr=0;var i=qa(sn),s=D.T,d=J.p;try{J.p=32>i?32:i,D.T=null,i=gr,gr=null;var m=Rn,T=sn;if(Xe=0,Gl=Rn=null,sn=0,(Ne&6)!==0)throw Error(a(331));var _=Ne;if(Ne|=4,gd(m.current),md(m,m.current,T,i),Ne=_,qi(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(ti,m)}catch{}return!0}finally{J.p=d,D.T=s,Ud(e,n)}}function Gd(e,n,i){n=bt(i,n),n=Qs(e.stateNode,n,2),e=Sn(e,n,2),e!==null&&(li(e,2),Bt(e))}function ke(e,n,i){if(e.tag===3)Gd(e,e,i);else for(;n!==null;){if(n.tag===3){Gd(n,e,i);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(bn===null||!bn.has(s))){e=bt(i,e),i=qf(2),s=Sn(n,i,2),s!==null&&(Pf(i,s,n,e),li(s,2),Bt(s));break}}n=n.return}}function Tr(e,n,i){var s=e.pingCache;if(s===null){s=e.pingCache=new My;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(i)||(dr=!0,d.add(i),e=Uy.bind(null,e,n,i),n.then(e,e))}function Uy(e,n,i){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ue===e&&(Te&i)===i&&(Ve===4||Ve===3&&(Te&62914560)===Te&&300>pt()-Ko?(Ne&2)===0&&ql(e,0):mr|=i,Ll===Te&&(Ll=0)),Bt(e)}function qd(e,n){n===0&&(n=ku()),e=Yn(e,n),e!==null&&(li(e,n),Bt(e))}function Ly(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),qd(e,i)}function Gy(e,n){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),qd(e,i)}function qy(e,n){return Da(e,n)}var ea=null,Hl=null,Sr=!1,ta=!1,Er=!1,kn=0;function Bt(e){e!==Hl&&e.next===null&&(Hl===null?ea=Hl=e:Hl=Hl.next=e),ta=!0,Sr||(Sr=!0,Hy())}function qi(e,n){if(!Er&&ta){Er=!0;do for(var i=!1,s=ea;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var T=s.suspendedLanes,_=s.pingedLanes;m=(1<<31-gt(42|e)+1)-1,m&=d&~(T&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,zd(s,m))}else m=Te,m=io(s,s===Ue?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||ni(s,m)||(i=!0,zd(s,m));s=s.next}while(i);Er=!1}}function Py(){Pd()}function Pd(){ta=Sr=!1;var e=0;kn!==0&&Qy()&&(e=kn);for(var n=pt(),i=null,s=ea;s!==null;){var d=s.next,m=Hd(s,n);m===0?(s.next=null,i===null?ea=d:i.next=d,d===null&&(Hl=i)):(i=s,(e!==0||(m&3)!==0)&&(ta=!0)),s=d}Xe!==0&&Xe!==5||qi(e),kn!==0&&(kn=0)}function Hd(e,n){for(var i=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-gt(m),_=1<<T,A=d[T];A===-1?((_&i)===0||(_&s)!==0)&&(d[T]=fg(_,n)):A<=n&&(e.expiredLanes|=_),m&=~_}if(n=Ue,i=Te,i=io(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===n&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Ua(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ni(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(s!==null&&Ua(s),qa(i)){case 2:case 8:i=Ru;break;case 32:i=eo;break;case 268435456:i=Mu;break;default:i=eo}return s=Vd.bind(null,e),i=Da(i,s),e.callbackPriority=n,e.callbackNode=i,n}return s!==null&&s!==null&&Ua(s),e.callbackPriority=2,e.callbackNode=null,2}function Vd(e,n){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(jo()&&e.callbackNode!==i)return null;var s=Te;return s=io(e,e===Ue?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Sd(e,s,n),Hd(e,pt()),e.callbackNode!=null&&e.callbackNode===i?Vd.bind(null,e):null)}function zd(e,n){if(jo())return null;Sd(e,n,!0)}function Hy(){$y(function(){(Ne&6)!==0?Da(bu,Py):Pd()})}function _r(){if(kn===0){var e=Cl;e===0&&(e=to,to<<=1,(to&261888)===0&&(to=256)),kn=e}return kn}function Bd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ro(""+e)}function Od(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function Vy(e,n,i,s,d){if(n==="submit"&&i&&i.stateNode===d){var m=Bd((d[st]||null).action),T=s.submitter;T&&(n=(n=T[st]||null)?Bd(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var _=new mo("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(kn!==0){var A=T?Od(d,T):new FormData(d);Os(i,{pending:!0,data:A,method:d.method,action:m},null,A)}}else typeof m=="function"&&(_.preventDefault(),A=T?Od(d,T):new FormData(d),Os(i,{pending:!0,data:A,method:d.method,action:m},m,A))},currentTarget:d}]})}}for(var Cr=0;Cr<as.length;Cr++){var Ar=as[Cr],zy=Ar.toLowerCase(),By=Ar[0].toUpperCase()+Ar.slice(1);Lt(zy,"on"+By)}Lt(xc,"onAnimationEnd"),Lt(Tc,"onAnimationIteration"),Lt(Sc,"onAnimationStart"),Lt("dblclick","onDoubleClick"),Lt("focusin","onFocus"),Lt("focusout","onBlur"),Lt(iy,"onTransitionRun"),Lt(oy,"onTransitionStart"),Lt(ay,"onTransitionCancel"),Lt(Ec,"onTransitionEnd"),cl("onMouseEnter",["mouseout","mouseover"]),cl("onMouseLeave",["mouseout","mouseover"]),cl("onPointerEnter",["pointerout","pointerover"]),cl("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pi));function Fd(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var T=s.length-1;0<=T;T--){var _=s[T],A=_.instance,I=_.currentTarget;if(_=_.listener,A!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=I;try{m(d)}catch(G){go(G)}d.currentTarget=null,m=A}else for(T=0;T<s.length;T++){if(_=s[T],A=_.instance,I=_.currentTarget,_=_.listener,A!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=I;try{m(d)}catch(G){go(G)}d.currentTarget=null,m=A}}}}function ve(e,n){var i=n[Pa];i===void 0&&(i=n[Pa]=new Set);var s=e+"__bubble";i.has(s)||(Jd(n,e,2,!1),i.add(s))}function Nr(e,n,i){var s=0;n&&(s|=4),Jd(i,e,s,n)}var na="_reactListening"+Math.random().toString(36).slice(2);function br(e){if(!e[na]){e[na]=!0,qu.forEach(function(i){i!=="selectionchange"&&(Oy.has(i)||Nr(i,!1,e),Nr(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[na]||(n[na]=!0,Nr("selectionchange",!1,n))}}function Jd(e,n,i,s){switch(Tm(n)){case 2:var d=yv;break;case 8:d=vv;break;default:d=Br}i=d.bind(null,n,i,e),d=void 0,!Ka||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function Rr(e,n,i,s,d){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var _=s.stateNode.containerInfo;if(_===d)break;if(T===4)for(T=s.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;_!==null;){if(T=sl(_),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){s=m=T;continue e}_=_.parentNode}}s=s.return}Qu(function(){var I=m,G=Ja(i),H=[];e:{var U=_c.get(e);if(U!==void 0){var L=mo,ee=e;switch(e){case"keypress":if(co(i)===0)break e;case"keydown":case"keyup":L=Gg;break;case"focusin":ee="focus",L=$a;break;case"focusout":ee="blur",L=$a;break;case"beforeblur":case"afterblur":L=$a;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Cg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=Hg;break;case xc:case Tc:case Sc:L=bg;break;case Ec:L=zg;break;case"scroll":case"scrollend":L=Eg;break;case"wheel":L=Og;break;case"copy":case"cut":case"paste":L=Mg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=ec;break;case"toggle":case"beforetoggle":L=Jg}var se=(n&4)!==0,De=!se&&(e==="scroll"||e==="scrollend"),R=se?U!==null?U+"Capture":null:U;se=[];for(var N=I,k;N!==null;){var P=N;if(k=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||k===null||R===null||(P=ai(N,R),P!=null&&se.push(Hi(N,P,k))),De)break;N=N.return}0<se.length&&(U=new L(U,ee,null,i,G),H.push({event:U,listeners:se}))}}if((n&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",U&&i!==Fa&&(ee=i.relatedTarget||i.fromElement)&&(sl(ee)||ee[al]))break e;if((L||U)&&(U=G.window===G?G:(U=G.ownerDocument)?U.defaultView||U.parentWindow:window,L?(ee=i.relatedTarget||i.toElement,L=I,ee=ee?sl(ee):null,ee!==null&&(De=f(ee),se=ee.tag,ee!==De||se!==5&&se!==27&&se!==6)&&(ee=null)):(L=null,ee=I),L!==ee)){if(se=Wu,P="onMouseLeave",R="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(se=ec,P="onPointerLeave",R="onPointerEnter",N="pointer"),De=L==null?U:oi(L),k=ee==null?U:oi(ee),U=new se(P,N+"leave",L,i,G),U.target=De,U.relatedTarget=k,P=null,sl(G)===I&&(se=new se(R,N+"enter",ee,i,G),se.target=k,se.relatedTarget=De,P=se),De=P,L&&ee)t:{for(se=Fy,R=L,N=ee,k=0,P=R;P;P=se(P))k++;P=0;for(var ie=N;ie;ie=se(ie))P++;for(;0<k-P;)R=se(R),k--;for(;0<P-k;)N=se(N),P--;for(;k--;){if(R===N||N!==null&&R===N.alternate){se=R;break t}R=se(R),N=se(N)}se=null}else se=null;L!==null&&Yd(H,U,L,se,!1),ee!==null&&De!==null&&Yd(H,De,ee,se,!0)}}e:{if(U=I?oi(I):window,L=U.nodeName&&U.nodeName.toLowerCase(),L==="select"||L==="input"&&U.type==="file")var _e=rc;else if(ac(U))if(uc)_e=ty;else{_e=jg;var ne=Wg}else L=U.nodeName,!L||L.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?I&&Oa(I.elementType)&&(_e=rc):_e=ey;if(_e&&(_e=_e(e,I))){sc(H,_e,i,G);break e}ne&&ne(e,U,I),e==="focusout"&&I&&U.type==="number"&&I.memoizedProps.value!=null&&Ba(U,"number",U.value)}switch(ne=I?oi(I):window,e){case"focusin":(ac(ne)||ne.contentEditable==="true")&&(gl=ne,ls=I,pi=null);break;case"focusout":pi=ls=gl=null;break;case"mousedown":is=!0;break;case"contextmenu":case"mouseup":case"dragend":is=!1,yc(H,i,G);break;case"selectionchange":if(ly)break;case"keydown":case"keyup":yc(H,i,G)}var pe;if(ja)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else hl?ic(e,i)&&(Se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Se="onCompositionStart");Se&&(tc&&i.locale!=="ko"&&(hl||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&hl&&(pe=Zu()):(pn=G,Xa="value"in pn?pn.value:pn.textContent,hl=!0)),ne=la(I,Se),0<ne.length&&(Se=new ju(Se,e,null,i,G),H.push({event:Se,listeners:ne}),pe?Se.data=pe:(pe=oc(i),pe!==null&&(Se.data=pe)))),(pe=Kg?Xg(e,i):Qg(e,i))&&(Se=la(I,"onBeforeInput"),0<Se.length&&(ne=new ju("onBeforeInput","beforeinput",null,i,G),H.push({event:ne,listeners:Se}),ne.data=pe)),Vy(H,e,I,i,G)}Fd(H,n)})}function Hi(e,n,i){return{instance:e,listener:n,currentTarget:i}}function la(e,n){for(var i=n+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ai(e,i),d!=null&&s.unshift(Hi(e,d,m)),d=ai(e,n),d!=null&&s.push(Hi(e,d,m))),e.tag===3)return s;e=e.return}return[]}function Fy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yd(e,n,i,s,d){for(var m=n._reactName,T=[];i!==null&&i!==s;){var _=i,A=_.alternate,I=_.stateNode;if(_=_.tag,A!==null&&A===s)break;_!==5&&_!==26&&_!==27||I===null||(A=I,d?(I=ai(i,m),I!=null&&T.unshift(Hi(i,I,A))):d||(I=ai(i,m),I!=null&&T.push(Hi(i,I,A)))),i=i.return}T.length!==0&&e.push({event:n,listeners:T})}var Jy=/\r\n?/g,Yy=/\u0000|\uFFFD/g;function Kd(e){return(typeof e=="string"?e:""+e).replace(Jy,`
`).replace(Yy,"")}function Xd(e,n){return n=Kd(n),Kd(e)===n}function Ie(e,n,i,s,d,m){switch(i){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||dl(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&dl(e,""+s);break;case"className":ao(e,"class",s);break;case"tabIndex":ao(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ao(e,i,s);break;case"style":Ku(e,s,m);break;case"data":if(n!=="object"){ao(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=ro(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(n!=="input"&&Ie(e,n,"name",d.name,d,null),Ie(e,n,"formEncType",d.formEncType,d,null),Ie(e,n,"formMethod",d.formMethod,d,null),Ie(e,n,"formTarget",d.formTarget,d,null)):(Ie(e,n,"encType",d.encType,d,null),Ie(e,n,"method",d.method,d,null),Ie(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=ro(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=Jt);break;case"onScroll":s!=null&&ve("scroll",e);break;case"onScrollEnd":s!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(i=s.__html,i!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=ro(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":ve("beforetoggle",e),ve("toggle",e),oo(e,"popover",s);break;case"xlinkActuate":Ft(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Ft(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Ft(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Ft(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Ft(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Ft(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":oo(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Tg.get(i)||i,oo(e,i,s))}}function Mr(e,n,i,s,d,m){switch(i){case"style":Ku(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(i=s.__html,i!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof s=="string"?dl(e,s):(typeof s=="number"||typeof s=="bigint")&&dl(e,""+s);break;case"onScroll":s!=null&&ve("scroll",e);break;case"onScrollEnd":s!=null&&ve("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Jt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pu.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),n=i.slice(2,d?i.length-7:void 0),m=e[st]||null,m=m!=null?m[i]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,s,d);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):oo(e,i,s)}}}function tt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var s=!1,d=!1,m;for(m in i)if(i.hasOwnProperty(m)){var T=i[m];if(T!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ie(e,n,m,T,i,null)}}d&&Ie(e,n,"srcSet",i.srcSet,i,null),s&&Ie(e,n,"src",i.src,i,null);return;case"input":ve("invalid",e);var _=m=T=d=null,A=null,I=null;for(s in i)if(i.hasOwnProperty(s)){var G=i[s];if(G!=null)switch(s){case"name":d=G;break;case"type":T=G;break;case"checked":A=G;break;case"defaultChecked":I=G;break;case"value":m=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Ie(e,n,s,G,i,null)}}Ou(e,m,_,A,I,T,d,!1);return;case"select":ve("invalid",e),s=T=m=null;for(d in i)if(i.hasOwnProperty(d)&&(_=i[d],_!=null))switch(d){case"value":m=_;break;case"defaultValue":T=_;break;case"multiple":s=_;default:Ie(e,n,d,_,i,null)}n=m,i=T,e.multiple=!!s,n!=null?fl(e,!!s,n,!1):i!=null&&fl(e,!!s,i,!0);return;case"textarea":ve("invalid",e),m=d=s=null;for(T in i)if(i.hasOwnProperty(T)&&(_=i[T],_!=null))switch(T){case"value":s=_;break;case"defaultValue":d=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Ie(e,n,T,_,i,null)}Ju(e,s,d,m);return;case"option":for(A in i)if(i.hasOwnProperty(A)&&(s=i[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ie(e,n,A,s,i,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(s=0;s<Pi.length;s++)ve(Pi[s],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in i)if(i.hasOwnProperty(I)&&(s=i[I],s!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ie(e,n,I,s,i,null)}return;default:if(Oa(n)){for(G in i)i.hasOwnProperty(G)&&(s=i[G],s!==void 0&&Mr(e,n,G,s,i,void 0));return}}for(_ in i)i.hasOwnProperty(_)&&(s=i[_],s!=null&&Ie(e,n,_,s,i,null))}function Ky(e,n,i,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,T=null,_=null,A=null,I=null,G=null;for(L in i){var H=i[L];if(i.hasOwnProperty(L)&&H!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":A=H;default:s.hasOwnProperty(L)||Ie(e,n,L,null,s,H)}}for(var U in s){var L=s[U];if(H=i[U],s.hasOwnProperty(U)&&(L!=null||H!=null))switch(U){case"type":m=L;break;case"name":d=L;break;case"checked":I=L;break;case"defaultChecked":G=L;break;case"value":T=L;break;case"defaultValue":_=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:L!==H&&Ie(e,n,U,L,s,H)}}za(e,T,_,A,I,G,m,d);return;case"select":L=T=_=U=null;for(m in i)if(A=i[m],i.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":L=A;default:s.hasOwnProperty(m)||Ie(e,n,m,null,s,A)}for(d in s)if(m=s[d],A=i[d],s.hasOwnProperty(d)&&(m!=null||A!=null))switch(d){case"value":U=m;break;case"defaultValue":_=m;break;case"multiple":T=m;default:m!==A&&Ie(e,n,d,m,s,A)}n=_,i=T,s=L,U!=null?fl(e,!!i,U,!1):!!s!=!!i&&(n!=null?fl(e,!!i,n,!0):fl(e,!!i,i?[]:"",!1));return;case"textarea":L=U=null;for(_ in i)if(d=i[_],i.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ie(e,n,_,null,s,d)}for(T in s)if(d=s[T],m=i[T],s.hasOwnProperty(T)&&(d!=null||m!=null))switch(T){case"value":U=d;break;case"defaultValue":L=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&Ie(e,n,T,d,s,m)}Fu(e,U,L);return;case"option":for(var ee in i)if(U=i[ee],i.hasOwnProperty(ee)&&U!=null&&!s.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:Ie(e,n,ee,null,s,U)}for(A in s)if(U=s[A],L=i[A],s.hasOwnProperty(A)&&U!==L&&(U!=null||L!=null))switch(A){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Ie(e,n,A,U,s,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in i)U=i[se],i.hasOwnProperty(se)&&U!=null&&!s.hasOwnProperty(se)&&Ie(e,n,se,null,s,U);for(I in s)if(U=s[I],L=i[I],s.hasOwnProperty(I)&&U!==L&&(U!=null||L!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,n));break;default:Ie(e,n,I,U,s,L)}return;default:if(Oa(n)){for(var De in i)U=i[De],i.hasOwnProperty(De)&&U!==void 0&&!s.hasOwnProperty(De)&&Mr(e,n,De,void 0,s,U);for(G in s)U=s[G],L=i[G],!s.hasOwnProperty(G)||U===L||U===void 0&&L===void 0||Mr(e,n,G,U,s,L);return}}for(var R in i)U=i[R],i.hasOwnProperty(R)&&U!=null&&!s.hasOwnProperty(R)&&Ie(e,n,R,null,s,U);for(H in s)U=s[H],L=i[H],!s.hasOwnProperty(H)||U===L||U==null&&L==null||Ie(e,n,H,U,s,L)}function Qd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var d=i[s],m=d.transferSize,T=d.initiatorType,_=d.duration;if(m&&_&&Qd(T)){for(T=0,_=d.responseEnd,s+=1;s<i.length;s++){var A=i[s],I=A.startTime;if(I>_)break;var G=A.transferSize,H=A.initiatorType;G&&Qd(H)&&(A=A.responseEnd,T+=G*(A<_?1:(_-I)/(A-I)))}if(--s,n+=8*(m+T)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var kr=null,wr=null;function ia(e){return e.nodeType===9?e:e.ownerDocument}function Zd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $d(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ir(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Dr=null;function Qy(){var e=window.event;return e&&e.type==="popstate"?e===Dr?!1:(Dr=e,!0):(Dr=null,!1)}var Wd=typeof setTimeout=="function"?setTimeout:void 0,Zy=typeof clearTimeout=="function"?clearTimeout:void 0,jd=typeof Promise=="function"?Promise:void 0,$y=typeof queueMicrotask=="function"?queueMicrotask:typeof jd<"u"?function(e){return jd.resolve(null).then(e).catch(Wy)}:Wd;function Wy(e){setTimeout(function(){throw e})}function wn(e){return e==="head"}function em(e,n){var i=n,s=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(d),Ol(n);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")Vi(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Vi(i);for(var m=i.firstChild;m;){var T=m.nextSibling,_=m.nodeName;m[ii]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=T}}else i==="body"&&Vi(e.ownerDocument.body);i=d}while(i);Ol(n)}function tm(e,n){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function Ur(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Ur(i),Ha(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function jy(e,n,i,s){for(;e.nodeType===1;){var d=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=It(e.nextSibling),e===null)break}return null}function ev(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=It(e.nextSibling),e===null))return null;return e}function nm(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=It(e.nextSibling),e===null))return null;return e}function Lr(e){return e.data==="$?"||e.data==="$~"}function Gr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function tv(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var s=function(){n(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function It(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var qr=null;function lm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return It(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function im(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function om(e,n,i){switch(n=ia(i),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Vi(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ha(e)}var Dt=new Map,am=new Set;function oa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var rn=J.d;J.d={f:nv,r:lv,D:iv,C:ov,L:av,m:sv,X:uv,S:rv,M:cv};function nv(){var e=rn.f(),n=Zo();return e||n}function lv(e){var n=rl(e);n!==null&&n.tag===5&&n.type==="form"?_f(n):rn.r(e)}var Vl=typeof document>"u"?null:document;function sm(e,n,i){var s=Vl;if(s&&typeof n=="string"&&n){var d=At(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),am.has(d)||(am.add(d),e={rel:e,crossOrigin:i,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),tt(n,"link",e),Qe(n),s.head.appendChild(n)))}}function iv(e){rn.D(e),sm("dns-prefetch",e,null)}function ov(e,n){rn.C(e,n),sm("preconnect",e,n)}function av(e,n,i){rn.L(e,n,i);var s=Vl;if(s&&e&&n){var d='link[rel="preload"][as="'+At(n)+'"]';n==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+At(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+At(i.imageSizes)+'"]')):d+='[href="'+At(e)+'"]';var m=d;switch(n){case"style":m=zl(e);break;case"script":m=Bl(e)}Dt.has(m)||(e=S({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Dt.set(m,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(zi(m))||n==="script"&&s.querySelector(Bi(m))||(n=s.createElement("link"),tt(n,"link",e),Qe(n),s.head.appendChild(n)))}}function sv(e,n){rn.m(e,n);var i=Vl;if(i&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+At(s)+'"][href="'+At(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Bl(e)}if(!Dt.has(m)&&(e=S({rel:"modulepreload",href:e},n),Dt.set(m,e),i.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Bi(m)))return}s=i.createElement("link"),tt(s,"link",e),Qe(s),i.head.appendChild(s)}}}function rv(e,n,i){rn.S(e,n,i);var s=Vl;if(s&&e){var d=ul(s).hoistableStyles,m=zl(e);n=n||"default";var T=d.get(m);if(!T){var _={loading:0,preload:null};if(T=s.querySelector(zi(m)))_.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Dt.get(m))&&Pr(e,i);var A=T=s.createElement("link");Qe(A),tt(A,"link",e),A._p=new Promise(function(I,G){A.onload=I,A.onerror=G}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,aa(T,n,s)}T={type:"stylesheet",instance:T,count:1,state:_},d.set(m,T)}}}function uv(e,n){rn.X(e,n);var i=Vl;if(i&&e){var s=ul(i).hoistableScripts,d=Bl(e),m=s.get(d);m||(m=i.querySelector(Bi(d)),m||(e=S({src:e,async:!0},n),(n=Dt.get(d))&&Hr(e,n),m=i.createElement("script"),Qe(m),tt(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function cv(e,n){rn.M(e,n);var i=Vl;if(i&&e){var s=ul(i).hoistableScripts,d=Bl(e),m=s.get(d);m||(m=i.querySelector(Bi(d)),m||(e=S({src:e,async:!0,type:"module"},n),(n=Dt.get(d))&&Hr(e,n),m=i.createElement("script"),Qe(m),tt(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function rm(e,n,i,s){var d=(d=ue.current)?oa(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=zl(i.href),i=ul(d).hoistableStyles,s=i.get(n),s||(s={type:"style",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=zl(i.href);var m=ul(d).hoistableStyles,T=m.get(e);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=d.querySelector(zi(e)))&&!m._p&&(T.instance=m,T.state.loading=5),Dt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Dt.set(e,i),m||fv(d,e,i,T.state))),n&&s===null)throw Error(a(528,""));return T}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Bl(i),i=ul(d).hoistableScripts,s=i.get(n),s||(s={type:"script",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function zl(e){return'href="'+At(e)+'"'}function zi(e){return'link[rel="stylesheet"]['+e+"]"}function um(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function fv(e,n,i,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),tt(n,"link",i),Qe(n),e.head.appendChild(n))}function Bl(e){return'[src="'+At(e)+'"]'}function Bi(e){return"script[async]"+e}function cm(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+At(i.href)+'"]');if(s)return n.instance=s,Qe(s),s;var d=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Qe(s),tt(s,"style",d),aa(s,i.precedence,e),n.instance=s;case"stylesheet":d=zl(i.href);var m=e.querySelector(zi(d));if(m)return n.state.loading|=4,n.instance=m,Qe(m),m;s=um(i),(d=Dt.get(d))&&Pr(s,d),m=(e.ownerDocument||e).createElement("link"),Qe(m);var T=m;return T._p=new Promise(function(_,A){T.onload=_,T.onerror=A}),tt(m,"link",s),n.state.loading|=4,aa(m,i.precedence,e),n.instance=m;case"script":return m=Bl(i.src),(d=e.querySelector(Bi(m)))?(n.instance=d,Qe(d),d):(s=i,(d=Dt.get(m))&&(s=S({},i),Hr(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),Qe(d),tt(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,aa(s,i.precedence,e));return n.instance}function aa(e,n,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,T=0;T<s.length;T++){var _=s[T];if(_.dataset.precedence===n)m=_;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Pr(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Hr(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var sa=null;function fm(e,n,i){if(sa===null){var s=new Map,d=sa=new Map;d.set(i,s)}else d=sa,s=d.get(i),s||(s=new Map,d.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),d=0;d<i.length;d++){var m=i[d];if(!(m[ii]||m[$e]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=e+T;var _=s.get(T);_?_.push(m):s.set(T,[m])}}return s}function dm(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function dv(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function mm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mv(e,n,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=zl(s.href),m=n.querySelector(zi(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ra.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=m,Qe(m);return}m=n.ownerDocument||n,s=um(s),(d=Dt.get(d))&&Pr(s,d),m=m.createElement("link"),Qe(m);var T=m;T._p=new Promise(function(_,A){T.onload=_,T.onerror=A}),tt(m,"link",s),i.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=ra.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var Vr=0;function pv(e,n){return e.stylesheets&&e.count===0&&ca(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&ca(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&Vr===0&&(Vr=62500*Xy());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ca(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>Vr?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function ra(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ca(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ua=null;function ca(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ua=new Map,n.forEach(hv,e),ua=null,ra.call(e))}function hv(e,n){if(!(n.state.loading&4)){var i=ua.get(e);if(i)var s=i.get(null);else{i=new Map,ua.set(e,i);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var T=d[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(i.set(T.dataset.precedence,T),s=T)}s&&i.set(null,s)}d=n.instance,T=d.getAttribute("data-precedence"),m=i.get(T)||s,m===s&&i.set(null,d),i.set(T,d),this.count++,s=ra.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var Oi={$$typeof:O,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function gv(e,n,i,s,d,m,T,_,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=La(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.hiddenUpdates=La(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function pm(e,n,i,s,d,m,T,_,A,I,G,H){return e=new gv(e,n,i,T,A,I,G,H,_),n=1,m===!0&&(n|=24),m=vt(3,null,null,n),e.current=m,m.stateNode=e,n=xs(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:i,cache:n},_s(m),e}function hm(e){return e?(e=xl,e):xl}function gm(e,n,i,s,d,m){d=hm(d),s.context===null?s.context=d:s.pendingContext=d,s=Tn(n),s.payload={element:i},m=m===void 0?null:m,m!==null&&(s.callback=m),i=Sn(e,s,n),i!==null&&(mt(i,e,n),Si(i,e,n))}function ym(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function zr(e,n){ym(e,n),(e=e.alternate)&&ym(e,n)}function vm(e){if(e.tag===13||e.tag===31){var n=Yn(e,67108864);n!==null&&mt(n,e,67108864),zr(e,67108864)}}function xm(e){if(e.tag===13||e.tag===31){var n=_t();n=Ga(n);var i=Yn(e,n);i!==null&&mt(i,e,n),zr(e,n)}}var fa=!0;function yv(e,n,i,s){var d=D.T;D.T=null;var m=J.p;try{J.p=2,Br(e,n,i,s)}finally{J.p=m,D.T=d}}function vv(e,n,i,s){var d=D.T;D.T=null;var m=J.p;try{J.p=8,Br(e,n,i,s)}finally{J.p=m,D.T=d}}function Br(e,n,i,s){if(fa){var d=Or(s);if(d===null)Rr(e,n,s,da,i),Sm(e,s);else if(Tv(d,e,n,i,s))s.stopPropagation();else if(Sm(e,s),n&4&&-1<xv.indexOf(e)){for(;d!==null;){var m=rl(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=zn(m.pendingLanes);if(T!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var A=1<<31-gt(T);_.entanglements[1]|=A,T&=~A}Bt(m),(Ne&6)===0&&(Xo=pt()+500,qi(0))}}break;case 31:case 13:_=Yn(m,2),_!==null&&mt(_,m,2),Zo(),zr(m,2)}if(m=Or(s),m===null&&Rr(e,n,s,da,i),m===d)break;d=m}d!==null&&s.stopPropagation()}else Rr(e,n,s,null,i)}}function Or(e){return e=Ja(e),Fr(e)}var da=null;function Fr(e){if(da=null,e=sl(e),e!==null){var n=f(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=p(n),e!==null)return e;e=null}else if(i===31){if(e=h(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return da=e,null}function Tm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ig()){case bu:return 2;case Ru:return 8;case eo:case og:return 32;case Mu:return 268435456;default:return 32}default:return 32}}var Jr=!1,In=null,Dn=null,Un=null,Fi=new Map,Ji=new Map,Ln=[],xv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sm(e,n){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":Fi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(n.pointerId)}}function Yi(e,n,i,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:i,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=rl(n),n!==null&&vm(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function Tv(e,n,i,s,d){switch(n){case"focusin":return In=Yi(In,e,n,i,s,d),!0;case"dragenter":return Dn=Yi(Dn,e,n,i,s,d),!0;case"mouseover":return Un=Yi(Un,e,n,i,s,d),!0;case"pointerover":var m=d.pointerId;return Fi.set(m,Yi(Fi.get(m)||null,e,n,i,s,d)),!0;case"gotpointercapture":return m=d.pointerId,Ji.set(m,Yi(Ji.get(m)||null,e,n,i,s,d)),!0}return!1}function Em(e){var n=sl(e.target);if(n!==null){var i=f(n);if(i!==null){if(n=i.tag,n===13){if(n=p(i),n!==null){e.blockedOn=n,Lu(e.priority,function(){xm(i)});return}}else if(n===31){if(n=h(i),n!==null){e.blockedOn=n,Lu(e.priority,function(){xm(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ma(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Or(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);Fa=s,i.target.dispatchEvent(s),Fa=null}else return n=rl(i),n!==null&&vm(n),e.blockedOn=i,!1;n.shift()}return!0}function _m(e,n,i){ma(e)&&i.delete(n)}function Sv(){Jr=!1,In!==null&&ma(In)&&(In=null),Dn!==null&&ma(Dn)&&(Dn=null),Un!==null&&ma(Un)&&(Un=null),Fi.forEach(_m),Ji.forEach(_m)}function pa(e,n){e.blockedOn===n&&(e.blockedOn=null,Jr||(Jr=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Sv)))}var ha=null;function Cm(e){ha!==e&&(ha=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){ha===e&&(ha=null);for(var n=0;n<e.length;n+=3){var i=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(Fr(s||i)===null)continue;break}var m=rl(i);m!==null&&(e.splice(n,3),n-=3,Os(m,{pending:!0,data:d,method:i.method,action:s},s,d))}}))}function Ol(e){function n(A){return pa(A,e)}In!==null&&pa(In,e),Dn!==null&&pa(Dn,e),Un!==null&&pa(Un,e),Fi.forEach(n),Ji.forEach(n);for(var i=0;i<Ln.length;i++){var s=Ln[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ln.length&&(i=Ln[0],i.blockedOn===null);)Em(i),i.blockedOn===null&&Ln.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var d=i[s],m=i[s+1],T=d[st]||null;if(typeof m=="function")T||Cm(i);else if(T){var _=null;if(m&&m.hasAttribute("formAction")){if(d=m,T=m[st]||null)_=T.formAction;else if(Fr(d)!==null)continue}else _=T.action;typeof _=="function"?i[s+1]=_:(i.splice(s,3),s-=3),Cm(i)}}}function Am(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function Yr(e){this._internalRoot=e}ga.prototype.render=Yr.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var i=n.current,s=_t();gm(i,s,e,n,null,null)},ga.prototype.unmount=Yr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;gm(e.current,2,null,e,null,null),Zo(),n[al]=null}};function ga(e){this._internalRoot=e}ga.prototype.unstable_scheduleHydration=function(e){if(e){var n=Uu();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Ln.length&&n!==0&&n<Ln[i].priority;i++);Ln.splice(i,0,e),i===0&&Em(e)}};var Nm=t.version;if(Nm!=="19.2.0")throw Error(a(527,Nm,"19.2.0"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Ev={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ya.isDisabled&&ya.supportsFiber)try{ti=ya.inject(Ev),ht=ya}catch{}}return Xi.createRoot=function(e,n){if(!r(e))throw Error(a(299));var i=!1,s="",d=Df,m=Uf,T=Lf;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=pm(e,1,!1,null,null,i,s,null,d,m,T,Am),e[al]=n.current,br(e),new Yr(n)},Xi.hydrateRoot=function(e,n,i){if(!r(e))throw Error(a(299));var s=!1,d="",m=Df,T=Uf,_=Lf,A=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(T=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.formState!==void 0&&(A=i.formState)),n=pm(e,1,!0,n,i??null,s,d,A,m,T,_,Am),n.context=hm(null),i=n.current,s=_t(),s=Ga(s),d=Tn(s),d.callback=null,Sn(i,d,s),i=s,n.current.lanes=i,li(n,i),Bt(n),e[al]=n.current,br(e),new ga(n)},Xi.version="19.2.0",Xi}var Gm;function Dv(){if(Gm)return Qr.exports;Gm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Qr.exports=Iv(),Qr.exports}var Uv=Dv();const Lv=gh(Uv);var Gv={};const yh=q.createContext(void 0),qm=Gv.GOOGLE_CLIENT_ID;function qv(l){try{const o=l.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(o).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(a)}catch(t){return console.error("Error decoding JWT",t),null}}const Pv=({children:l})=>{const[t,o]=q.useState(null),a=p=>{console.log("Encoded JWT ID token: "+p.credential);const h=qv(p.credential);if(h){const y={name:h.name,email:h.email,picture:h.picture};o(y)}},r=()=>{o(null),typeof google<"u"&&google.accounts.id.disableAutoSelect()};q.useEffect(()=>{typeof google<"u"&&(qm?(google.accounts.id.initialize({client_id:qm,callback:a,use_fedcm_for_prompt:!1}),google.accounts.id.prompt()):console.warn("Google Client ID is not configured. Google Sign-In will not function."))},[]);const f={user:t,logout:r};return v.jsx(yh.Provider,{value:f,children:l})},mu=()=>{const l=q.useContext(yh);if(l===void 0)throw new Error("useAuth must be used within an AuthProvider");return l},vh=q.createContext(void 0),Pm={transparency:.15,blurIntensity:25,accentColor:"#F97316",appIconBase64:null,navPosition:"bottom",chartStyle:"detailed",aiProvider:"Puter.js"},Hm="news-kamocodes-ui-config",Hv=({children:l})=>{const[t,o]=q.useState(()=>{if(typeof window<"u"&&window.localStorage){const f=localStorage.getItem(Hm);if(f)return{...Pm,...JSON.parse(f)}}return Pm});q.useEffect(()=>{const f=document.documentElement;f.style.setProperty("--glass-opacity",t.transparency.toString()),f.style.setProperty("--blur-intensity",`${t.blurIntensity}px`),f.style.setProperty("--accent-color",t.accentColor);const p=x=>{const S=parseInt(x.slice(1,3),16),E=parseInt(x.slice(3,5),16),C=parseInt(x.slice(5,7),16);return{r:S,g:E,b:C}},h=(x,S,E)=>`#${((1<<24)+(x<<16)+(S<<8)+E).toString(16).slice(1)}`,g=((x,S)=>{const{r:E,g:C,b:M}=p(x),w=Math.max(0,E-Math.round(E*S)),z=Math.max(0,C-Math.round(C*S)),Y=Math.max(0,M-Math.round(M*S));return h(w,z,Y)})(t.accentColor,.15);f.style.setProperty("--accent-color-dark",g),localStorage.setItem(Hm,JSON.stringify(t))},[t]);const r={uiConfig:t,updateUIConfig:f=>{o(p=>({...p,...f}))}};return v.jsx(vh.Provider,{value:r,children:l})},it=()=>{const l=q.useContext(vh);if(l===void 0)throw new Error("useUIConfig must be used within a UIConfigProvider");return l},xh=q.createContext(void 0),Vv=({children:l})=>{const[t,o]=q.useState(()=>{if(typeof window<"u"&&window.localStorage){const f=window.localStorage.getItem("theme");if(f)return f;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"});q.useEffect(()=>{const f=window.document.documentElement;t==="dark"?f.classList.add("dark"):f.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const r={theme:t,toggleTheme:()=>{o(f=>f==="light"?"dark":"light")}};return v.jsx(xh.Provider,{value:r,children:l})},Xl=()=>{const l=q.useContext(xh);if(l===void 0)throw new Error("useTheme must be used within a ThemeProvider");return l},zv=()=>{const{theme:l,toggleTheme:t}=Xl();return v.jsx("button",{onClick:t,"aria-label":"Toggle theme",className:"w-9 h-9 flex items-center justify-center rounded-full text-on-surface-light dark:text-on-surface-dark hover:bg-surface-light dark:hover:bg-outline-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-primary-light dark:focus:ring-offset-primary-dark focus:ring-accent transition-colors",children:l==="light"?v.jsx("span",{className:"material-symbols-outlined",children:"dark_mode"}):v.jsx("span",{className:"material-symbols-outlined",children:"light_mode"})})},Vm=()=>{const{user:l,logout:t}=mu(),{uiConfig:o}=it(),a=q.useRef(null),[r,f]=q.useState(!1),p=q.useRef(null);return q.useEffect(()=>{!l&&a.current&&typeof google<"u"&&google.accounts.id.renderButton(a.current,{theme:"outline",size:"medium",type:"standard",text:"signin_with"})},[l]),q.useEffect(()=>{const h=y=>{p.current&&!p.current.contains(y.target)&&f(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]),v.jsx("header",{children:v.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[v.jsx("div",{className:"flex items-center",children:o.appIconBase64?v.jsx("img",{src:o.appIconBase64,alt:"App Icon",className:"h-8 w-auto mr-2"}):v.jsx("h1",{className:"text-sm font-medium text-accent uppercase tracking-widest",children:"news.kamocodes.xyz"})}),v.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[v.jsx(zv,{}),l?v.jsxs("div",{className:"relative",ref:p,children:[v.jsx("button",{onClick:()=>f(!r),className:"w-9 h-9 rounded-full overflow-hidden focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-primary-light dark:focus:ring-offset-primary-dark focus:ring-accent",children:v.jsx("img",{src:l.picture,alt:l.name,referrerPolicy:"no-referrer"})}),r&&v.jsx("div",{className:"absolute right-0 mt-2 w-64 origin-top-right rounded-lg bg-surface-light dark:bg-surface-dark shadow-lg ring-1 ring-black/5 dark:ring-outline-dark dark:ring-opacity-5 focus:outline-none border border-outline-light dark:border-transparent",children:v.jsxs("div",{className:"py-1",children:[v.jsxs("div",{className:"px-4 py-3 border-b border-outline-light dark:border-outline-dark",children:[v.jsx("p",{className:"text-sm font-semibold text-on-primary-light dark:text-on-primary-dark truncate",children:l.name}),v.jsx("p",{className:"text-sm text-on-surface-light dark:text-on-surface-dark truncate",children:l.email})]}),v.jsx("button",{onClick:()=>{t(),f(!1)},className:"w-full text-left px-4 py-2 text-sm text-on-primary-light dark:text-on-primary-dark hover:bg-outline-light dark:hover:bg-outline-dark",children:"Logout"})]})})]}):v.jsx("div",{ref:a,className:"h-10 flex items-center"})]})]})})},pu="news-kamocodes-saved-articles",Ca=()=>{try{const l=localStorage.getItem(pu);return l?JSON.parse(l):[]}catch(l){return console.error("Could not read saved articles from localStorage",l),[]}};async function Th(){return Ca()}async function Sh(l){const t=Ca();if(!t.find(o=>o.id===l.id)){const o=[...t,l];localStorage.setItem(pu,JSON.stringify(o))}}async function Bv(l){const o=Ca().filter(a=>a.id!==l);localStorage.setItem(pu,JSON.stringify(o))}async function Ov(l){return Ca().some(o=>o.id===l)}const Fv=({article:l,onBack:t})=>{var C,M;const[o,a]=q.useState(!1),[r,f]=q.useState(!1),[p,h]=q.useState(!1);q.useEffect(()=>{(async()=>{const z=await Ov(l.id);f(z)})(),h(!1)},[l.id,l.imageUrl]);const y=async()=>{const w=!r;f(w);try{w?await Sh(l):await Bv(l.id)}catch(z){console.error("Failed to update saved status:",z),f(!w),alert("Could not update save status. Please try again.")}};q.useEffect(()=>{const w=()=>{window.scrollY>100?a(!0):a(!1)};return window.addEventListener("scroll",w),()=>{window.removeEventListener("scroll",w)}},[]);const g=()=>{h(!0)},S=(w=>{const z=parseInt(w,10);if(isNaN(z)){const K=new Date(w);return isNaN(K.getTime())?null:K.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}return new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})(l.id),E=(w,z)=>{switch(w.type){case"subheading":return v.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-on-primary-light dark:text-on-primary-dark mt-8 mb-4",children:w.content},z);case"quote":return v.jsx("blockquote",{className:"my-6 pl-4 border-l-4 border-accent",children:v.jsxs("p",{className:"text-lg md:text-xl italic text-on-surface-light dark:text-on-surface-dark",children:['"',w.content,'"']})},z);case"paragraph":default:return v.jsx("p",{className:"text-lg text-on-surface-light dark:text-on-surface-dark mb-6 leading-relaxed",children:w.content},z)}};return v.jsxs("div",{className:"w-full bg-primary-light dark:bg-primary-dark pb-24",children:[v.jsx("div",{className:`fixed top-0 left-0 right-0 z-40 transition-all duration-300 ${o?"opacity-100 translate-y-0":"opacity-0 -translate-y-full"}`,children:v.jsx("div",{className:"bg-surface-light/80 dark:bg-surface-dark/80 backdrop-blur-lg border-b border-outline-light dark:border-outline-dark",children:v.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between gap-4",children:[v.jsx("button",{onClick:t,"aria-label":"Go back",className:"flex items-center justify-center h-10 w-10 rounded-full bg-surface-light dark:bg-surface-dark text-on-primary-light dark:text-on-primary-dark hover:bg-opacity-75 transition-colors shrink-0",children:v.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),v.jsx("h1",{className:"text-sm font-bold text-on-primary-light dark:text-on-primary-dark truncate px-2 flex-1 text-center",children:l.title}),v.jsx("button",{onClick:y,"aria-label":r?"Unsave article":"Save article",className:"flex items-center justify-center h-10 w-10 rounded-full bg-surface-light dark:bg-surface-dark text-on-primary-light dark:text-on-primary-dark hover:bg-opacity-75 transition-colors shrink-0",children:r?v.jsx("span",{className:"material-symbols-outlined text-accent",style:{fontVariationSettings:"'FILL' 1, 'wght' 400"},children:"bookmark"}):v.jsx("span",{className:"material-symbols-outlined",children:"bookmark"})})]})})}),v.jsxs("header",{className:"w-full h-[60vh] sm:h-[70vh] relative text-on-primary-dark",children:[p?v.jsxs("div",{className:"w-full h-full object-cover bg-surface-dark flex flex-col items-center justify-center text-on-surface-dark/50 p-4",children:[v.jsx("span",{className:"material-symbols-outlined text-6xl mb-2",children:"broken_image"}),v.jsx("span",{className:"text-lg text-center",children:"Image Unavailable"})]}):v.jsx("img",{src:l.imageUrl,alt:l.title,className:"w-full h-full object-cover",onError:g}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),v.jsxs("div",{className:"absolute top-4 left-4 right-4 z-10 flex justify-between",children:[v.jsx("button",{onClick:t,"aria-label":"Go back",className:"flex items-center justify-center h-10 w-10 rounded-full bg-surface-dark/50 backdrop-blur-sm text-on-primary-dark hover:bg-surface-dark/80 transition-colors",children:v.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),v.jsx("button",{onClick:y,"aria-label":r?"Unsave article":"Save article",className:"flex items-center justify-center h-10 w-10 rounded-full bg-surface-dark/50 backdrop-blur-sm text-on-primary-dark hover:bg-surface-dark/80 transition-colors",children:r?v.jsx("span",{className:"material-symbols-outlined text-accent",style:{fontVariationSettings:"'FILL' 1, 'wght' 400"},children:"bookmark"}):v.jsx("span",{className:"material-symbols-outlined",children:"bookmark"})})]}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 sm:p-8",children:v.jsxs("div",{className:"max-w-3xl mx-auto",children:[v.jsx("span",{className:"inline-block bg-accent text-primary-dark text-xs font-bold px-3 py-1 rounded-full mb-4",children:l.category}),v.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold mb-4 leading-tight shadow-text",children:l.title}),v.jsxs("div",{className:"flex items-center text-sm md:text-base text-on-surface-dark",children:[l.sourceName&&v.jsxs("span",{children:["By ",l.sourceName]}),l.sourceName&&S&&v.jsx("span",{className:"mx-2",children:""}),S&&v.jsx("span",{children:S})]})]})})]}),v.jsx("div",{className:"relative p-6 sm:p-8",children:v.jsxs("div",{className:"max-w-3xl mx-auto",children:[v.jsx("p",{className:"text-xl text-on-surface-light dark:text-on-surface-dark italic mb-10",children:l.summary}),v.jsx("div",{className:"prose-lg max-w-none",children:l.fullContent.map(E)}),l.sourceUrl&&l.sourceUrl!=="#"&&v.jsx("div",{className:"mt-12 border-t border-outline-light dark:border-outline-dark pt-8 text-center",children:v.jsxs("a",{href:l.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-accent text-white dark:text-primary-dark font-semibold px-8 py-3 rounded-lg hover:bg-accent-dark transition-opacity",children:["Read on ",l.sourceName,v.jsx("span",{className:"material-symbols-outlined",children:"open_in_new"})]})}),l.groundingUrls&&l.groundingUrls.length>0||l.mapsGroundingUrls&&l.mapsGroundingUrls.length>0&&v.jsxs("div",{className:"mt-12 border-t border-outline-light dark:border-outline-dark pt-8",children:[v.jsx("h3",{className:"text-xl font-bold text-on-primary-light dark:text-on-primary-dark mb-4",children:"Sources"}),v.jsxs("ul",{className:"list-disc list-inside space-y-2 text-on-surface-light dark:text-on-surface-dark",children:[(C=l.groundingUrls)==null?void 0:C.map((w,z)=>v.jsx("li",{children:v.jsx("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline break-all",children:w})},`search-${z}`)),(M=l.mapsGroundingUrls)==null?void 0:M.map((w,z)=>v.jsx("li",{children:v.jsx("a",{href:w.uri,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline break-all",children:w.title||w.uri})},`map-${z}`))]})]})]})}),v.jsx("style",{children:`
        .shadow-text {
          text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }
        .prose-lg p {
            font-size: 1.125rem;
            line-height: 1.75;
        }
      `})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Jv,Yv;function Kv(){return{geminiUrl:Jv,vertexUrl:Yv}}function Xv(l,t,o,a){var r,f;if(!(l!=null&&l.baseUrl)){const p=Kv();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return l.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cn{}function $(l,t){const o=/\{([^}]+)\}/g;return l.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(l,t,o){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const h=p.slice(0,-2);if(!(h in l))if(Array.isArray(o))l[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(l[h])){const y=l[h];if(Array.isArray(o))for(let g=0;g<y.length;g++){const x=y[g];c(x,t.slice(f+1),o[g])}else for(const g of y)c(g,t.slice(f+1),o)}return}else if(p.endsWith("[0]")){const h=p.slice(0,-3);h in l||(l[h]=[{}]);const y=l[h];c(y[0],t.slice(f+1),o);return}(!l[p]||typeof l[p]!="object")&&(l[p]={}),l=l[p]}const a=t[t.length-1],r=l[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(l,o):l[a]=o}function u(l,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return l;for(let a=0;a<t.length;a++){if(typeof l!="object"||l===null)return o;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in l){const p=l[f];return Array.isArray(p)?p.map(h=>u(h,t.slice(a+1),o)):o}else return o}else l=l[r]}return l}catch(a){if(a instanceof TypeError)return o;throw a}}function Qv(l,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),f=a.split("."),p=new Set;let h=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){h=y;break}if(h!==-1&&f.length>h)for(let y=h;y<f.length;y++){const g=f[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&p.add(g)}nu(l,r,f,0,p)}}function nu(l,t,o,a,r){if(a>=t.length||typeof l!="object"||l===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),h=l;if(p in h&&Array.isArray(h[p]))for(const y of h[p])nu(y,t,o,a+1,r)}else if(f==="*"){if(typeof l=="object"&&l!==null&&!Array.isArray(l)){const p=l,h=Object.keys(p).filter(g=>!g.startsWith("_")&&!r.has(g)),y={};for(const g of h)y[g]=p[g];for(const[g,x]of Object.entries(y)){const S=[];for(const E of o.slice(a))E==="*"?S.push(g):S.push(E);c(p,S,x)}for(const g of h)delete p[g]}}else{const p=l;f in p&&nu(p[f],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hu(l){if(typeof l!="string")throw new Error("fromImageBytes must be a string");return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zv(l){const t={},o=u(l,["operationName"]);o!=null&&c(t,["operationName"],o);const a=u(l,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function $v(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);f!=null&&c(t,["error"],f);const p=u(l,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],jv(p)),t}function Wv(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);f!=null&&c(t,["error"],f);const p=u(l,["response"]);return p!=null&&c(t,["response"],e0(p)),t}function jv(l){const t={},o=u(l,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>t0(p))),c(t,["generatedVideos"],f)}const a=u(l,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function e0(l){const t={},o=u(l,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>n0(p))),c(t,["generatedVideos"],f)}const a=u(l,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function t0(l){const t={},o=u(l,["video"]);return o!=null&&c(t,["video"],r0(o)),t}function n0(l){const t={},o=u(l,["_self"]);return o!=null&&c(t,["video"],u0(o)),t}function l0(l){const t={},o=u(l,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function i0(l){const t={},o=u(l,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function o0(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);f!=null&&c(t,["error"],f);const p=u(l,["response"]);return p!=null&&c(t,["response"],a0(p)),t}function a0(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["parent"]);a!=null&&c(t,["parent"],a);const r=u(l,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Eh(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);f!=null&&c(t,["error"],f);const p=u(l,["response"]);return p!=null&&c(t,["response"],s0(p)),t}function s0(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["parent"]);a!=null&&c(t,["parent"],a);const r=u(l,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function r0(l){const t={},o=u(l,["uri"]);o!=null&&c(t,["uri"],o);const a=u(l,["encodedVideo"]);a!=null&&c(t,["videoBytes"],hu(a));const r=u(l,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function u0(l){const t={},o=u(l,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(l,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],hu(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zm;(function(l){l.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",l.OUTCOME_OK="OUTCOME_OK",l.OUTCOME_FAILED="OUTCOME_FAILED",l.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(zm||(zm={}));var Bm;(function(l){l.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",l.PYTHON="PYTHON"})(Bm||(Bm={}));var Om;(function(l){l.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",l.SILENT="SILENT",l.WHEN_IDLE="WHEN_IDLE",l.INTERRUPT="INTERRUPT"})(Om||(Om={}));var Pn;(function(l){l.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",l.STRING="STRING",l.NUMBER="NUMBER",l.INTEGER="INTEGER",l.BOOLEAN="BOOLEAN",l.ARRAY="ARRAY",l.OBJECT="OBJECT",l.NULL="NULL"})(Pn||(Pn={}));var Fm;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(Fm||(Fm={}));var Jm;(function(l){l.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",l.SIMPLE_SEARCH="SIMPLE_SEARCH",l.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Jm||(Jm={}));var Ym;(function(l){l.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",l.NO_AUTH="NO_AUTH",l.API_KEY_AUTH="API_KEY_AUTH",l.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",l.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",l.OAUTH="OAUTH",l.OIDC_AUTH="OIDC_AUTH"})(Ym||(Ym={}));var Km;(function(l){l.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",l.HTTP_IN_QUERY="HTTP_IN_QUERY",l.HTTP_IN_HEADER="HTTP_IN_HEADER",l.HTTP_IN_PATH="HTTP_IN_PATH",l.HTTP_IN_BODY="HTTP_IN_BODY",l.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Km||(Km={}));var Xm;(function(l){l.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",l.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",l.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",l.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Xm||(Xm={}));var Qm;(function(l){l.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",l.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",l.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",l.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",l.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",l.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",l.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",l.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",l.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Qm||(Qm={}));var Zm;(function(l){l.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",l.SEVERITY="SEVERITY",l.PROBABILITY="PROBABILITY"})(Zm||(Zm={}));var $m;(function(l){l.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE",l.OFF="OFF"})($m||($m={}));var Wm;(function(l){l.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",l.STOP="STOP",l.MAX_TOKENS="MAX_TOKENS",l.SAFETY="SAFETY",l.RECITATION="RECITATION",l.LANGUAGE="LANGUAGE",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.SPII="SPII",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.IMAGE_SAFETY="IMAGE_SAFETY",l.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",l.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",l.NO_IMAGE="NO_IMAGE"})(Wm||(Wm={}));var jm;(function(l){l.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",l.NEGLIGIBLE="NEGLIGIBLE",l.LOW="LOW",l.MEDIUM="MEDIUM",l.HIGH="HIGH"})(jm||(jm={}));var ep;(function(l){l.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",l.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",l.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",l.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",l.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ep||(ep={}));var tp;(function(l){l.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",l.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",l.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",l.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",l.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(tp||(tp={}));var np;(function(l){l.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",l.SAFETY="SAFETY",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.IMAGE_SAFETY="IMAGE_SAFETY",l.MODEL_ARMOR="MODEL_ARMOR",l.JAILBREAK="JAILBREAK"})(np||(np={}));var lp;(function(l){l.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",l.ON_DEMAND="ON_DEMAND",l.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(lp||(lp={}));var $i;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.AUDIO="AUDIO"})($i||($i={}));var ip;(function(l){l.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",l.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",l.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",l.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ip||(ip={}));var op;(function(l){l.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",l.TUNING_MODE_FULL="TUNING_MODE_FULL",l.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(op||(op={}));var ap;(function(l){l.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",l.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",l.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",l.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",l.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",l.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",l.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ap||(ap={}));var lu;(function(l){l.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",l.JOB_STATE_QUEUED="JOB_STATE_QUEUED",l.JOB_STATE_PENDING="JOB_STATE_PENDING",l.JOB_STATE_RUNNING="JOB_STATE_RUNNING",l.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",l.JOB_STATE_FAILED="JOB_STATE_FAILED",l.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",l.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",l.JOB_STATE_PAUSED="JOB_STATE_PAUSED",l.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",l.JOB_STATE_UPDATING="JOB_STATE_UPDATING",l.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(lu||(lu={}));var sp;(function(l){l.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",l.TUNING_TASK_I2V="TUNING_TASK_I2V",l.TUNING_TASK_T2V="TUNING_TASK_T2V",l.TUNING_TASK_R2V="TUNING_TASK_R2V"})(sp||(sp={}));var rp;(function(l){l.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",l.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",l.BALANCED="BALANCED",l.PRIORITIZE_COST="PRIORITIZE_COST"})(rp||(rp={}));var up;(function(l){l.UNSPECIFIED="UNSPECIFIED",l.BLOCKING="BLOCKING",l.NON_BLOCKING="NON_BLOCKING"})(up||(up={}));var cp;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(cp||(cp={}));var fp;(function(l){l.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",l.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(fp||(fp={}));var dp;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.AUTO="AUTO",l.ANY="ANY",l.NONE="NONE",l.VALIDATED="VALIDATED"})(dp||(dp={}));var mp;(function(l){l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE"})(mp||(mp={}));var pp;(function(l){l.DONT_ALLOW="DONT_ALLOW",l.ALLOW_ADULT="ALLOW_ADULT",l.ALLOW_ALL="ALLOW_ALL"})(pp||(pp={}));var hp;(function(l){l.auto="auto",l.en="en",l.ja="ja",l.ko="ko",l.hi="hi",l.zh="zh",l.pt="pt",l.es="es"})(hp||(hp={}));var gp;(function(l){l.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",l.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",l.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",l.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",l.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(gp||(gp={}));var yp;(function(l){l.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",l.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",l.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",l.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(yp||(yp={}));var vp;(function(l){l.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",l.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",l.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",l.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(vp||(vp={}));var xp;(function(l){l.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",l.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",l.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",l.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",l.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",l.EDIT_MODE_STYLE="EDIT_MODE_STYLE",l.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",l.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(xp||(xp={}));var Tp;(function(l){l.FOREGROUND="FOREGROUND",l.BACKGROUND="BACKGROUND",l.PROMPT="PROMPT",l.SEMANTIC="SEMANTIC",l.INTERACTIVE="INTERACTIVE"})(Tp||(Tp={}));var Sp;(function(l){l.ASSET="ASSET",l.STYLE="STYLE"})(Sp||(Sp={}));var Ep;(function(l){l.INSERT="INSERT",l.REMOVE="REMOVE",l.REMOVE_STATIC="REMOVE_STATIC",l.OUTPAINT="OUTPAINT"})(Ep||(Ep={}));var _p;(function(l){l.OPTIMIZED="OPTIMIZED",l.LOSSLESS="LOSSLESS"})(_p||(_p={}));var Cp;(function(l){l.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",l.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Cp||(Cp={}));var Ap;(function(l){l.STATE_UNSPECIFIED="STATE_UNSPECIFIED",l.STATE_PENDING="STATE_PENDING",l.STATE_ACTIVE="STATE_ACTIVE",l.STATE_FAILED="STATE_FAILED"})(Ap||(Ap={}));var Np;(function(l){l.STATE_UNSPECIFIED="STATE_UNSPECIFIED",l.PROCESSING="PROCESSING",l.ACTIVE="ACTIVE",l.FAILED="FAILED"})(Np||(Np={}));var bp;(function(l){l.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",l.UPLOADED="UPLOADED",l.GENERATED="GENERATED"})(bp||(bp={}));var Rp;(function(l){l.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.RESPONSE_REJECTED="RESPONSE_REJECTED",l.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Rp||(Rp={}));var Mp;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.VIDEO="VIDEO",l.AUDIO="AUDIO",l.DOCUMENT="DOCUMENT"})(Mp||(Mp={}));var kp;(function(l){l.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",l.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",l.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(kp||(kp={}));var wp;(function(l){l.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",l.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",l.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(wp||(wp={}));var Ip;(function(l){l.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",l.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",l.NO_INTERRUPTION="NO_INTERRUPTION"})(Ip||(Ip={}));var Dp;(function(l){l.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",l.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",l.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Dp||(Dp={}));var Up;(function(l){l.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",l.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",l.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",l.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",l.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",l.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",l.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",l.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",l.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",l.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",l.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",l.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",l.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Up||(Up={}));var Lp;(function(l){l.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",l.QUALITY="QUALITY",l.DIVERSITY="DIVERSITY",l.VOCALIZATION="VOCALIZATION"})(Lp||(Lp={}));var Fl;(function(l){l.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",l.PLAY="PLAY",l.PAUSE="PAUSE",l.STOP="STOP",l.RESET_CONTEXT="RESET_CONTEXT"})(Fl||(Fl={}));class iu{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class Qi{get text(){var t,o,a,r,f,p,h,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",x=!1;const S=[];for(const E of(y=(h=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[C,M]of Object.entries(E))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(M!==null||M!==void 0)&&S.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;x=!0,g+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?g:void 0}get data(){var t,o,a,r,f,p,h,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const x=[];for(const S of(y=(h=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(S))E!=="inlineData"&&(C!==null||C!==void 0)&&x.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(g+=atob(S.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var t,o,a,r,f,p,h,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(h=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var t,o,a,r,f,p,h,y,g;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(h=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(g=x==null?void 0:x[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var t,o,a,r,f,p,h,y,g;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(h=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(g=x==null?void 0:x[0])===null||g===void 0?void 0:g.output}}class Gp{}class qp{}class c0{}class f0{}class d0{}class m0{}class Pp{}class Hp{}class Vp{}class p0{}class Ta{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Ta;let r;const f=t;return o?r=Wv(f):r=$v(f),Object.assign(a,r),a}}class zp{}class Bp{}class Op{}class h0{}class g0{}class y0{}class gu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new gu,f=o0(t);return Object.assign(a,f),a}}class v0{}class x0{}class T0{}class Fp{}class S0{get text(){var t,o,a;let r="",f=!1;const p=[];for(const h of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,g]of Object.entries(h))y!=="text"&&y!=="thought"&&g!==null&&p.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,r+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,o,a;let r="";const f=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[h,y]of Object.entries(p))h!=="inlineData"&&y!==null&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class E0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class yu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new yu,f=Eh(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ae(l,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(l.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function _h(l,t){const o=Ae(l,t);return o?o.startsWith("publishers/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}`:o.startsWith("models/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/publishers/google/${o}`:o:""}function Ch(l){return Array.isArray(l)?l.map(t=>Sa(t)):[Sa(l)]}function Sa(l){if(typeof l=="object"&&l!==null)return l;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof l}`)}function Ah(l){const t=Sa(l);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Nh(l){const t=Sa(l);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Jp(l){if(l==null)throw new Error("PartUnion is required");if(typeof l=="object")return l;if(typeof l=="string")return{text:l};throw new Error(`Unsupported part type: ${typeof l}`)}function bh(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("PartListUnion is required");return Array.isArray(l)?l.map(t=>Jp(t)):[Jp(l)]}function ou(l){return l!=null&&typeof l=="object"&&"parts"in l&&Array.isArray(l.parts)}function Yp(l){return l!=null&&typeof l=="object"&&"functionCall"in l}function Kp(l){return l!=null&&typeof l=="object"&&"functionResponse"in l}function lt(l){if(l==null)throw new Error("ContentUnion is required");return ou(l)?l:{role:"user",parts:bh(l)}}function vu(l,t){if(!t)return[];if(l.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=lt(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(l.isVertexAI()){const o=lt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>lt(o)):[lt(t)]}function Ut(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("contents are required");if(!Array.isArray(l)){if(Yp(l)||Kp(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[lt(l)]}const t=[],o=[],a=ou(l[0]);for(const r of l){const f=ou(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(Yp(r)||Kp(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:bh(o)}),t}function _0(l,t){l.includes("null")&&(t.nullable=!0);const o=l.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(Pn).includes(o[0].toUpperCase())?o[0].toUpperCase():Pn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(Pn).includes(a.toUpperCase())?a.toUpperCase():Pn.TYPE_UNSPECIFIED})}}function Jl(l){const t={},o=["items"],a=["anyOf"],r=["properties"];if(l.type&&l.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=l.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,l=f[1]):f[1].type==="null"&&(t.nullable=!0,l=f[0])),l.type instanceof Array&&_0(l.type,t);for(const[p,h]of Object.entries(l))if(h!=null)if(p=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;t.type=Object.values(Pn).includes(h.toUpperCase())?h.toUpperCase():Pn.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=Jl(h);else if(a.includes(p)){const y=[];for(const g of h){if(g.type=="null"){t.nullable=!0;continue}y.push(Jl(g))}t[p]=y}else if(r.includes(p)){const y={};for(const[g,x]of Object.entries(h))y[g]=Jl(x);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=h}return t}function xu(l){return Jl(l)}function Tu(l){if(typeof l=="object")return l;if(typeof l=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:l}}};throw new Error(`Unsupported speechConfig type: ${typeof l}`)}function Su(l){if("multiSpeakerVoiceConfig"in l)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return l}function Ql(l){if(l.functionDeclarations)for(const t of l.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Jl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Jl(t.response));return l}function Zl(l){if(l==null)throw new Error("tools is required");if(!Array.isArray(l))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of l)t.push(o);return t}function C0(l,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return l.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${l.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${l.getProject()}/locations/${l.getLocation()}/${t}`:r?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function fn(l,t){if(typeof t!="string")throw new Error("name must be a string");return C0(l,t,"cachedContents")}function Rh(l){switch(l){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return l}}function Hn(l){return hu(l)}function A0(l){return l!=null&&typeof l=="object"&&"name"in l}function N0(l){return l!=null&&typeof l=="object"&&"video"in l}function b0(l){return l!=null&&typeof l=="object"&&"uri"in l}function Mh(l){var t;let o;if(A0(l)&&(o=l.name),!(b0(l)&&(o=l.uri,o===void 0))&&!(N0(l)&&(o=(t=l.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof l=="string"&&(o=l),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function kh(l,t){let o;return l.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function wh(l){for(const t of["models","tunedModels","publisherModels"])if(R0(l,t))return l[t];return[]}function R0(l,t){return l!==null&&typeof l=="object"&&t in l}function M0(l,t={}){const o=l,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function k0(l,t={}){const o=[],a=new Set;for(const r of l){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=M0(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function Ih(l,t){let o;if(typeof t=="string")if(l.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(l.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(l.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function w0(l){if(typeof l!="string")return l;const t=l;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Dh(l){if(typeof l!="object"||l===null)return{};const t=l,o=t.inlinedResponses;if(typeof o!="object"||o===null)return l;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return l;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),l}function $l(l,t){const o=t;if(!l.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Uh(l){const t=l;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I0(l){const t={},o=u(l,["responsesFile"]);o!=null&&c(t,["fileName"],o);const a=u(l,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>ux(p))),c(t,["inlinedResponses"],f)}const r=u(l,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function D0(l){const t={},o=u(l,["predictionsFormat"]);o!=null&&c(t,["format"],o);const a=u(l,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(l,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function U0(l){const t={},o=u(l,["format"]);o!=null&&c(t,["predictionsFormat"],o);const a=u(l,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(l,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(l,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(l,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function va(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(l,["metadata","state"]);r!=null&&c(t,["state"],Uh(r));const f=u(l,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(l,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const h=u(l,["metadata","updateTime"]);h!=null&&c(t,["updateTime"],h);const y=u(l,["metadata","model"]);y!=null&&c(t,["model"],y);const g=u(l,["metadata","output"]);return g!=null&&c(t,["dest"],I0(Dh(g))),t}function au(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(l,["state"]);r!=null&&c(t,["state"],Uh(r));const f=u(l,["error"]);f!=null&&c(t,["error"],f);const p=u(l,["createTime"]);p!=null&&c(t,["createTime"],p);const h=u(l,["startTime"]);h!=null&&c(t,["startTime"],h);const y=u(l,["endTime"]);y!=null&&c(t,["endTime"],y);const g=u(l,["updateTime"]);g!=null&&c(t,["updateTime"],g);const x=u(l,["model"]);x!=null&&c(t,["model"],x);const S=u(l,["inputConfig"]);S!=null&&c(t,["src"],L0(S));const E=u(l,["outputConfig"]);E!=null&&c(t,["dest"],D0(Dh(E)));const C=u(l,["completionStats"]);return C!=null&&c(t,["completionStats"],C),t}function L0(l){const t={},o=u(l,["instancesFormat"]);o!=null&&c(t,["format"],o);const a=u(l,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(l,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function G0(l,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>rx(l,p))),c(o,["requests","requests"],f)}return o}function q0(l){const t={},o=u(l,["format"]);o!=null&&c(t,["instancesFormat"],o);const a=u(l,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(l,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(l,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function P0(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function H0(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],$l(l,a)),o}function V0(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],$l(l,a)),o}function z0(l){const t={},o=u(l,["content"]);o!=null&&c(t,["content"],o);const a=u(l,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],B0(a));const r=u(l,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(l,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(l,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const h=u(l,["groundingMetadata"]);h!=null&&c(t,["groundingMetadata"],h);const y=u(l,["index"]);y!=null&&c(t,["index"],y);const g=u(l,["logprobsResult"]);g!=null&&c(t,["logprobsResult"],g);const x=u(l,["safetyRatings"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(C=>C)),c(t,["safetyRatings"],E)}const S=u(l,["urlContextMetadata"]);return S!=null&&c(t,["urlContextMetadata"],S),t}function B0(l){const t={},o=u(l,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function Lh(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>gx(f))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function O0(l,t){const o={},a=u(l,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(l,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function F0(l,t){const o={},a=u(l,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(l,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],U0(w0(r))),o}function Xp(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],G0(l,Ih(l,r)));const f=u(t,["config"]);return f!=null&&O0(f,o),o}function J0(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Ae(l,a));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],q0(Ih(l,r)));const f=u(t,["config"]);return f!=null&&F0(f,o),o}function Y0(l,t){const o={},a=u(l,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),o}function K0(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],ex(l,r));const f=u(t,["config"]);return f!=null&&Y0(f,o),o}function X0(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],$l(l,a)),o}function Q0(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],$l(l,a)),o}function Z0(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);return f!=null&&c(t,["error"],f),t}function $0(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);return f!=null&&c(t,["error"],f),t}function W0(l,t){const o={},a=u(t,["contents"]);if(a!=null){let f=vu(l,a);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],j0(r,o)),Qv(o,{"requests[].*":"requests[].request.*"})),o}function j0(l,t){const o={},a=u(l,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(l,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(l,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function ex(l,t){const o={},a=u(t,["fileName"]);a!=null&&c(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],W0(l,r)),o}function tx(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function nx(l,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Lh(lt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const h=u(t,["topK"]);h!=null&&c(a,["topK"],h);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=u(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const x=u(t,["stopSequences"]);x!=null&&c(a,["stopSequences"],x);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const w=u(t,["seed"]);w!=null&&c(a,["seed"],w);const z=u(t,["responseMimeType"]);z!=null&&c(a,["responseMimeType"],z);const Y=u(t,["responseSchema"]);Y!=null&&c(a,["responseSchema"],xu(Y));const K=u(t,["responseJsonSchema"]);if(K!=null&&c(a,["responseJsonSchema"],K),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(o!==void 0&&O!=null){let le=O;Array.isArray(le)&&(le=le.map(ge=>yx(ge))),c(o,["safetySettings"],le)}const F=u(t,["tools"]);if(o!==void 0&&F!=null){let le=Zl(F);Array.isArray(le)&&(le=le.map(ge=>vx(Ql(ge)))),c(o,["tools"],le)}const X=u(t,["toolConfig"]);if(o!==void 0&&X!=null&&c(o,["toolConfig"],X),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=u(t,["cachedContent"]);o!==void 0&&W!=null&&c(o,["cachedContent"],fn(l,W));const Q=u(t,["responseModalities"]);Q!=null&&c(a,["responseModalities"],Q);const de=u(t,["mediaResolution"]);de!=null&&c(a,["mediaResolution"],de);const B=u(t,["speechConfig"]);if(B!=null&&c(a,["speechConfig"],Tu(B)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=u(t,["thinkingConfig"]);re!=null&&c(a,["thinkingConfig"],re);const ce=u(t,["imageConfig"]);return ce!=null&&c(a,["imageConfig"],ce),a}function lx(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>z0(g))),c(t,["candidates"],y)}const r=u(l,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(l,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(l,["responseId"]);p!=null&&c(t,["responseId"],p);const h=u(l,["usageMetadata"]);return h!=null&&c(t,["usageMetadata"],h),t}function ix(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],$l(l,a)),o}function ox(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],$l(l,a)),o}function ax(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function sx(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function rx(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["request","model"],Ae(l,a));const r=u(t,["contents"]);if(r!=null){let h=Ut(r);Array.isArray(h)&&(h=h.map(y=>Lh(y))),c(o,["request","contents"],h)}const f=u(t,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(o,["request","generationConfig"],nx(l,p,u(o,["request"],{}))),o}function ux(l){const t={},o=u(l,["response"]);o!=null&&c(t,["response"],lx(o));const a=u(l,["error"]);return a!=null&&c(t,["error"],a),t}function cx(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(l,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function fx(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(l,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),o}function dx(l){const t={},o=u(l,["config"]);return o!=null&&cx(o,t),t}function mx(l){const t={},o=u(l,["config"]);return o!=null&&fx(o,t),t}function px(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>va(p))),c(t,["batchJobs"],f)}return t}function hx(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>au(p))),c(t,["batchJobs"],f)}return t}function gx(l){const t={},o=u(l,["functionCall"]);o!=null&&c(t,["functionCall"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(l,["fileData"]);f!=null&&c(t,["fileData"],tx(f));const p=u(l,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const h=u(l,["inlineData"]);h!=null&&c(t,["inlineData"],P0(h));const y=u(l,["text"]);y!=null&&c(t,["text"],y);const g=u(l,["thought"]);g!=null&&c(t,["thought"],g);const x=u(l,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const S=u(l,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function yx(l){const t={},o=u(l,["category"]);if(o!=null&&c(t,["category"],o),u(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(l,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function vx(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(S=>S)),c(t,["functionDeclarations"],x)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(l,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=u(l,["googleMaps"]);h!=null&&c(t,["googleMaps"],ax(h));const y=u(l,["googleSearch"]);y!=null&&c(t,["googleSearch"],sx(y));const g=u(l,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var un;(function(l){l.PAGED_ITEM_BATCH_JOBS="batchJobs",l.PAGED_ITEM_MODELS="models",l.PAGED_ITEM_TUNING_JOBS="tuningJobs",l.PAGED_ITEM_FILES="files",l.PAGED_ITEM_CACHED_CONTENTS="cachedContents",l.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",l.PAGED_ITEM_DOCUMENTS="documents"})(un||(un={}));class ol{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,f;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xx extends cn{constructor(t){super(),this.apiClient=t,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new ol(un.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o)}createInlinedGenerateContentRequest(t){const o=Xp(this.apiClient,t),a=o._url,r=$("{model}:batchGenerateContent",a),h=o.batch.inputConfig.requests,y=h.requests,g=[];for(const x of y){const S=Object.assign({},x);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const C=S.request;C.systemInstruction=E,S.request=C}g.push(S)}return h.requests=g,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=J0(this.apiClient,t);return h=$("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p.then(x=>au(x))}else{const g=Xp(this.apiClient,t);return h=$("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),p.then(x=>va(x))}}async createEmbeddingsInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=K0(this.apiClient,t);return f=$("{model}:asyncBatchEmbedContent",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>va(y))}}async get(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=ox(this.apiClient,t);return h=$("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p.then(x=>au(x))}else{const g=ix(this.apiClient,t);return h=$("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),p.then(x=>va(x))}}async cancel(t){var o,a,r,f;let p="",h={};if(this.apiClient.isVertexAI()){const y=V0(this.apiClient,t);p=$("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=H0(this.apiClient,t);p=$("batches/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=mx(t);return h=$("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=hx(x),E=new Fp;return Object.assign(E,S),E})}else{const g=dx(t);return h=$("batches",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=px(x),E=new Fp;return Object.assign(E,S),E})}}async delete(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Q0(this.apiClient,t);return h=$("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>$0(x))}else{const g=X0(this.apiClient,t);return h=$("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>Z0(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tx(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Qp(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>zx(f))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function Sx(l,t){const o={},a=u(l,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(l,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(l,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(l,["contents"]);if(t!==void 0&&p!=null){let x=Ut(p);Array.isArray(x)&&(x=x.map(S=>Qp(S))),c(t,["contents"],x)}const h=u(l,["systemInstruction"]);t!==void 0&&h!=null&&c(t,["systemInstruction"],Qp(lt(h)));const y=u(l,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(S=>Bx(S))),c(t,["tools"],x)}const g=u(l,["toolConfig"]);if(t!==void 0&&g!=null&&c(t,["toolConfig"],g),u(l,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function Ex(l,t){const o={},a=u(l,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(l,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(l,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(l,["contents"]);if(t!==void 0&&p!=null){let S=Ut(p);Array.isArray(S)&&(S=S.map(E=>E)),c(t,["contents"],S)}const h=u(l,["systemInstruction"]);t!==void 0&&h!=null&&c(t,["systemInstruction"],lt(h));const y=u(l,["tools"]);if(t!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>Ox(E))),c(t,["tools"],S)}const g=u(l,["toolConfig"]);t!==void 0&&g!=null&&c(t,["toolConfig"],g);const x=u(l,["kmsKeyName"]);return t!==void 0&&x!=null&&c(t,["encryption_spec","kmsKeyName"],x),o}function _x(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],_h(l,a));const r=u(t,["config"]);return r!=null&&Sx(r,o),o}function Cx(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],_h(l,a));const r=u(t,["config"]);return r!=null&&Ex(r,o),o}function Ax(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],fn(l,a)),o}function Nx(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],fn(l,a)),o}function bx(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function Rx(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function Mx(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function kx(l){const t={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(t,["description"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(l,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(l,["response"]);p!=null&&c(t,["response"],p);const h=u(l,["responseJsonSchema"]);return h!=null&&c(t,["responseJsonSchema"],h),t}function wx(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],fn(l,a)),o}function Ix(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],fn(l,a)),o}function Dx(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function Ux(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function Lx(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function Gx(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function qx(l){const t={},o=u(l,["config"]);return o!=null&&Lx(o,t),t}function Px(l){const t={},o=u(l,["config"]);return o!=null&&Gx(o,t),t}function Hx(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function Vx(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function zx(l){const t={},o=u(l,["functionCall"]);o!=null&&c(t,["functionCall"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(l,["fileData"]);f!=null&&c(t,["fileData"],Mx(f));const p=u(l,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const h=u(l,["inlineData"]);h!=null&&c(t,["inlineData"],Tx(h));const y=u(l,["text"]);y!=null&&c(t,["text"],y);const g=u(l,["thought"]);g!=null&&c(t,["thought"],g);const x=u(l,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const S=u(l,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function Bx(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(S=>S)),c(t,["functionDeclarations"],x)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(l,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=u(l,["googleMaps"]);h!=null&&c(t,["googleMaps"],Dx(h));const y=u(l,["googleSearch"]);y!=null&&c(t,["googleSearch"],Ux(y));const g=u(l,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function Ox(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>kx(E))),c(t,["functionDeclarations"],S)}const a=u(l,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(l,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(l,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(l,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const h=u(l,["enterpriseWebSearch"]);h!=null&&c(t,["enterpriseWebSearch"],h);const y=u(l,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const g=u(l,["googleSearch"]);g!=null&&c(t,["googleSearch"],g);const x=u(l,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function Fx(l,t){const o={},a=u(l,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(l,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function Jx(l,t){const o={},a=u(l,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(l,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function Yx(l,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],fn(l,a));const r=u(t,["config"]);return r!=null&&Fx(r,o),o}function Kx(l,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],fn(l,a));const r=u(t,["config"]);return r!=null&&Jx(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xx extends cn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ol(un.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Cx(this.apiClient,t);return h=$("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const g=_x(this.apiClient,t);return h=$("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async get(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Ix(this.apiClient,t);return h=$("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const g=wx(this.apiClient,t);return h=$("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async delete(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Nx(this.apiClient,t);return h=$("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=Rx(x),E=new Bp;return Object.assign(E,S),E})}else{const g=Ax(this.apiClient,t);return h=$("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=bx(x),E=new Bp;return Object.assign(E,S),E})}}async update(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Kx(this.apiClient,t);return h=$("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const g=Yx(this.apiClient,t);return h=$("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async listInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Px(t);return h=$("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=Vx(x),E=new Op;return Object.assign(E,S),E})}else{const g=qx(t);return h=$("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=Hx(x),E=new Op;return Object.assign(E,S),E})}}}function Zp(l){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&l[t],a=0;if(o)return o.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&a>=l.length&&(l=void 0),{value:l&&l[a++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(l){return this instanceof qe?(this.v=l,this):new qe(l)}function Yl(l,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(l,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(C){return function(M){return Promise.resolve(M).then(C,S)}}function h(C,M){a[C]&&(r[C]=function(w){return new Promise(function(z,Y){f.push([C,w,z,Y])>1||y(C,w)})},M&&(r[C]=M(r[C])))}function y(C,M){try{g(a[C](M))}catch(w){E(f[0][3],w)}}function g(C){C.value instanceof qe?Promise.resolve(C.value.v).then(x,S):E(f[0][2],C)}function x(C){y("next",C)}function S(C){y("throw",C)}function E(C,M){C(M),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Zi(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=l[Symbol.asyncIterator],o;return t?t.call(l):(l=typeof Zp=="function"?Zp(l):l[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(f){o[f]=l[f]&&function(p){return new Promise(function(h,y){p=l[f](p),r(h,y,p.done,p.value)})}}function r(f,p,h,y){Promise.resolve(y).then(function(g){f({value:g,done:h})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qx(l){var t;if(l.candidates==null||l.candidates.length===0)return!1;const o=(t=l.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:Gh(o)}function Gh(l){if(l.parts===void 0||l.parts.length===0)return!1;for(const t of l.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Zx(l){if(l.length!==0){for(const t of l)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function $p(l){if(l===void 0||l.length===0)return[];const t=[],o=l.length;let a=0;for(;a<o;)if(l[a].role==="user")t.push(l[a]),a++;else{const r=[];let f=!0;for(;a<o&&l[a].role==="model";)r.push(l[a]),f&&!Gh(l[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class $x{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new Wx(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Wx{constructor(t,o,a,r={},f=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),Zx(f)}async sendMessage(t){var o;await this.sendPromise;const a=lt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,p,h;const y=await r,g=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,x=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];x!=null&&(E=(h=x.slice(S))!==null&&h!==void 0?h:[]);const C=g?[g]:[];this.recordHistory(a,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=lt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const o=t?$p(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){var a,r;return Yl(this,arguments,function*(){var p,h,y,g;const x=[];try{for(var S=!0,E=Zi(t),C;C=yield qe(E.next()),p=C.done,!p;S=!0){g=C.value,S=!1;const M=g;if(Qx(M)){const w=(r=(a=M.candidates)===null||a===void 0?void 0:a[0])===null||r===void 0?void 0:r.content;w!==void 0&&x.push(w)}yield yield qe(M)}}catch(M){h={error:M}}finally{try{!S&&!p&&(y=E.return)&&(yield qe(y.call(E)))}finally{if(h)throw h.error}}this.recordHistory(o,x)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(f=>f.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...$p(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Aa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jx(l){const t={},o=u(l,["file"]);return o!=null&&c(t,["file"],o),t}function eT(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function tT(l){const t={},o=u(l,["name"]);return o!=null&&c(t,["_url","file"],Mh(o)),t}function nT(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function lT(l){const t={},o=u(l,["name"]);return o!=null&&c(t,["_url","file"],Mh(o)),t}function iT(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function oT(l){const t={},o=u(l,["config"]);return o!=null&&iT(o,t),t}function aT(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sT extends cn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ol(un.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=oT(t);return f=$("files",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const g=aT(y),x=new v0;return Object.assign(x,g),x})}}async createInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=jx(t);return f=$("upload/v1beta/files",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=eT(y),x=new x0;return Object.assign(x,g),x})}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=lT(t);return f=$("files/{file}",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tT(t);return f=$("files/{file}",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const g=nT(y),x=new T0;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xa(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function rT(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>_T(f))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function uT(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function cT(l){const t={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(t,["description"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(l,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(l,["response"]);p!=null&&c(t,["response"],p);const h=u(l,["responseJsonSchema"]);return h!=null&&c(t,["responseJsonSchema"],h),t}function fT(l){const t={},o=u(l,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(l,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(l,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(l,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(l,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const h=u(l,["frequencyPenalty"]);h!=null&&c(t,["frequencyPenalty"],h);const y=u(l,["logprobs"]);y!=null&&c(t,["logprobs"],y);const g=u(l,["maxOutputTokens"]);g!=null&&c(t,["maxOutputTokens"],g);const x=u(l,["mediaResolution"]);x!=null&&c(t,["mediaResolution"],x);const S=u(l,["presencePenalty"]);S!=null&&c(t,["presencePenalty"],S);const E=u(l,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const C=u(l,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const M=u(l,["responseModalities"]);M!=null&&c(t,["responseModalities"],M);const w=u(l,["responseSchema"]);w!=null&&c(t,["responseSchema"],w);const z=u(l,["routingConfig"]);z!=null&&c(t,["routingConfig"],z);const Y=u(l,["seed"]);Y!=null&&c(t,["seed"],Y);const K=u(l,["speechConfig"]);K!=null&&c(t,["speechConfig"],qh(K));const O=u(l,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const F=u(l,["temperature"]);F!=null&&c(t,["temperature"],F);const X=u(l,["thinkingConfig"]);X!=null&&c(t,["thinkingConfig"],X);const W=u(l,["topK"]);W!=null&&c(t,["topK"],W);const Q=u(l,["topP"]);if(Q!=null&&c(t,["topP"],Q),u(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function dT(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function mT(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function pT(l,t){const o={},a=u(l,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(l,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(l,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(l,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const h=u(l,["topK"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topK"],h);const y=u(l,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(l,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const x=u(l,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const S=u(l,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],Su(S));const E=u(l,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(l,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const M=u(l,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],rT(lt(M)));const w=u(l,["tools"]);if(t!==void 0&&w!=null){let W=Zl(w);Array.isArray(W)&&(W=W.map(Q=>AT(Ql(Q)))),c(t,["setup","tools"],W)}const z=u(l,["sessionResumption"]);t!==void 0&&z!=null&&c(t,["setup","sessionResumption"],CT(z));const Y=u(l,["inputAudioTranscription"]);t!==void 0&&Y!=null&&c(t,["setup","inputAudioTranscription"],Y);const K=u(l,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const O=u(l,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const F=u(l,["contextWindowCompression"]);t!==void 0&&F!=null&&c(t,["setup","contextWindowCompression"],F);const X=u(l,["proactivity"]);return t!==void 0&&X!=null&&c(t,["setup","proactivity"],X),o}function hT(l,t){const o={},a=u(l,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],fT(a));const r=u(l,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(l,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(l,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const h=u(l,["topK"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topK"],h);const y=u(l,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(l,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const x=u(l,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const S=u(l,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],qh(Su(S)));const E=u(l,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(l,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const M=u(l,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],lt(M));const w=u(l,["tools"]);if(t!==void 0&&w!=null){let W=Zl(w);Array.isArray(W)&&(W=W.map(Q=>NT(Ql(Q)))),c(t,["setup","tools"],W)}const z=u(l,["sessionResumption"]);t!==void 0&&z!=null&&c(t,["setup","sessionResumption"],z);const Y=u(l,["inputAudioTranscription"]);t!==void 0&&Y!=null&&c(t,["setup","inputAudioTranscription"],Y);const K=u(l,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const O=u(l,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const F=u(l,["contextWindowCompression"]);t!==void 0&&F!=null&&c(t,["setup","contextWindowCompression"],F);const X=u(l,["proactivity"]);return t!==void 0&&X!=null&&c(t,["setup","proactivity"],X),o}function gT(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ae(l,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],pT(r,o)),o}function yT(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ae(l,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],hT(r,o)),o}function vT(l){const t={},o=u(l,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function xT(l){const t={},o=u(l,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function TT(l){const t={},o=u(l,["media"]);if(o!=null){let g=Ch(o);Array.isArray(g)&&(g=g.map(x=>xa(x))),c(t,["mediaChunks"],g)}const a=u(l,["audio"]);a!=null&&c(t,["audio"],xa(Nh(a)));const r=u(l,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(l,["video"]);f!=null&&c(t,["video"],xa(Ah(f)));const p=u(l,["text"]);p!=null&&c(t,["text"],p);const h=u(l,["activityStart"]);h!=null&&c(t,["activityStart"],h);const y=u(l,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function ST(l){const t={},o=u(l,["media"]);if(o!=null){let g=Ch(o);Array.isArray(g)&&(g=g.map(x=>x)),c(t,["mediaChunks"],g)}const a=u(l,["audio"]);a!=null&&c(t,["audio"],Nh(a));const r=u(l,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(l,["video"]);f!=null&&c(t,["video"],Ah(f));const p=u(l,["text"]);p!=null&&c(t,["text"],p);const h=u(l,["activityStart"]);h!=null&&c(t,["activityStart"],h);const y=u(l,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function ET(l){const t={},o=u(l,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const a=u(l,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(l,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(l,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(l,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],bT(p));const h=u(l,["goAway"]);h!=null&&c(t,["goAway"],h);const y=u(l,["sessionResumptionUpdate"]);return y!=null&&c(t,["sessionResumptionUpdate"],y),t}function _T(l){const t={},o=u(l,["functionCall"]);o!=null&&c(t,["functionCall"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(l,["fileData"]);f!=null&&c(t,["fileData"],uT(f));const p=u(l,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const h=u(l,["inlineData"]);h!=null&&c(t,["inlineData"],xa(h));const y=u(l,["text"]);y!=null&&c(t,["text"],y);const g=u(l,["thought"]);g!=null&&c(t,["thought"],g);const x=u(l,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const S=u(l,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function CT(l){const t={},o=u(l,["handle"]);if(o!=null&&c(t,["handle"],o),u(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function qh(l){const t={},o=u(l,["languageCode"]);o!=null&&c(t,["languageCode"],o);const a=u(l,["voiceConfig"]);if(a!=null&&c(t,["voiceConfig"],a),u(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function AT(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(S=>S)),c(t,["functionDeclarations"],x)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(l,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=u(l,["googleMaps"]);h!=null&&c(t,["googleMaps"],dT(h));const y=u(l,["googleSearch"]);y!=null&&c(t,["googleSearch"],mT(y));const g=u(l,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function NT(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>cT(E))),c(t,["functionDeclarations"],S)}const a=u(l,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(l,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(l,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(l,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const h=u(l,["enterpriseWebSearch"]);h!=null&&c(t,["enterpriseWebSearch"],h);const y=u(l,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const g=u(l,["googleSearch"]);g!=null&&c(t,["googleSearch"],g);const x=u(l,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function bT(l){const t={},o=u(l,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const a=u(l,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(l,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(l,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(l,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const h=u(l,["totalTokenCount"]);h!=null&&c(t,["totalTokenCount"],h);const y=u(l,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(M=>M)),c(t,["promptTokensDetails"],C)}const g=u(l,["cacheTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(M=>M)),c(t,["cacheTokensDetails"],C)}const x=u(l,["candidatesTokensDetails"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(M=>M)),c(t,["responseTokensDetails"],C)}const S=u(l,["toolUsePromptTokensDetails"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(M=>M)),c(t,["toolUsePromptTokensDetails"],C)}const E=u(l,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RT(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function MT(l){const t={},o=u(l,["content"]);o!=null&&c(t,["content"],o);const a=u(l,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],kT(a));const r=u(l,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(l,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(l,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const h=u(l,["groundingMetadata"]);h!=null&&c(t,["groundingMetadata"],h);const y=u(l,["index"]);y!=null&&c(t,["index"],y);const g=u(l,["logprobsResult"]);g!=null&&c(t,["logprobsResult"],g);const x=u(l,["safetyRatings"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(C=>C)),c(t,["safetyRatings"],E)}const S=u(l,["urlContextMetadata"]);return S!=null&&c(t,["urlContextMetadata"],S),t}function kT(l){const t={},o=u(l,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function wT(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["contents"]);if(r!=null){let f=Ut(r);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["contents"],f)}return o}function IT(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function DT(l){const t={},o=u(l,["values"]);o!=null&&c(t,["values"],o);const a=u(l,["statistics"]);return a!=null&&c(t,["statistics"],UT(a)),t}function UT(l){const t={},o=u(l,["truncated"]);o!=null&&c(t,["truncated"],o);const a=u(l,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Na(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>HS(f))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function LT(l){const t={},o=u(l,["controlType"]);o!=null&&c(t,["controlType"],o);const a=u(l,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function GT(l){const t={};if(u(l,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(l,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(l,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function qT(l,t){const o={},a=u(l,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],lt(a));const r=u(l,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(h=>Bh(h))),c(t,["tools"],p)}const f=u(l,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],NS(f)),o}function PT(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["contents"]);if(r!=null){let p=Ut(r);Array.isArray(p)&&(p=p.map(h=>Na(h))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&GT(f),o}function HT(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["contents"]);if(r!=null){let p=Ut(r);Array.isArray(p)&&(p=p.map(h=>h)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&qT(f,o),o}function VT(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(l,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function zT(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function BT(l,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ae(l,a)),o}function OT(l,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ae(l,a)),o}function FT(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function JT(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function YT(l,t){const o={},a=u(l,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(l,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(l,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(l,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const h=u(l,["guidanceScale"]);t!==void 0&&h!=null&&c(t,["parameters","guidanceScale"],h);const y=u(l,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const g=u(l,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const x=u(l,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const S=u(l,["includeSafetyAttributes"]);t!==void 0&&S!=null&&c(t,["parameters","includeSafetyAttributes"],S);const E=u(l,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const C=u(l,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const M=u(l,["outputMimeType"]);t!==void 0&&M!=null&&c(t,["parameters","outputOptions","mimeType"],M);const w=u(l,["outputCompressionQuality"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","compressionQuality"],w);const z=u(l,["addWatermark"]);t!==void 0&&z!=null&&c(t,["parameters","addWatermark"],z);const Y=u(l,["labels"]);t!==void 0&&Y!=null&&c(t,["labels"],Y);const K=u(l,["editMode"]);t!==void 0&&K!=null&&c(t,["parameters","editMode"],K);const O=u(l,["baseSteps"]);return t!==void 0&&O!=null&&c(t,["parameters","editConfig","baseSteps"],O),o}function KT(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>JS(y))),c(o,["instances[0]","referenceImages"],h)}const p=u(t,["config"]);return p!=null&&YT(p,o),o}function XT(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>ba(f))),c(t,["generatedImages"],r)}return t}function QT(l,t){const o={},a=u(l,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(l,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(l,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function ZT(l,t){const o={},a=u(l,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(l,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(l,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(l,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const h=u(l,["autoTruncate"]);return t!==void 0&&h!=null&&c(t,["parameters","autoTruncate"],h),o}function $T(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["contents"]);if(r!=null){let h=vu(l,r);Array.isArray(h)&&(h=h.map(y=>y)),c(o,["requests[]","content"],h)}const f=u(t,["config"]);f!=null&&QT(f,o);const p=u(t,["model"]);return p!==void 0&&c(o,["requests[]","model"],Ae(l,p)),o}function WT(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["contents"]);if(r!=null){let p=vu(l,r);Array.isArray(p)&&(p=p.map(h=>h)),c(o,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&ZT(f,o),o}function jT(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(l,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function eS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>DT(p))),c(t,["embeddings"],f)}const r=u(l,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function tS(l){const t={},o=u(l,["endpoint"]);o!=null&&c(t,["name"],o);const a=u(l,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function nS(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function lS(l){const t={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(t,["description"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(l,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(l,["response"]);p!=null&&c(t,["response"],p);const h=u(l,["responseJsonSchema"]);return h!=null&&c(t,["responseJsonSchema"],h),t}function iS(l,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Na(lt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const h=u(t,["topK"]);h!=null&&c(a,["topK"],h);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=u(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const x=u(t,["stopSequences"]);x!=null&&c(a,["stopSequences"],x);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const w=u(t,["seed"]);w!=null&&c(a,["seed"],w);const z=u(t,["responseMimeType"]);z!=null&&c(a,["responseMimeType"],z);const Y=u(t,["responseSchema"]);Y!=null&&c(a,["responseSchema"],xu(Y));const K=u(t,["responseJsonSchema"]);if(K!=null&&c(a,["responseJsonSchema"],K),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(o!==void 0&&O!=null){let le=O;Array.isArray(le)&&(le=le.map(ge=>YS(ge))),c(o,["safetySettings"],le)}const F=u(t,["tools"]);if(o!==void 0&&F!=null){let le=Zl(F);Array.isArray(le)&&(le=le.map(ge=>WS(Ql(ge)))),c(o,["tools"],le)}const X=u(t,["toolConfig"]);if(o!==void 0&&X!=null&&c(o,["toolConfig"],X),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=u(t,["cachedContent"]);o!==void 0&&W!=null&&c(o,["cachedContent"],fn(l,W));const Q=u(t,["responseModalities"]);Q!=null&&c(a,["responseModalities"],Q);const de=u(t,["mediaResolution"]);de!=null&&c(a,["mediaResolution"],de);const B=u(t,["speechConfig"]);if(B!=null&&c(a,["speechConfig"],Tu(B)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=u(t,["thinkingConfig"]);re!=null&&c(a,["thinkingConfig"],re);const ce=u(t,["imageConfig"]);return ce!=null&&c(a,["imageConfig"],ce),a}function oS(l,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],lt(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const h=u(t,["topK"]);h!=null&&c(a,["topK"],h);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=u(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const x=u(t,["stopSequences"]);x!=null&&c(a,["stopSequences"],x);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const w=u(t,["seed"]);w!=null&&c(a,["seed"],w);const z=u(t,["responseMimeType"]);z!=null&&c(a,["responseMimeType"],z);const Y=u(t,["responseSchema"]);Y!=null&&c(a,["responseSchema"],xu(Y));const K=u(t,["responseJsonSchema"]);K!=null&&c(a,["responseJsonSchema"],K);const O=u(t,["routingConfig"]);O!=null&&c(a,["routingConfig"],O);const F=u(t,["modelSelectionConfig"]);F!=null&&c(a,["modelConfig"],F);const X=u(t,["safetySettings"]);if(o!==void 0&&X!=null){let D=X;Array.isArray(D)&&(D=D.map(J=>J)),c(o,["safetySettings"],D)}const W=u(t,["tools"]);if(o!==void 0&&W!=null){let D=Zl(W);Array.isArray(D)&&(D=D.map(J=>Bh(Ql(J)))),c(o,["tools"],D)}const Q=u(t,["toolConfig"]);o!==void 0&&Q!=null&&c(o,["toolConfig"],Q);const de=u(t,["labels"]);o!==void 0&&de!=null&&c(o,["labels"],de);const B=u(t,["cachedContent"]);o!==void 0&&B!=null&&c(o,["cachedContent"],fn(l,B));const re=u(t,["responseModalities"]);re!=null&&c(a,["responseModalities"],re);const ce=u(t,["mediaResolution"]);ce!=null&&c(a,["mediaResolution"],ce);const le=u(t,["speechConfig"]);le!=null&&c(a,["speechConfig"],zh(Tu(le)));const ge=u(t,["audioTimestamp"]);ge!=null&&c(a,["audioTimestamp"],ge);const ae=u(t,["thinkingConfig"]);ae!=null&&c(a,["thinkingConfig"],ae);const xe=u(t,["imageConfig"]);return xe!=null&&c(a,["imageConfig"],xe),a}function Wp(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["contents"]);if(r!=null){let p=Ut(r);Array.isArray(p)&&(p=p.map(h=>Na(h))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],iS(l,f,o)),o}function jp(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["contents"]);if(r!=null){let p=Ut(r);Array.isArray(p)&&(p=p.map(h=>h)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],oS(l,f,o)),o}function eh(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>MT(g))),c(t,["candidates"],y)}const r=u(l,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(l,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(l,["responseId"]);p!=null&&c(t,["responseId"],p);const h=u(l,["usageMetadata"]);return h!=null&&c(t,["usageMetadata"],h),t}function th(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(x=>x)),c(t,["candidates"],g)}const r=u(l,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(l,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(l,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const h=u(l,["responseId"]);h!=null&&c(t,["responseId"],h);const y=u(l,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function aS(l,t){const o={};if(u(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(l,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(l,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(l,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(l,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(l,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const h=u(l,["personGeneration"]);t!==void 0&&h!=null&&c(t,["parameters","personGeneration"],h);const y=u(l,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const g=u(l,["includeRaiReason"]);t!==void 0&&g!=null&&c(t,["parameters","includeRaiReason"],g);const x=u(l,["language"]);t!==void 0&&x!=null&&c(t,["parameters","language"],x);const S=u(l,["outputMimeType"]);t!==void 0&&S!=null&&c(t,["parameters","outputOptions","mimeType"],S);const E=u(l,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(l,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(l,["imageSize"]);if(t!==void 0&&C!=null&&c(t,["parameters","sampleImageSize"],C),u(l,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function sS(l,t){const o={},a=u(l,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(l,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(l,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(l,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const h=u(l,["guidanceScale"]);t!==void 0&&h!=null&&c(t,["parameters","guidanceScale"],h);const y=u(l,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const g=u(l,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const x=u(l,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const S=u(l,["includeSafetyAttributes"]);t!==void 0&&S!=null&&c(t,["parameters","includeSafetyAttributes"],S);const E=u(l,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const C=u(l,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const M=u(l,["outputMimeType"]);t!==void 0&&M!=null&&c(t,["parameters","outputOptions","mimeType"],M);const w=u(l,["outputCompressionQuality"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","compressionQuality"],w);const z=u(l,["addWatermark"]);t!==void 0&&z!=null&&c(t,["parameters","addWatermark"],z);const Y=u(l,["labels"]);t!==void 0&&Y!=null&&c(t,["labels"],Y);const K=u(l,["imageSize"]);t!==void 0&&K!=null&&c(t,["parameters","sampleImageSize"],K);const O=u(l,["enhancePrompt"]);return t!==void 0&&O!=null&&c(t,["parameters","enhancePrompt"],O),o}function rS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&aS(f,o),o}function uS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&sS(f,o),o}function cS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>ES(p))),c(t,["generatedImages"],f)}const r=u(l,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Hh(r)),t}function fS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>ba(p))),c(t,["generatedImages"],f)}const r=u(l,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Vh(r)),t}function dS(l,t){const o={},a=u(l,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(l,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(l,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(l,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(l,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const h=u(l,["personGeneration"]);if(t!==void 0&&h!=null&&c(t,["parameters","personGeneration"],h),u(l,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(l,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const g=u(l,["enhancePrompt"]);if(t!==void 0&&g!=null&&c(t,["parameters","enhancePrompt"],g),u(l,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=u(l,["lastFrame"]);t!==void 0&&x!=null&&c(t,["instances[0]","lastFrame"],Ra(x));const S=u(l,["referenceImages"]);if(t!==void 0&&S!=null){let E=S;Array.isArray(E)&&(E=E.map(C=>fE(C))),c(t,["instances[0]","referenceImages"],E)}if(u(l,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(l,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function mS(l,t){const o={},a=u(l,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(l,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(l,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(l,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const h=u(l,["seed"]);t!==void 0&&h!=null&&c(t,["parameters","seed"],h);const y=u(l,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const g=u(l,["resolution"]);t!==void 0&&g!=null&&c(t,["parameters","resolution"],g);const x=u(l,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const S=u(l,["pubsubTopic"]);t!==void 0&&S!=null&&c(t,["parameters","pubsubTopic"],S);const E=u(l,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const C=u(l,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const M=u(l,["generateAudio"]);t!==void 0&&M!=null&&c(t,["parameters","generateAudio"],M);const w=u(l,["lastFrame"]);t!==void 0&&w!=null&&c(t,["instances[0]","lastFrame"],Pt(w));const z=u(l,["referenceImages"]);if(t!==void 0&&z!=null){let O=z;Array.isArray(O)&&(O=O.map(F=>dE(F))),c(t,["instances[0]","referenceImages"],O)}const Y=u(l,["mask"]);t!==void 0&&Y!=null&&c(t,["instances[0]","mask"],cE(Y));const K=u(l,["compressionQuality"]);return t!==void 0&&K!=null&&c(t,["parameters","compressionQuality"],K),o}function pS(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);f!=null&&c(t,["error"],f);const p=u(l,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],vS(p)),t}function hS(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);f!=null&&c(t,["error"],f);const p=u(l,["response"]);return p!=null&&c(t,["response"],xS(p)),t}function gS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],Ra(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],Oh(p));const h=u(t,["source"]);h!=null&&TS(h,o);const y=u(t,["config"]);return y!=null&&dS(y,o),o}function yS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],Pt(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],Fh(p));const h=u(t,["source"]);h!=null&&SS(h,o);const y=u(t,["config"]);return y!=null&&mS(y,o),o}function vS(l){const t={},o=u(l,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>CS(p))),c(t,["generatedVideos"],f)}const a=u(l,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function xS(l){const t={},o=u(l,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>AS(p))),c(t,["generatedVideos"],f)}const a=u(l,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function TS(l,t){const o={},a=u(l,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(l,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Ra(r));const f=u(l,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Oh(f)),o}function SS(l,t){const o={},a=u(l,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(l,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Pt(r));const f=u(l,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Fh(f)),o}function ES(l){const t={},o=u(l,["_self"]);o!=null&&c(t,["image"],wS(o));const a=u(l,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(l,["_self"]);return r!=null&&c(t,["safetyAttributes"],Hh(r)),t}function ba(l){const t={},o=u(l,["_self"]);o!=null&&c(t,["image"],Ph(o));const a=u(l,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(l,["_self"]);r!=null&&c(t,["safetyAttributes"],Vh(r));const f=u(l,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function _S(l){const t={},o=u(l,["_self"]);o!=null&&c(t,["mask"],Ph(o));const a=u(l,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function CS(l){const t={},o=u(l,["video"]);return o!=null&&c(t,["video"],rE(o)),t}function AS(l){const t={},o=u(l,["_self"]);return o!=null&&c(t,["video"],uE(o)),t}function NS(l){const t={},o=u(l,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(l,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(l,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(l,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(l,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const h=u(l,["frequencyPenalty"]);h!=null&&c(t,["frequencyPenalty"],h);const y=u(l,["logprobs"]);y!=null&&c(t,["logprobs"],y);const g=u(l,["maxOutputTokens"]);g!=null&&c(t,["maxOutputTokens"],g);const x=u(l,["mediaResolution"]);x!=null&&c(t,["mediaResolution"],x);const S=u(l,["presencePenalty"]);S!=null&&c(t,["presencePenalty"],S);const E=u(l,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const C=u(l,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const M=u(l,["responseModalities"]);M!=null&&c(t,["responseModalities"],M);const w=u(l,["responseSchema"]);w!=null&&c(t,["responseSchema"],w);const z=u(l,["routingConfig"]);z!=null&&c(t,["routingConfig"],z);const Y=u(l,["seed"]);Y!=null&&c(t,["seed"],Y);const K=u(l,["speechConfig"]);K!=null&&c(t,["speechConfig"],zh(K));const O=u(l,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const F=u(l,["temperature"]);F!=null&&c(t,["temperature"],F);const X=u(l,["thinkingConfig"]);X!=null&&c(t,["thinkingConfig"],X);const W=u(l,["topK"]);W!=null&&c(t,["topK"],W);const Q=u(l,["topP"]);if(Q!=null&&c(t,["topP"],Q),u(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function bS(l,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ae(l,a)),o}function RS(l,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ae(l,a)),o}function MS(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function kS(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function wS(l){const t={},o=u(l,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],Hn(o));const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Ph(l){const t={},o=u(l,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(l,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],Hn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Ra(l){const t={};if(u(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(l,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],Hn(o));const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Pt(l){const t={},o=u(l,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(l,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Hn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function IS(l,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const h=u(t,["queryBase"]);return o!==void 0&&h!=null&&c(o,["_url","models_url"],kh(l,h)),a}function DS(l,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const h=u(t,["queryBase"]);return o!==void 0&&h!=null&&c(o,["_url","models_url"],kh(l,h)),a}function US(l,t){const o={},a=u(t,["config"]);return a!=null&&IS(l,a,o),o}function LS(l,t){const o={},a=u(t,["config"]);return a!=null&&DS(l,a,o),o}function GS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["_self"]);if(r!=null){let f=wh(r);Array.isArray(f)&&(f=f.map(p=>su(p))),c(t,["models"],f)}return t}function qS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["_self"]);if(r!=null){let f=wh(r);Array.isArray(f)&&(f=f.map(p=>ru(p))),c(t,["models"],f)}return t}function PS(l){const t={},o=u(l,["maskMode"]);o!=null&&c(t,["maskMode"],o);const a=u(l,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(l,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function su(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(l,["description"]);r!=null&&c(t,["description"],r);const f=u(l,["version"]);f!=null&&c(t,["version"],f);const p=u(l,["_self"]);p!=null&&c(t,["tunedModelInfo"],jS(p));const h=u(l,["inputTokenLimit"]);h!=null&&c(t,["inputTokenLimit"],h);const y=u(l,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const g=u(l,["supportedGenerationMethods"]);g!=null&&c(t,["supportedActions"],g);const x=u(l,["temperature"]);x!=null&&c(t,["temperature"],x);const S=u(l,["maxTemperature"]);S!=null&&c(t,["maxTemperature"],S);const E=u(l,["topP"]);E!=null&&c(t,["topP"],E);const C=u(l,["topK"]);C!=null&&c(t,["topK"],C);const M=u(l,["thinking"]);return M!=null&&c(t,["thinking"],M),t}function ru(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(l,["description"]);r!=null&&c(t,["description"],r);const f=u(l,["versionId"]);f!=null&&c(t,["version"],f);const p=u(l,["deployedModels"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>tS(E))),c(t,["endpoints"],S)}const h=u(l,["labels"]);h!=null&&c(t,["labels"],h);const y=u(l,["_self"]);y!=null&&c(t,["tunedModelInfo"],eE(y));const g=u(l,["defaultCheckpointId"]);g!=null&&c(t,["defaultCheckpointId"],g);const x=u(l,["checkpoints"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(E=>E)),c(t,["checkpoints"],S)}return t}function HS(l){const t={},o=u(l,["functionCall"]);o!=null&&c(t,["functionCall"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(l,["fileData"]);f!=null&&c(t,["fileData"],nS(f));const p=u(l,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const h=u(l,["inlineData"]);h!=null&&c(t,["inlineData"],RT(h));const y=u(l,["text"]);y!=null&&c(t,["text"],y);const g=u(l,["thought"]);g!=null&&c(t,["thought"],g);const x=u(l,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const S=u(l,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function VS(l){const t={},o=u(l,["productImage"]);return o!=null&&c(t,["image"],Pt(o)),t}function zS(l,t){const o={},a=u(l,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(l,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(l,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(l,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const h=u(l,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const y=u(l,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const g=u(l,["addWatermark"]);t!==void 0&&g!=null&&c(t,["parameters","addWatermark"],g);const x=u(l,["outputMimeType"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","mimeType"],x);const S=u(l,["outputCompressionQuality"]);t!==void 0&&S!=null&&c(t,["parameters","outputOptions","compressionQuality"],S);const E=u(l,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const C=u(l,["labels"]);return t!==void 0&&C!=null&&c(t,["labels"],C),o}function BS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["source"]);r!=null&&FS(r,o);const f=u(t,["config"]);return f!=null&&zS(f,o),o}function OS(l){const t={},o=u(l,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>ba(r))),c(t,["generatedImages"],a)}return t}function FS(l,t){const o={},a=u(l,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(l,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Pt(r));const f=u(l,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>VS(h))),c(t,["instances[0]","productImages"],p)}return o}function JS(l){const t={},o=u(l,["referenceImage"]);o!=null&&c(t,["referenceImage"],Pt(o));const a=u(l,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(l,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(l,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],PS(f));const p=u(l,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],LT(p));const h=u(l,["styleImageConfig"]);h!=null&&c(t,["styleImageConfig"],h);const y=u(l,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function Hh(l){const t={},o=u(l,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(l,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(l,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function Vh(l){const t={},o=u(l,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(l,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(l,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function YS(l){const t={},o=u(l,["category"]);if(o!=null&&c(t,["category"],o),u(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(l,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function KS(l){const t={},o=u(l,["image"]);return o!=null&&c(t,["image"],Pt(o)),t}function XS(l,t){const o={},a=u(l,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(l,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(l,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(l,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const h=u(l,["binaryColorThreshold"]);t!==void 0&&h!=null&&c(t,["parameters","binaryColorThreshold"],h);const y=u(l,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function QS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["source"]);r!=null&&$S(r,o);const f=u(t,["config"]);return f!=null&&XS(f,o),o}function ZS(l){const t={},o=u(l,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>_S(r))),c(t,["generatedMasks"],a)}return t}function $S(l,t){const o={},a=u(l,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(l,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Pt(r));const f=u(l,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],KS(f)),o}function zh(l){const t={},o=u(l,["languageCode"]);o!=null&&c(t,["languageCode"],o);const a=u(l,["voiceConfig"]);if(a!=null&&c(t,["voiceConfig"],a),u(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function WS(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(S=>S)),c(t,["functionDeclarations"],x)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(l,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=u(l,["googleMaps"]);h!=null&&c(t,["googleMaps"],MS(h));const y=u(l,["googleSearch"]);y!=null&&c(t,["googleSearch"],kS(y));const g=u(l,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function Bh(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>lS(E))),c(t,["functionDeclarations"],S)}const a=u(l,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(l,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(l,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(l,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const h=u(l,["enterpriseWebSearch"]);h!=null&&c(t,["enterpriseWebSearch"],h);const y=u(l,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const g=u(l,["googleSearch"]);g!=null&&c(t,["googleSearch"],g);const x=u(l,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function jS(l){const t={},o=u(l,["baseModel"]);o!=null&&c(t,["baseModel"],o);const a=u(l,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(l,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function eE(l){const t={},o=u(l,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const a=u(l,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(l,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function tE(l,t){const o={},a=u(l,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(l,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(l,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function nE(l,t){const o={},a=u(l,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(l,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(l,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function lE(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","name"],Ae(l,a));const r=u(t,["config"]);return r!=null&&tE(r,o),o}function iE(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["config"]);return r!=null&&nE(r,o),o}function oE(l,t){const o={},a=u(l,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(l,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(l,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(l,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const h=u(l,["outputMimeType"]);t!==void 0&&h!=null&&c(t,["parameters","outputOptions","mimeType"],h);const y=u(l,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const g=u(l,["enhanceInputImage"]);t!==void 0&&g!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],g);const x=u(l,["imagePreservationFactor"]);t!==void 0&&x!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],x);const S=u(l,["labels"]);t!==void 0&&S!=null&&c(t,["labels"],S);const E=u(l,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const C=u(l,["mode"]);return t!==void 0&&C!=null&&c(t,["parameters","mode"],C),o}function aE(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ae(l,a));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],Pt(r));const f=u(t,["upscaleFactor"]);f!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&oE(p,o),o}function sE(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>ba(f))),c(t,["generatedImages"],r)}return t}function rE(l){const t={},o=u(l,["uri"]);o!=null&&c(t,["uri"],o);const a=u(l,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Hn(a));const r=u(l,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function uE(l){const t={},o=u(l,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(l,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Hn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function cE(l){const t={},o=u(l,["image"]);o!=null&&c(t,["_self"],Pt(o));const a=u(l,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function fE(l){const t={},o=u(l,["image"]);o!=null&&c(t,["image"],Ra(o));const a=u(l,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function dE(l){const t={},o=u(l,["image"]);o!=null&&c(t,["image"],Pt(o));const a=u(l,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function Oh(l){const t={},o=u(l,["uri"]);o!=null&&c(t,["uri"],o);const a=u(l,["videoBytes"]);a!=null&&c(t,["encodedVideo"],Hn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function Fh(l){const t={},o=u(l,["uri"]);o!=null&&c(t,["gcsUri"],o);const a=u(l,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Hn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mE="Content-Type",pE="X-Server-Timeout",hE="User-Agent",uu="x-goog-api-client",gE="1.29.1",yE=`google-genai-sdk/${gE}`,vE="v1beta1",xE="v1beta",nh=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class TE{constructor(t){var o,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:vE,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:xE,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,h]of Object.entries(t.queryParams))r.searchParams.append(p,String(h));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(o))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const f=new AbortController,p=f.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>f.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return o&&o.extraBody!==null&&SE(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await lh(r),new iu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await lh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){var o;return Yl(this,arguments,function*(){const r=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";for(;;){const{done:h,value:y}=yield qe(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=f.decode(y,{stream:!0});try{const S=JSON.parse(g);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),C=E.status,M=E.code,w=`got status: ${C}. ${JSON.stringify(S)}`;if(M>=400&&M<600)throw new Aa({message:w,status:M})}}catch(S){if(S.name==="ApiError")throw S}p+=g;let x=p.match(nh);for(;x;){const S=x[1];try{const E=new Response(S,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield qe(new iu(E)),p=p.slice(x[0].length),x=p.match(nh)}catch(E){throw new Error(`exception parsing stream chunk ${S}. ${E}`)}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=yE+" "+this.clientOptions.userAgentExtra;return t[hE]=o,t[uu]=o,t[mE]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(pE,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const h=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const y={file:r},g=this.getFileName(t),x=$("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(x,r.sizeBytes,r.mimeType,g,y,o==null?void 0:o.httpOptions);return f.upload(t,S,this)}async uploadFileToFileSearchStore(t,o,a){var r;const f=this.clientOptions.uploader,p=await f.stat(o),h=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${t}:uploadToFileSearchStore`,x=this.getFileName(o),S={};a!=null&&a.customMetadata&&(S.customMetadata=a.customMetadata),a!=null&&a.chunkingConfig&&(S.chunkingConfig=a.chunkingConfig);const E=await this.fetchUploadUrl(g,h,y,x,S,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(o,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,f,p){var h;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const g=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(h=g==null?void 0:g.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function lh(l){var t;if(l===void 0)throw new Error("response is undefined");if(!l.ok){const o=l.status;let a;!((t=l.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await l.json():a={error:{message:await l.text(),code:l.status,status:l.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new Aa({message:r,status:o}):new Error(r)}}function SE(l,t){if(!t||Object.keys(t).length===0)return;if(l.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof l.body=="string"&&l.body.length>0)try{const f=JSON.parse(l.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const h=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const g=p[y],x=h[y];g&&typeof g=="object"&&!Array.isArray(g)&&x&&typeof x=="object"&&!Array.isArray(x)?h[y]=a(x,g):(x&&g&&typeof x!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof g}. Overwriting.`),h[y]=g)}return h}const r=a(o,t);l.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EE="mcp_used/unknown";let _E=!1;function Jh(l){for(const t of l)if(CE(t)||typeof t=="object"&&"inputSchema"in t)return!0;return _E}function Yh(l){var t;const o=(t=l[uu])!==null&&t!==void 0?t:"";l[uu]=(o+` ${EE}`).trimStart()}function CE(l){return l!==null&&typeof l=="object"&&l instanceof Eu}function AE(l,t=100){return Yl(this,arguments,function*(){let a,r=0;for(;r<t;){const f=yield qe(l.listTools({cursor:a}));for(const p of f.tools)yield yield qe(p),r++;if(!f.nextCursor)break;a=f.nextCursor}})}class Eu{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Eu(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const x of this.mcpClients)try{for(var h=!0,y=(o=void 0,Zi(AE(x))),g;g=await y.next(),t=g.done,!t;h=!0){r=g.value,h=!1;const S=r;p.push(S);const E=S.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=x}}catch(S){o={error:S}}finally{try{!h&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),k0(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function NE(l,t,o){const a=new E0;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class bE{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=kE(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${h}`;let g=()=>{};const x=new Promise(O=>{g=O}),S=t.callbacks,E=function(){g({})},C=this.apiClient,M={onopen:E,onmessage:O=>{NE(C,S.onmessage,O)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(O){},onclose:(a=S==null?void 0:S.onclose)!==null&&a!==void 0?a:function(O){}},w=this.webSocketFactory.create(y,ME(p),M);w.connect(),await x;const K={setup:{model:Ae(this.apiClient,t.model)}};return w.send(JSON.stringify(K)),new RE(w,this.apiClient)}}class RE{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=xT(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=vT(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Fl.PLAY)}pause(){this.sendPlaybackControl(Fl.PAUSE)}stop(){this.sendPlaybackControl(Fl.STOP)}resetContext(){this.sendPlaybackControl(Fl.RESET_CONTEXT)}close(){this.conn.close()}}function ME(l){const t={};return l.forEach((o,a)=>{t[a]=o}),t}function kE(l){const t=new Headers;for(const[o,a]of Object.entries(l))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function IE(l,t,o){const a=new S0;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const f=JSON.parse(r);if(l.isVertexAI()){const p=ET(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class DE{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new bE(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,f,p,h;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let x;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&Jh(t.config.tools)&&Yh(S);const E=qE(S);if(this.apiClient.isVertexAI())x=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,x);else{const B=this.apiClient.getApiKey();let re="BidiGenerateContent",ce="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),re="BidiGenerateContentConstrained",ce="access_token"),x=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${re}?${ce}=${B}`}let C=()=>{};const M=new Promise(B=>{C=B}),w=t.callbacks,z=function(){var B;(B=w==null?void 0:w.onopen)===null||B===void 0||B.call(w),C({})},Y=this.apiClient,K={onopen:z,onmessage:B=>{IE(Y,w.onmessage,B)},onerror:(o=w==null?void 0:w.onerror)!==null&&o!==void 0?o:function(B){},onclose:(a=w==null?void 0:w.onclose)!==null&&a!==void 0?a:function(B){}},O=this.webSocketFactory.create(x,GE(E),K);O.connect(),await M;let F=Ae(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const B=this.apiClient.getProject(),re=this.apiClient.getLocation();F=`projects/${B}/locations/${re}/`+F}let X={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[$i.AUDIO]}:t.config.responseModalities=[$i.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const W=(h=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&h!==void 0?h:[],Q=[];for(const B of W)if(this.isCallableTool(B)){const re=B;Q.push(await re.tool())}else Q.push(B);Q.length>0&&(t.config.tools=Q);const de={model:F,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?X=yT(this.apiClient,de):X=gT(this.apiClient,de),delete X.config,O.send(JSON.stringify(X)),new LE(O,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const UE={turnComplete:!0};class LE{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Ut(o.turns),t.isVertexAI()||(a=a.map(r=>Na(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(wE)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},UE),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:ST(t)}:o={realtimeInput:TT(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function GE(l){const t={};return l.forEach((o,a)=>{t[a]=o}),t}function qE(l){const t=new Headers;for(const[o,a]of Object.entries(l))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ih=10;function oh(l){var t,o,a;if(!((t=l==null?void 0:l.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=l==null?void 0:l.tools)!==null&&o!==void 0?o:[])if(Kl(p)){r=!0;break}if(!r)return!0;const f=(a=l==null?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function Kl(l){return"callTool"in l&&typeof l.callTool=="function"}function PE(l){var t,o,a;return(a=(o=(t=l.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>Kl(r)))!==null&&a!==void 0?a:!1}function ah(l){var t;const o=[];return!((t=l==null?void 0:l.config)===null||t===void 0)&&t.tools&&l.config.tools.forEach((a,r)=>{if(Kl(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(r)}),o}function sh(l){var t;return!(!((t=l==null?void 0:l.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HE extends cn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,f,p,h;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!PE(o)||oh(o.config))return await this.generateContentInternal(y);const g=ah(o);if(g.length>0){const w=g.map(z=>`tools[${z}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let x,S;const E=Ut(y.contents),C=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:ih;let M=0;for(;M<C&&(x=await this.generateContentInternal(y),!(!x.functionCalls||x.functionCalls.length===0));){const w=x.candidates[0].content,z=[];for(const Y of(h=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&h!==void 0?h:[])if(Kl(Y)){const O=await Y.callTool(x.functionCalls);z.push(...O)}M++,S={role:"user",parts:z},y.contents=Ut(y.contents),y.contents.push(w),y.contents.push(S),sh(y.config)&&(E.push(w),E.push(S))}return sh(y.config)&&(x.automaticFunctionCallingHistory=E),x},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),oh(o.config)){const r=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(r)}const a=ah(o);if(a.length>0){const r=a.map(f=>`tools[${f}]`).join(", ");throw new Error(`Incompatible tools found at ${r}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let h;return f?h={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:h={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},h}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new ol(un.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,f,p,h,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(f=o.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(h=o.source)===null||h===void 0?void 0:h.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const f=(o=t.config)===null||o===void 0?void 0:o.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>Kl(y)?await y.tool():y)),h={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(h.config.tools=p,t.config&&t.config.tools&&Jh(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),Yh(g),h.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:g})}return h}async initAfcToolsMap(t){var o,a,r;const f=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(Kl(p)){const h=p,y=await h.tool();for(const g of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!g.name)throw new Error("Function declaration name is required.");if(f.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);f.set(g.name,h)}}return f}async processAfcStream(t){var o,a,r;const f=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:ih;let p=!1,h=0;const y=await this.initAfcToolsMap(t);return(function(g,x,S){var E,C;return Yl(this,arguments,function*(){for(var M,w,z,Y;h<f;){p&&(h++,p=!1);const X=yield qe(g.processParamsMaybeAddMcpUsage(S)),W=yield qe(g.generateContentStreamInternal(X)),Q=[],de=[];try{for(var K=!0,O=(w=void 0,Zi(W)),F;F=yield qe(O.next()),M=F.done,!M;K=!0){Y=F.value,K=!1;const B=Y;if(yield yield qe(B),B.candidates&&(!((E=B.candidates[0])===null||E===void 0)&&E.content)){de.push(B.candidates[0].content);for(const re of(C=B.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(h<f&&re.functionCall){if(!re.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(re.functionCall.name)){const ce=yield qe(x.get(re.functionCall.name).callTool([re.functionCall]));Q.push(...ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${re.functionCall.name}`)}}}}catch(B){w={error:B}}finally{try{!K&&!M&&(z=O.return)&&(yield qe(z.call(O)))}finally{if(w)throw w.error}}if(Q.length>0){p=!0;const B=new Qi;B.candidates=[{content:{role:"user",parts:Q}}],yield yield qe(B);const re=[];re.push(...de),re.push({role:"user",parts:Q});const ce=Ut(S.contents).concat(re);S.contents=ce}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=jp(this.apiClient,t);return h=$("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=th(x),E=new Qi;return Object.assign(E,S),E})}else{const g=Wp(this.apiClient,t);return h=$("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=eh(x),E=new Qi;return Object.assign(E,S),E})}}async generateContentStreamInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=jp(this.apiClient,t);return h=$("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(S){return Yl(this,arguments,function*(){var E,C,M,w;try{for(var z=!0,Y=Zi(S),K;K=yield qe(Y.next()),E=K.done,!E;z=!0){w=K.value,z=!1;const O=w,F=th(yield qe(O.json()));F.sdkHttpResponse={headers:O.headers};const X=new Qi;Object.assign(X,F),yield yield qe(X)}}catch(O){C={error:O}}finally{try{!z&&!E&&(M=Y.return)&&(yield qe(M.call(Y)))}finally{if(C)throw C.error}}})})}else{const g=Wp(this.apiClient,t);return h=$("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(S){return Yl(this,arguments,function*(){var E,C,M,w;try{for(var z=!0,Y=Zi(S),K;K=yield qe(Y.next()),E=K.done,!E;z=!0){w=K.value,z=!1;const O=w,F=eh(yield qe(O.json()));F.sdkHttpResponse={headers:O.headers};const X=new Qi;Object.assign(X,F),yield yield qe(X)}}catch(O){C={error:O}}finally{try{!z&&!E&&(M=Y.return)&&(yield qe(M.call(Y)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=WT(this.apiClient,t);return h=$("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=eS(x),E=new Gp;return Object.assign(E,S),E})}else{const g=$T(this.apiClient,t);return h=$("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=jT(x),E=new Gp;return Object.assign(E,S),E})}}async generateImagesInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=uS(this.apiClient,t);return h=$("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=fS(x),E=new qp;return Object.assign(E,S),E})}else{const g=rS(this.apiClient,t);return h=$("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=cS(x),E=new qp;return Object.assign(E,S),E})}}async editImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=KT(this.apiClient,t);return f=$("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const g=XT(y),x=new c0;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=aE(this.apiClient,t);return f=$("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const g=sE(y),x=new f0;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=BS(this.apiClient,t);return f=$("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=OS(y),x=new d0;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=QS(this.apiClient,t);return f=$("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=ZS(y),x=new m0;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=RS(this.apiClient,t);return h=$("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p.then(x=>ru(x))}else{const g=bS(this.apiClient,t);return h=$("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),p.then(x=>su(x))}}async listInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=LS(this.apiClient,t);return h=$("{models_url}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=qS(x),E=new Pp;return Object.assign(E,S),E})}else{const g=US(this.apiClient,t);return h=$("{models_url}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=GS(x),E=new Pp;return Object.assign(E,S),E})}}async update(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=iE(this.apiClient,t);return h=$("{model}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p.then(x=>ru(x))}else{const g=lE(this.apiClient,t);return h=$("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),p.then(x=>su(x))}}async delete(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=OT(this.apiClient,t);return h=$("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=JT(x),E=new Hp;return Object.assign(E,S),E})}else{const g=BT(this.apiClient,t);return h=$("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=FT(x),E=new Hp;return Object.assign(E,S),E})}}async countTokens(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=HT(this.apiClient,t);return h=$("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=zT(x),E=new Vp;return Object.assign(E,S),E})}else{const g=PT(this.apiClient,t);return h=$("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=VT(x),E=new Vp;return Object.assign(E,S),E})}}async computeTokens(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=wT(this.apiClient,t);return f=$("{model}:computeTokens",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const g=IT(y),x=new p0;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=yS(this.apiClient,t);return h=$("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p.then(x=>{const S=hS(x),E=new Ta;return Object.assign(E,S),E})}else{const g=gS(this.apiClient,t);return h=$("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),p.then(x=>{const S=pS(x),E=new Ta;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VE extends cn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=i0(t);return h=$("{operationName}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p}else{const g=l0(t);return h=$("{operationName}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=Zv(t);return f=$("{resourceName}:fetchPredictOperation",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zE(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function BE(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>ZE(f))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function OE(l,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);o!==void 0&&f!=null&&c(o,["newSessionExpireTime"],f);const p=u(t,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const h=u(t,["liveConnectConstraints"]);o!==void 0&&h!=null&&c(o,["bidiGenerateContentSetup"],QE(l,h));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),a}function FE(l,t){const o={},a=u(t,["config"]);return a!=null&&c(o,["config"],OE(l,a,o)),o}function JE(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function YE(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function KE(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function XE(l,t){const o={},a=u(l,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(l,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(l,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(l,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const h=u(l,["topK"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topK"],h);const y=u(l,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(l,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const x=u(l,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const S=u(l,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],Su(S));const E=u(l,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(l,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const M=u(l,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],BE(lt(M)));const w=u(l,["tools"]);if(t!==void 0&&w!=null){let W=Zl(w);Array.isArray(W)&&(W=W.map(Q=>WE(Ql(Q)))),c(t,["setup","tools"],W)}const z=u(l,["sessionResumption"]);t!==void 0&&z!=null&&c(t,["setup","sessionResumption"],$E(z));const Y=u(l,["inputAudioTranscription"]);t!==void 0&&Y!=null&&c(t,["setup","inputAudioTranscription"],Y);const K=u(l,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const O=u(l,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const F=u(l,["contextWindowCompression"]);t!==void 0&&F!=null&&c(t,["setup","contextWindowCompression"],F);const X=u(l,["proactivity"]);return t!==void 0&&X!=null&&c(t,["setup","proactivity"],X),o}function QE(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ae(l,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],XE(r,o)),o}function ZE(l){const t={},o=u(l,["functionCall"]);o!=null&&c(t,["functionCall"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(l,["fileData"]);f!=null&&c(t,["fileData"],JE(f));const p=u(l,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const h=u(l,["inlineData"]);h!=null&&c(t,["inlineData"],zE(h));const y=u(l,["text"]);y!=null&&c(t,["text"],y);const g=u(l,["thought"]);g!=null&&c(t,["thought"],g);const x=u(l,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const S=u(l,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function $E(l){const t={},o=u(l,["handle"]);if(o!=null&&c(t,["handle"],o),u(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function WE(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(S=>S)),c(t,["functionDeclarations"],x)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(l,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=u(l,["googleMaps"]);h!=null&&c(t,["googleMaps"],YE(h));const y=u(l,["googleSearch"]);y!=null&&c(t,["googleSearch"],KE(y));const g=u(l,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jE(l){const t=[];for(const o in l)if(Object.prototype.hasOwnProperty.call(l,o)){const a=l[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${o}.${f}`);t.push(...r)}else t.push(o)}return t.join(",")}function e_(l,t){let o=null;const a=l.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(l.bidiGenerateContentSetup=f,o=f):delete l.bidiGenerateContentSetup}else a!==void 0&&delete l.bidiGenerateContentSetup;const r=l.fieldMask;if(o){const f=jE(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?l.fieldMask=f:delete l.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(g=>p.includes(g)?`generationConfig.${g}`:g));const y=[];f&&y.push(f),h.length>0&&y.push(...h),y.length>0?l.fieldMask=y.join(","):delete l.fieldMask}else delete l.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?l.fieldMask=r.join(","):delete l.fieldMask;return l}class t_ extends cn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=FE(this.apiClient,t);f=$("auth_tokens",h._url),p=h._query,delete h.config,delete h._url,delete h._query;const y=e_(h,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n_(l,t){const o={},a=u(l,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),o}function l_(l){const t={},o=u(l,["config"]);return o!=null&&n_(o,t),t}function i_(l,t){const o={},a=u(l,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function o_(l){const t={},o=u(l,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(l,["config"]);return a!=null&&i_(a,t),t}function a_(l){const t={},o=u(l,["name"]);return o!=null&&c(t,["_url","name"],o),t}function s_(l,t){const o={},a=u(l,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(l,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function r_(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);f!=null&&c(t,["error"],f);const p=u(l,["response"]);return p!=null&&c(t,["response"],c_(p)),t}function u_(l){const t={},o=u(l,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(l,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(l,["config"]);return r!=null&&s_(r,t),t}function c_(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["parent"]);a!=null&&c(t,["parent"],a);const r=u(l,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function f_(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function d_(l){const t={},o=u(l,["config"]);return o!=null&&f_(o,t),t}function m_(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function p_(l,t){const o={},a=u(l,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(l,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(l,["customMetadata"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>y)),c(t,["customMetadata"],h)}const p=u(l,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),o}function h_(l){const t={},o=u(l,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(l,["config"]);return a!=null&&p_(a,t),t}function g_(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y_(l,t){const o={},a=u(l,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function v_(l){const t={},o=u(l,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(l,["config"]);return a!=null&&y_(a,t),t}function x_(l){const t={},o=u(l,["name"]);return o!=null&&c(t,["_url","name"],o),t}function T_(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function S_(l){const t={},o=u(l,["parent"]);o!=null&&c(t,["_url","parent"],o);const a=u(l,["config"]);return a!=null&&T_(a,t),t}function E_(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class __ extends cn{constructor(t){super(),this.apiClient=t,this.list=async o=>new ol(un.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=x_(t);return f=$("{name}",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=v_(t);r=$("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=S_(t);return f=$("{parent}/documents",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=E_(y),x=new h0;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C_ extends cn{constructor(t,o=new __(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new ol(un.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=l_(t);return f=$("fileSearchStores",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=a_(t);return f=$("{name}",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=o_(t);r=$("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=d_(t);return f=$("fileSearchStores",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=m_(y),x=new g0;return Object.assign(x,g),x})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=h_(t);return f=$("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=g_(y),x=new y0;return Object.assign(x,g),x})}}async importFile(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=u_(t);return f=$("{file_search_store_name}:importFile",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=r_(y),x=new gu;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A_(l,t){const o={},a=u(l,["name"]);return a!=null&&c(o,["_url","name"],a),o}function N_(l,t){const o={},a=u(l,["name"]);return a!=null&&c(o,["_url","name"],a),o}function b_(l,t,o){const a={};if(u(l,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(l,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(l,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(l,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(l,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(l,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(l,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(l,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=u(l,["batchSize"]);t!==void 0&&h!=null&&c(t,["tuningTask","hyperparameters","batchSize"],h);const y=u(l,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(l,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function R_(l,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(l,["validationDataset"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec"],rh(C))}else if(r==="PREFERENCE_TUNING"){const C=u(l,["validationDataset"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec"],rh(C))}const f=u(l,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(l,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const C=u(l,["epochCount"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(h==="PREFERENCE_TUNING"){const C=u(l,["epochCount"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(l,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(l,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(l,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(l,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let x=u(o,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const C=u(l,["adapterSize"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(x==="PREFERENCE_TUNING"){const C=u(l,["adapterSize"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(l,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(l,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=u(l,["labels"]);t!==void 0&&S!=null&&c(t,["labels"],S);const E=u(l,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function M_(l,t){const o={},a=u(l,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(l,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(l,["trainingDataset"]);f!=null&&V_(f);const p=u(l,["config"]);return p!=null&&b_(p,o),o}function k_(l,t){const o={},a=u(l,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(l,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(l,["trainingDataset"]);f!=null&&z_(f,o,t);const p=u(l,["config"]);return p!=null&&R_(p,o,t),o}function w_(l,t){const o={},a=u(l,["name"]);return a!=null&&c(o,["_url","name"],a),o}function I_(l,t){const o={},a=u(l,["name"]);return a!=null&&c(o,["_url","name"],a),o}function D_(l,t,o){const a={},r=u(l,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(l,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(l,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function U_(l,t,o){const a={},r=u(l,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(l,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(l,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function L_(l,t){const o={},a=u(l,["config"]);return a!=null&&D_(a,o),o}function G_(l,t){const o={},a=u(l,["config"]);return a!=null&&U_(a,o),o}function q_(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(l,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>Kh(h))),c(o,["tuningJobs"],p)}return o}function P_(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(l,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>cu(h))),c(o,["tuningJobs"],p)}return o}function H_(l,t){const o={},a=u(l,["name"]);a!=null&&c(o,["model"],a);const r=u(l,["name"]);return r!=null&&c(o,["endpoint"],r),o}function V_(l,t){const o={};if(u(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(l,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(l,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["examples","examples"],r)}return o}function z_(l,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(l,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(l,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(l,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(l,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(l,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Kh(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const f=u(l,["state"]);f!=null&&c(o,["state"],Rh(f));const p=u(l,["createTime"]);p!=null&&c(o,["createTime"],p);const h=u(l,["tuningTask","startTime"]);h!=null&&c(o,["startTime"],h);const y=u(l,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const g=u(l,["updateTime"]);g!=null&&c(o,["updateTime"],g);const x=u(l,["description"]);x!=null&&c(o,["description"],x);const S=u(l,["baseModel"]);S!=null&&c(o,["baseModel"],S);const E=u(l,["_self"]);return E!=null&&c(o,["tunedModel"],H_(E)),o}function cu(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const f=u(l,["state"]);f!=null&&c(o,["state"],Rh(f));const p=u(l,["createTime"]);p!=null&&c(o,["createTime"],p);const h=u(l,["startTime"]);h!=null&&c(o,["startTime"],h);const y=u(l,["endTime"]);y!=null&&c(o,["endTime"],y);const g=u(l,["updateTime"]);g!=null&&c(o,["updateTime"],g);const x=u(l,["error"]);x!=null&&c(o,["error"],x);const S=u(l,["description"]);S!=null&&c(o,["description"],S);const E=u(l,["baseModel"]);E!=null&&c(o,["baseModel"],E);const C=u(l,["tunedModel"]);C!=null&&c(o,["tunedModel"],C);const M=u(l,["preTunedModel"]);M!=null&&c(o,["preTunedModel"],M);const w=u(l,["supervisedTuningSpec"]);w!=null&&c(o,["supervisedTuningSpec"],w);const z=u(l,["preferenceOptimizationSpec"]);z!=null&&c(o,["preferenceOptimizationSpec"],z);const Y=u(l,["tuningDataStats"]);Y!=null&&c(o,["tuningDataStats"],Y);const K=u(l,["encryptionSpec"]);K!=null&&c(o,["encryptionSpec"],K);const O=u(l,["partnerModelTuningSpec"]);O!=null&&c(o,["partnerModelTuningSpec"],O);const F=u(l,["customBaseModel"]);F!=null&&c(o,["customBaseModel"],F);const X=u(l,["experiment"]);X!=null&&c(o,["experiment"],X);const W=u(l,["labels"]);W!=null&&c(o,["labels"],W);const Q=u(l,["outputUri"]);Q!=null&&c(o,["outputUri"],Q);const de=u(l,["pipelineJob"]);de!=null&&c(o,["pipelineJob"],de);const B=u(l,["serviceAccount"]);B!=null&&c(o,["serviceAccount"],B);const re=u(l,["tunedModelDisplayName"]);re!=null&&c(o,["tunedModelDisplayName"],re);const ce=u(l,["veoTuningSpec"]);return ce!=null&&c(o,["veoTuningSpec"],ce),o}function B_(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const f=u(l,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(l,["done"]);p!=null&&c(o,["done"],p);const h=u(l,["error"]);return h!=null&&c(o,["error"],h),o}function rh(l,t){const o={},a=u(l,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const r=u(l,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O_ extends cn{constructor(t){super(),this.apiClient=t,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new ol(un.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:lu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=I_(t);return h=$("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>cu(x))}else{const g=w_(t);return h=$("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>Kh(x))}}async listInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=G_(t);return h=$("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=P_(x),E=new zp;return Object.assign(E,S),E})}else{const g=L_(t);return h=$("tunedModels",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=q_(x),E=new zp;return Object.assign(E,S),E})}}async cancel(t){var o,a,r,f;let p="",h={};if(this.apiClient.isVertexAI()){const y=N_(t);p=$("{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=A_(t);p=$("{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async tuneInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=k_(t,t);return f=$("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>cu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=M_(t);return f=$("tunedModels",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>B_(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F_{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const J_=1024*1024*8,Y_=3,K_=1e3,X_=2,Ea="x-goog-upload-status";async function Q_(l,t,o){var a;const r=await Xh(l,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ea])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function Z_(l,t,o){var a;const r=await Xh(l,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ea])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Eh(f),h=new yu;return Object.assign(h,p),h}async function Xh(l,t,o){var a,r;let f=0,p=0,h=new iu(new Response),y="upload";for(f=l.size;p<f;){const g=Math.min(J_,f-p),x=l.slice(p,p+g);p+g>=f&&(y+=", finalize");let S=0,E=K_;for(;S<Y_&&(h=await o.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(g)}}}),!(!((a=h==null?void 0:h.headers)===null||a===void 0)&&a[Ea]));)S++,await W_(E),E=E*X_;if(p+=g,((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[Ea])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function $_(l){return{size:l.size,type:l.type}}function W_(l){return new Promise(t=>setTimeout(t,l))}class j_{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Q_(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Z_(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await $_(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eC{create(t,o,a){return new tC(t,o,a)}}class tC{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uh="x-goog-api-key";class nC{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(uh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(uh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lC="gl-node/";class Wl{constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=Xv(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion;const r=new nC(this.apiKey);this.apiClient=new TE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:lC+"web",uploader:new j_,downloader:new F_}),this.models=new HE(this.apiClient),this.live=new DE(this.apiClient,r,new eC),this.batches=new xx(this.apiClient),this.chats=new $x(this.models,this.apiClient),this.caches=new Xx(this.apiClient),this.files=new sT(this.apiClient),this.operations=new VE(this.apiClient),this.authTokens=new t_(this.apiClient),this.tunings=new O_(this.apiClient),this.fileSearchStores=new C_(this.apiClient)}}var iC={};const ch=iC.OPENROUTER_API_KEY,oC=typeof window<"u"?window.location.origin:"https://aistudio.google.com",aC="news.kamocodes",Ot="PLACEHOLDER_API_KEY",_u=(l="1x1")=>"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";let jr=null,eu=null;const Qh="puter-image-cache";function Zh(){try{const l=localStorage.getItem(Qh);return l?JSON.parse(l):{}}catch(l){return console.error("Error reading image cache from localStorage",l),{}}}function sC(l,t){try{const o=Zh();o[l]=t,localStorage.setItem(Qh,JSON.stringify(o))}catch(o){console.error("Error writing image cache to localStorage",o)}}async function $h(){if(jr)return jr;try{const l=await fetch("/articles.json");if(!l.ok)throw new Error(`Failed to fetch articles.json: ${l.statusText}`);const t=await l.json();return jr=t,t}catch(l){return console.error("Error loading local articles:",l),[]}}async function rC(){if(eu)return eu;try{const l=await fetch("/weather.json");if(!l.ok)throw new Error(`Failed to fetch weather.json: ${l.statusText}`);const t=await l.json();return eu=t,t}catch(l){return console.error("Error loading local weather data:",l),{}}}async function uC(){return(await $h()).slice(0,3)}async function cC(){return await $h()}async function Wh(l){console.log(`Fetching dummy weather for ${l}`),await new Promise(a=>setTimeout(a,500));const o=(await rC())[l];if(!o)throw new Error(`Weather data for ${l} not found.`);return o}async function Cu(l,t){if(t!=="Puter.js")throw new Error("Image generation is only supported by Puter.js with the current implementation. Please select Puter.js for image generation.");const o=`${l}-puter-txt2img`,a=Zh();if(a[o])return console.log(`Returning cached image for prompt: "${l}" (Puter.js)`),a[o];if(console.log(`Generating image using Puter.ai.txt2img for: ${l}`),typeof puter>"u"||!puter.ai||!puter.ai.txt2img)throw new Error("Puter.js AI functionality is not available. Please ensure it's loaded and selected as the AI Provider.");const r=await puter.ai.txt2img(l,!1),f=document.createElement("canvas");f.width=r.naturalWidth,f.height=r.naturalHeight;const p=f.getContext("2d");if(!p)throw new Error("Could not get canvas context for image conversion.");p.drawImage(r,0,0);const h=f.toDataURL("image/jpeg");return sC(o,h),h}async function Wi(l,t,o,a=!1){if(!ch)throw new Error("OpenRouter API key is not configured. Please check your environment variables or select Puter.js as AI Provider.");console.log(`Calling OpenRouter chat with model: ${t}, stream: ${a}`);const r={model:t,messages:[{role:"user",content:l}],temperature:o,stream:a},f=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${ch}`,"HTTP-Referer":oC,"X-Title":aC,"Content-Type":"application/json"},body:JSON.stringify(r)});if(!f.ok){const p=await f.json().catch(()=>({message:f.statusText}));throw new Error(`OpenRouter API error: ${p.message||JSON.stringify(p)}`)}return a?f.body.getReader():(await f.json()).choices[0].message.content}async function jh(l,t){console.log(`Generating article for: ${l} using ${t}`);const o=`Write a news article about "${l}". Include a catchy title, a concise summary, and a full content broken into paragraphs, subheadings, and one quote. Ensure the article is factual and engaging. The article should be about 500-800 words long. Respond in JSON format only with the following structure:
{
  "title": "string",
  "summary": "string",
  "fullContent": [
    {"type": "paragraph", "content": "string"},
    {"type": "subheading", "content": "string"},
    {"type": "quote", "content": "string"}
  ],
  "category": "string"
}`;let a;try{if(t==="Puter.js"){if(typeof puter>"u"||!puter.ai||!puter.ai.chat)throw new Error("Puter.js AI functionality is not available.");a=await puter.ai.chat(o,{model:"gpt-5-nano",temperature:.7})}else t==="OpenRouter"?a=await Wi(o,"openai/gpt-4o",.7):(console.log("Generating news article using Gemini (text)..."),a=(await new Wl({apiKey:Ot}).models.generateContent({model:"gemini-2.5-flash",contents:[{parts:[{text:o}]}],config:{temperature:.7,maxOutputTokens:2e3,thinkingConfig:{thinkingBudget:500}}})).text)}catch(y){throw console.error(`${t} chat failed for news article generation:`,y),new Error(`Failed to generate news article with ${t}.`)}let r;try{r=JSON.parse(a.trim())}catch(y){throw console.error(`Failed to parse article JSON from ${t}:`,y,"Raw response:",a),new Error(`Failed to parse article generation response from ${t}: ${y instanceof Error?y.message:String(y)}. Response: ${a}`)}const f=[];let p=_u("800x600");try{p=await Cu(r.title,"Puter.js")}catch(y){console.warn(`Failed to generate image for article "${r.title}":`,y)}const h={id:`gen-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,title:r.title,summary:r.summary,fullContent:r.fullContent,category:r.category||"AI Generated",imageUrl:p,sourceUrl:"#",sourceName:"AI Newsroom",groundingUrls:f};return await Sh(h),h}async function fC(l,t=3,o){console.log(`Generating ${t} more articles using AI for topics: ${l.join(", ")} with ${o}`);const a=[];for(let r=0;r<t;r++){const f=l[r%l.length];try{const p=await jh(f,o);a.push(p)}catch(p){console.error(`Error generating article for topic "${f}" with ${o}:`,p)}}return a}async function dC(l){console.log(`Fetching financial news using ${l}...`);const t=`Summarize 2 top financial news headlines and their summaries. Respond in JSON format only with the following structure:
[
  {
    "title": "string",
    "summary": "string",
    "category": "string",
    "sourceName": "string",
    "imageUrl": "string"
  }
]`;let o;try{if(l==="Puter.js"){if(typeof puter>"u"||!puter.ai||!puter.ai.chat)throw new Error("Puter.js AI functionality is not available.");o=await puter.ai.chat(t,{model:"gpt-5-nano",temperature:.8})}else l==="OpenRouter"?o=await Wi(t,"openai/gpt-4o",.8):(console.log("Fetching financial news using Gemini (text)..."),o=(await new Wl({apiKey:Ot}).models.generateContent({model:"gemini-2.5-flash",contents:[{parts:[{text:t}]}],config:{temperature:.8,maxOutputTokens:1e3,thinkingConfig:{thinkingBudget:200}}})).text)}catch(r){return console.error(`${l} chat failed for financial news:`,r),[{id:"finance-1",title:"Global Markets Rally on Positive Inflation Data",summary:"Investors showed renewed confidence as new reports indicate that inflation may be cooling, leading to a broad rally across major indices.",category:"Markets",sourceName:"Finance Today",imageUrl:"https://source.unsplash.com/800x600/?stock_market_up",fullContent:[],sourceUrl:"#"},{id:"finance-2",title:"Tech Sector Sees Unprecedented Growth in Q2",summary:"Driven by advancements in AI and cloud computing, the technology sector has outperformed all other sectors this quarter.",category:"Technology",sourceName:"Tech Investor",imageUrl:"https://source.unsplash.com/800x600/?technology_chart",fullContent:[],sourceUrl:"#"}]}let a;try{a=JSON.parse(o.trim())}catch(r){return console.error(`Failed to parse financial news JSON from ${l}:`,r,"Raw response:",o),[{id:"finance-1",title:"Global Markets Rally on Positive Inflation Data",summary:"Investors showed renewed confidence as new reports indicate that inflation may be cooling, leading to a broad rally across major indices.",category:"Markets",sourceName:"Finance Today",imageUrl:"https://source.unsplash.com/800x600/?stock_market_up",fullContent:[],sourceUrl:"#"},{id:"finance-2",title:"Tech Sector Sees Unprecedented Growth in Q2",summary:"Driven by advancements in AI and cloud computing, the technology sector has outperformed all other sectors this quarter.",category:"Technology",sourceName:"Tech Investor",imageUrl:"https://source.unsplash.com/800x600/?technology_chart",fullContent:[],sourceUrl:"#"}]}return a.map((r,f)=>({id:`finance-${Date.now()}-${f}`,title:r.title,summary:r.summary,category:r.category,sourceName:r.sourceName,imageUrl:r.imageUrl||_u("800x600"),fullContent:[],sourceUrl:"#"}))}async function mC(l){console.log(`Fetching market data using ${l}...`);const t=`Provide dummy current market data for DJIA, NASDAQ, S&P 500, and AAPL including symbol, name, price, change, and change percent. Respond in JSON format only with the following structure:
[
  {
    "symbol": "string",
    "name": "string",
    "price": "string",
    "change": "string",
    "changePercent": "string"
  }
]`;let o;try{if(l==="Puter.js"){if(typeof puter>"u"||!puter.ai||!puter.ai.chat)throw new Error("Puter.js AI functionality is not available.");o=await puter.ai.chat(t,{model:"gpt-5-nano",temperature:.5})}else l==="OpenRouter"?o=await Wi(t,"openai/gpt-4o",.5):(console.log("Fetching market data using Gemini (text)..."),o=(await new Wl({apiKey:Ot}).models.generateContent({model:"gemini-2.5-flash",contents:[{parts:[{text:t}]}],config:{temperature:.5,maxOutputTokens:1e3,thinkingConfig:{thinkingBudget:200}}})).text)}catch(a){return console.error(`${l} chat failed for market data:`,a),[{symbol:"DJIA",name:"Dow Jones Industrial Average",price:"38,852.27",change:"+141.24",changePercent:"+0.36%"},{symbol:"IXIC",name:"NASDAQ Composite",price:"17,187.90",change:"+178.62",changePercent:"+1.04%"},{symbol:"GSPC",name:"S&P 500",price:"5,354.03",change:"+41.83",changePercent:"+0.78%"},{symbol:"AAPL",name:"Apple Inc.",price:"194.48",change:"+1.94",changePercent:"+1.01%"}]}try{return JSON.parse(o.trim())}catch(a){return console.error(`Failed to parse market data JSON from ${l}:`,a,"Raw response:",o),[{symbol:"DJIA",name:"Dow Jones Industrial Average",price:"38,852.27",change:"+141.24",changePercent:"+0.36%"},{symbol:"IXIC",name:"NASDAQ Composite",price:"17,187.90",change:"+178.62",changePercent:"+1.04%"},{symbol:"GSPC",name:"S&P 500",price:"5,354.03",change:"+41.83",changePercent:"+0.78%"},{symbol:"AAPL",name:"Apple Inc.",price:"194.48",change:"+1.94",changePercent:"+1.01%"}]}}async function pC(l,t){console.log(`Learning about topic: ${l} using ${t}`);const o=`Explain "${l}" in detail, suitable for a general audience. Include a clear title, a concise summary, and structured content with paragraphs, subheadings, quotes, and where appropriate, a few step-by-step instructions using a 'step' type. Respond in JSON format only with the following structure:
{
  "title": "string",
  "summary": "string",
  "fullContent": [
    {"type": "paragraph", "content": "string"},
    {"type": "subheading", "content": "string"},
    {"type": "quote", "content": "string"},
    {"type": "step", "content": "string"}
  ],
  "category": "string"
}`;let a;try{if(t==="Puter.js"){if(typeof puter>"u"||!puter.ai||!puter.ai.chat)throw new Error("Puter.js AI functionality is not available.");a=await puter.ai.chat(o,{model:"gpt-5-nano",temperature:.7})}else t==="OpenRouter"?a=await Wi(o,"openai/gpt-4o",.7):(console.log("Generating learning article using Gemini (text)..."),a=(await new Wl({apiKey:Ot}).models.generateContent({model:"gemini-2.5-flash",contents:[{parts:[{text:o}]}],config:{temperature:.7,maxOutputTokens:2e3,thinkingConfig:{thinkingBudget:500}}})).text)}catch(y){throw console.error(`${t} chat failed for learning article generation:`,y),new Error(`Failed to generate learning article with ${t}.`)}let r;try{r=JSON.parse(a.trim())}catch(y){throw console.error(`Failed to parse learning article JSON from ${t}:`,y,"Raw response:",a),new Error(`Failed to parse learning article generation response from ${t}: ${y instanceof Error?y.message:String(y)}. Response: ${a}`)}const f=[];let p=_u("800x600");try{p=await Cu(r.title,"Puter.js")}catch(y){console.warn(`Failed to generate image for learning article "${r.title}":`,y)}return{id:`learn-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,title:r.title,summary:r.summary,fullContent:r.fullContent,category:r.category||"General Knowledge",imageUrl:p,sourceUrl:"#",sourceName:"AI Educator",groundingUrls:f,mapsGroundingUrls:[]}}async function fh(){return new Promise((l,t)=>{if(!("geolocation"in navigator)){t(new Error("Geolocation is not supported by your browser."));return}navigator.geolocation.getCurrentPosition(o=>{l({latitude:o.coords.latitude,longitude:o.coords.longitude})},o=>{let a="Failed to retrieve your location.";switch(o.code){case o.PERMISSION_DENIED:a="Location permission denied. Please enable it in your browser settings.";break;case o.POSITION_UNAVAILABLE:a="Location information is unavailable.";break;case o.TIMEOUT:a="The request to get user location timed out.";break}t(new Error(a))},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})})}async function*hC(l,t=[],o,a){if(l.toLowerCase().includes("image of")||l.toLowerCase().includes("show me a picture")||l.toLowerCase().includes("draw")){const h=l.replace(/image of|show me a picture of|draw/gi,"").trim();try{yield{imageUrl:await Cu(h,a)},yield{text:`Here is an image related to your request for "${h}".
`}}catch(y){console.error("Failed to generate image in chat:",y),yield{text:`Sorry, I couldn't generate an image for "${h}" at this time. ${y instanceof Error?y.message:""}
`}}return}const r=/^(?:write|generate|create)\s(?:an?|a new)\s(?:news\s)?article(?:\sabout)?\s(.+)|(?:tell me about|more articles about)\s(.+)/i,f=l.match(r);if(f){let h=f[1]||f[2];if(h){h=h.trim(),yield{text:`Generating a news article about "${h}" using ${a}... This might take a moment.
`};try{const y=await jh(h,a);yield{text:`
**${y.title}**

`},yield{imageUrl:y.imageUrl},yield{text:`*${y.summary}*

`};for(const g of y.fullContent)g.type==="subheading"?yield{text:`### ${g.content}

`}:g.type==="quote"?yield{text:`> "${g.content}"

`}:yield{text:`${g.content}

`}}catch(y){console.error("Failed to generate article in chat:",y),yield{text:`Sorry, I couldn't generate an article for "${h}" at this time. ${y instanceof Error?y.message:""}
`}}return}}let p="";if(a==="Puter.js"){if(typeof puter>"u"||!puter.ai||!puter.ai.chat){yield{text:"Puter.js AI functionality is not available. Please ensure it's loaded and selected as the AI Provider."};return}let h;try{if(t.length>0&&t[0].dataUrl&&t[0].type.startsWith("image/")){const y=`data:${t[0].type};base64,${t[0].dataUrl}`;h=await puter.ai.chat(l,y,{model:o,stream:!0})}else h=await puter.ai.chat(l,{model:o,stream:!0})}catch(y){console.error("Puter.ai.chat (stream) failed:",y),yield{text:`Sorry, I encountered an error with the chat service (Puter.js). Please try again. ${y instanceof Error?y.message:""}
`};return}for await(const y of h)y!=null&&y.text&&(p+=y.text,yield{text:y.text})}else if(a==="OpenRouter"){if(t.length>0){yield{text:"Multimodal input (image analysis) is not supported by OpenRouter chat with the current implementation. Please provide text-only input or switch to Puter.js for image analysis."};return}let h;try{h=await Wi(l,o,.7,!0)}catch(x){console.error("OpenRouter chat (stream) failed:",x),yield{text:`Sorry, I encountered an error with the chat service (OpenRouter). Please try again. ${x instanceof Error?x.message:""}
`};return}const y=new TextDecoder("utf-8");let g="";try{for(;;){const{done:x,value:S}=await h.read();if(x)break;g+=y.decode(S,{stream:!0});let E;for(;(E=g.indexOf(`
`))!==-1;){const C=g.substring(0,E).trim();if(g=g.substring(E+1),C.startsWith("data:")){const M=C.substring(5).trim();if(M==="[DONE]")break;try{const w=JSON.parse(M);w.choices&&w.choices.length>0&&w.choices[0].delta&&w.choices[0].delta.content&&(p+=w.choices[0].delta.content,yield{text:w.choices[0].delta.content})}catch(w){console.warn("Failed to parse OpenRouter stream chunk:",w,"Chunk:",M)}}}}}finally{h.releaseLock()}}else{console.log(`Streaming chat response using Gemini (text stream) with model: ${o}...`);const h=new Wl({apiKey:Ot});try{const y=[{parts:[{text:l}]}];if(t.length>0&&t[0].dataUrl&&t[0].type.startsWith("image/")){const x=t[0].dataUrl;y[0].parts.unshift({inlineData:{mimeType:t[0].type,data:x}})}const g=await h.models.generateContentStream({model:"gemini-2.5-flash",contents:y,config:{temperature:.7,maxOutputTokens:2e3,thinkingConfig:{thinkingBudget:500}}});for await(const x of g)x.text&&(p+=x.text,yield{text:x.text})}catch(y){console.error("Gemini stream failed for chat:",y),yield{text:`Sorry, I encountered an error with the chat service (Gemini). Please try again. ${y instanceof Error?y.message:""}
`};return}}!p.trim()&&!t.length&&(yield{text:"I'm sorry, I couldn't generate a response for that. Please try again."})}function gC(l){const t=atob(l),o=t.length,a=new Uint8Array(o);for(let r=0;r<o;r++)a[r]=t.charCodeAt(r);return a}async function yC(l,t,o,a){const r=new Int16Array(l.buffer),f=r.length/a,p=t.createBuffer(a,f,o);for(let h=0;h<a;h++){const y=p.getChannelData(h);for(let g=0;g<f;g++)y[g]=r[g*a+h]/32768}return p}function vC(l){const t=l.length,o=new Int16Array(t);for(let a=0;a<t;a++)o[a]=l[a]*32768;return{data:btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(o.buffer)))),mimeType:"audio/pcm;rate=16000"}}async function xC(l,t,o="You are a friendly and helpful customer support agent."){if(l!=="Gemini")throw new Error("Live Voice Chat is only supported by Gemini. Please select Gemini as the AI Provider.");return console.log("Connecting to Gemini Live API..."),new Wl({apiKey:Ot}).live.connect({model:"gemini-2.5-flash-native-audio-preview-09-2025",callbacks:{onopen:t.onopen,onmessage:t.onmessage,onerror:t.onerror,onclose:t.onclose},config:{responseModalities:[$i.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Zephyr"}}},systemInstruction:o,inputAudioTranscription:{},outputAudioTranscription:{}}})}const TC=({article:l,onSelect:t})=>{const[o,a]=q.useState(!1);q.useEffect(()=>{a(!1)},[l.imageUrl]);const r=()=>{a(!0)};return v.jsxs("div",{onClick:()=>t(l),className:"w-64 sm:w-72 h-80 sm:h-96 rounded-2xl overflow-hidden relative group cursor-pointer shrink-0 shadow-xl bg-surface-light dark:bg-surface-dark border border-outline-light/20 dark:border-outline-dark/20",children:[o?v.jsxs("div",{className:"w-full h-full object-cover bg-surface-dark flex flex-col items-center justify-center text-on-surface-dark/50 p-4",children:[v.jsx("span",{className:"material-symbols-outlined text-5xl mb-2",children:"broken_image"}),v.jsx("span",{className:"text-sm text-center",children:"Image Unavailable"})]}):v.jsx("img",{src:l.imageUrl,alt:l.title,loading:"lazy",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 ease-in-out",onError:r}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),v.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 text-on-primary-dark",children:[v.jsx("span",{className:"inline-block bg-accent text-primary-dark text-xs font-bold px-3 py-1 rounded-full mb-2",children:l.category}),v.jsx("h3",{className:"font-bold text-lg leading-tight group-hover:underline line-clamp-3",title:l.title,children:l.title}),l.sourceName&&v.jsx("p",{className:"text-xs text-on-surface-dark mt-2",children:l.sourceName})]})]})},fu=({article:l,onSelect:t})=>{const[o,a]=q.useState(!1);q.useEffect(()=>{a(!1)},[l.imageUrl]);const r=()=>{a(!0)};return v.jsxs("div",{onClick:()=>t(l),className:"flex items-center space-x-4 group cursor-pointer p-2 -ml-2 rounded-lg hover:bg-surface-light dark:hover:bg-surface-dark transition-colors duration-200",children:[v.jsx("div",{className:"w-24 h-20 sm:w-32 sm:h-24 rounded-lg overflow-hidden shrink-0 bg-surface-light dark:bg-primary-dark flex items-center justify-center",children:o?v.jsxs("div",{className:"flex flex-col items-center text-on-surface-light/50 dark:text-on-surface-dark/50 p-2 text-center text-xs",children:[v.jsx("span",{className:"material-symbols-outlined text-2xl mb-1",children:"broken_image"}),v.jsx("span",{children:"Image Unavailable"})]}):v.jsx("img",{src:l.imageUrl,alt:l.title,loading:"lazy",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:r})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"text-sm font-semibold text-accent",children:l.category}),v.jsx("h3",{className:"font-bold text-md sm:text-lg mt-1 text-on-primary-light dark:text-on-primary-dark group-hover:underline leading-tight line-clamp-2",title:l.title,children:l.title}),l.sourceName&&v.jsx("p",{className:"text-xs text-on-surface-light dark:text-on-surface-dark mt-1",children:l.sourceName})]})]})},SC=()=>v.jsx("div",{className:"w-64 sm:w-72 h-80 sm:h-96 rounded-2xl shimmer-bg shrink-0"}),EC=()=>v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("div",{className:"w-24 h-20 sm:w-32 sm:h-24 rounded-lg shimmer-bg shrink-0"}),v.jsxs("div",{className:"flex-1 space-y-3",children:[v.jsx("div",{className:"h-4 shimmer-bg rounded w-1/4"}),v.jsx("div",{className:"h-5 shimmer-bg rounded w-full"}),v.jsx("div",{className:"h-5 shimmer-bg rounded w-3/4"})]})]}),dh=()=>v.jsx("div",{className:"h-48 shimmer-bg rounded-xl"}),_C=()=>v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 lg:gap-8 xl:gap-12",children:[v.jsxs("div",{className:"lg:col-span-2",children:[v.jsxs("div",{className:"mb-12",children:[v.jsx("div",{className:"h-8 shimmer-bg rounded w-1/3 mb-6"}),v.jsx("div",{className:"flex overflow-x-auto space-x-6 scrollbar-hide -mx-4 px-4 sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8 pb-4",children:Array.from({length:3}).map((l,t)=>v.jsx(SC,{},t))})]}),v.jsxs("div",{children:[v.jsx("div",{className:"h-8 shimmer-bg rounded w-1/3 mb-6"}),v.jsx("div",{className:"space-y-6",children:Array.from({length:4}).map((l,t)=>v.jsx(EC,{},t))})]})]}),v.jsxs("div",{className:"hidden lg:block space-y-8 mt-16",children:[v.jsx(dh,{}),v.jsx(dh,{})]})]}),jl=({message:l})=>v.jsxs("div",{className:"bg-red-900/50 border border-red-500/50 text-red-300 px-4 py-3 rounded-lg relative text-center",role:"alert",children:[v.jsx("strong",{className:"font-bold",children:"Error: "}),v.jsx("span",{className:"block sm:inline",children:l})]}),mh=({condition:l,className:t="w-16 h-16"})=>{const o=l.toLowerCase();let a="thermostat";return o.includes("sunny")||o.includes("clear")?a="sunny":o.includes("partly cloudy")?a="partly_cloudy_day":o.includes("cloudy")||o.includes("overcast")?a="cloud":o.includes("rain")||o.includes("shower")?a="rainy":o.includes("thunderstorm")?a="thunderstorm":o.includes("snow")?a="cloudy_snowing":o.includes("mist")||o.includes("fog")?a="foggy":o.includes("windy")&&(a="wind_power"),v.jsx("span",{className:`material-symbols-outlined ${t}`,children:a})},CC=()=>v.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-6 rounded-xl border border-outline-light dark:border-outline-dark shimmer-bg",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("div",{className:"h-7 w-40 bg-outline-light dark:bg-outline-dark rounded mb-2"}),v.jsx("div",{className:"h-4 w-24 bg-outline-light dark:bg-outline-dark rounded"})]}),v.jsx("div",{className:"w-16 h-16 bg-outline-light dark:bg-outline-dark rounded-full"})]}),v.jsx("div",{className:"mt-8 flex justify-around",children:[...Array(3)].map((l,t)=>v.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[v.jsx("div",{className:"h-4 w-8 bg-outline-light dark:bg-outline-dark rounded"}),v.jsx("div",{className:"w-8 h-8 bg-outline-light dark:bg-outline-dark rounded-full"}),v.jsx("div",{className:"h-4 w-12 bg-outline-light dark:bg-outline-dark rounded"})]},t))})]}),AC=()=>{const[l,t]=q.useState(null),[o,a]=q.useState(!0),[r,f]=q.useState(null);return q.useEffect(()=>{(async()=>{a(!0),f(null);try{const h=await Wh("Johannesburg");t(h)}catch(h){f(h instanceof Error?h.message:"Could not fetch weather data."),console.error(h)}finally{a(!1)}})()},[]),o?v.jsx(CC,{}):r||!l?v.jsx("div",{className:"bg-red-900/50 border border-red-500/50 text-red-300 px-4 py-3 rounded-xl text-center",role:"alert",children:v.jsxs("p",{children:[v.jsx("strong",{className:"font-bold",children:"Error: "}),r||"Weather data is currently unavailable."]})}):v.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-6 rounded-xl border border-outline-light dark:border-outline-dark",children:[v.jsxs("div",{className:"flex justify-between items-start text-on-primary-light dark:text-on-primary-dark",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-on-surface-light dark:text-on-surface-dark",children:l.current.condition}),v.jsx("h3",{className:"text-xl font-bold",children:l.current.city}),v.jsxs("p",{className:"text-5xl font-extrabold tracking-tighter mt-1",children:[l.current.temperature,""]})]}),v.jsx("div",{className:"text-on-surface-light dark:text-on-surface-dark text-6xl",children:v.jsx(mh,{condition:l.current.condition,className:"text-7xl"})})]}),v.jsx("div",{className:"mt-6 pt-6 border-t border-outline-light dark:border-outline-dark flex justify-around",children:l.forecast.slice(0,3).map(p=>v.jsxs("div",{className:"flex flex-col items-center space-y-2 text-center",children:[v.jsx("p",{className:"text-sm font-bold text-on-surface-light dark:text-on-surface-dark",children:p.dayOfWeek}),v.jsx("div",{className:"text-on-primary-light dark:text-on-primary-dark",children:v.jsx(mh,{condition:p.condition,className:"text-3xl"})}),v.jsxs("p",{className:"text-sm font-semibold text-on-primary-light dark:text-on-primary-dark",children:[p.highTemp," ",v.jsxs("span",{className:"text-on-surface-light/50 dark:text-on-surface-dark/50",children:[p.lowTemp,""]})]})]},p.dayOfWeek))})]})},NC=({article:l,onSelect:t})=>v.jsxs("div",{onClick:()=>t(l),className:"group cursor-pointer p-2 -ml-2 rounded-lg hover:bg-outline-light dark:hover:bg-outline-dark transition-colors flex items-center gap-3",children:[v.jsx("div",{className:"w-12 h-12 rounded-md bg-primary-light dark:bg-primary-dark overflow-hidden shrink-0",children:v.jsx("img",{src:l.imageUrl,alt:l.title,className:"w-full h-full object-cover"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"text-sm font-semibold text-on-primary-light dark:text-on-primary-dark group-hover:underline line-clamp-2 leading-tight",children:l.title}),v.jsx("p",{className:"text-xs text-on-surface-light dark:text-on-surface-dark line-clamp-1",children:l.sourceName})]})]}),bC=({onArticleSelect:l})=>{const[t,o]=q.useState([]),[a,r]=q.useState(!0),[f,p]=q.useState(null),h=q.useCallback(async()=>{r(!0),p(null);try{const y=await Th();o(y)}catch{p("Failed to load saved articles.")}finally{r(!1)}},[]);return q.useEffect(()=>{const y=()=>{document.visibilityState==="visible"&&h()};return h(),document.addEventListener("visibilitychange",y),()=>{document.removeEventListener("visibilitychange",y)}},[h]),v.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-6 rounded-xl border border-outline-light dark:border-outline-dark",children:[v.jsx("h3",{className:"text-xl font-bold text-on-primary-light dark:text-on-primary-dark mb-4",children:"Saved Articles"}),f&&v.jsx(jl,{message:f}),a&&v.jsx("div",{className:"space-y-3",children:[...Array(3)].map((y,g)=>v.jsxs("div",{className:"flex items-center gap-3 shimmer-bg p-2 rounded-lg",children:[v.jsx("div",{className:"w-12 h-12 rounded-md bg-outline-light dark:bg-outline-dark"}),v.jsxs("div",{className:"flex-1 space-y-2",children:[v.jsx("div",{className:"h-4 w-full bg-outline-light dark:bg-outline-dark rounded"}),v.jsx("div",{className:"h-3 w-1/2 bg-outline-light dark:bg-outline-dark rounded"})]})]},g))}),!a&&t.length>0&&v.jsx("div",{className:"space-y-3",children:t.slice(0,5).map(y=>v.jsx(NC,{article:y,onSelect:l},y.id))}),!a&&!f&&t.length===0&&v.jsxs("div",{className:"text-center py-6",children:[v.jsx("span",{className:"material-symbols-outlined text-4xl text-on-surface-light/50 dark:text-on-surface-dark/50",children:"bookmark_add"}),v.jsx("p",{className:"mt-2 text-sm text-on-surface-light dark:text-on-surface-dark",children:"No saved articles yet."}),v.jsx("p",{className:"mt-1 text-xs text-on-surface-light/70 dark:text-on-surface-dark/70",children:"Save articles to read them here later."})]})]})},RC=()=>v.jsxs("div",{className:"flex justify-center items-center py-8 space-x-3 text-gray-500 dark:text-gray-400 animate-fade-in",children:[v.jsxs("svg",{className:"animate-spin h-6 w-6 text-gray-400 dark:text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),v.jsx("span",{className:"text-sm font-medium",children:"Loading more articles..."}),v.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        .animate-fade-in {
          animation: fade-in 0.5s ease-out forwards;
        }
      `})]}),tu=({onArticleSelect:l})=>{const[t,o]=q.useState([]),[a,r]=q.useState([]),[f,p]=q.useState([]),[h,y]=q.useState(!0),[g,x]=q.useState(!1),[S,E]=q.useState(null),[C,M]=q.useState(0),[w,z]=q.useState(!0),{uiConfig:Y}=it(),K=["latest global events","science breakthroughs","environmental news","cultural trends","sports highlights","economic updates","social issues","health discoveries"];q.useEffect(()=>{(async()=>{y(!0),E(null);try{const[X,W]=await Promise.all([uC(),cC()]);o(X),r(W),M(1),z(!0)}catch(X){const W=X instanceof Error?X.message:"An unknown error occurred while fetching news.";E(W),console.error(X)}finally{y(!1)}})()},[]);const O=async()=>{if(!(g||!w)){x(!0);try{const F=await fC(K,3,Y.aiProvider);F.length>0?(p(X=>[...X,...F]),M(X=>X+1),F.length<3&&z(!1)):z(!1)}catch(F){console.error("Failed to load more AI articles:",F),z(!1)}finally{x(!1)}}};return h?v.jsx(_C,{}):S?v.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:v.jsx(jl,{message:S})}):v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 lg:gap-8 xl:gap-12",children:[v.jsxs("div",{className:"lg:col-span-2",children:[v.jsxs("section",{className:"mb-12",children:[v.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-on-primary-light dark:text-on-primary-dark",children:"Breaking News"}),t.length>0?v.jsx("div",{className:"flex overflow-x-auto space-x-6 scrollbar-hide -mx-4 px-4 sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8 pb-4",children:t.map(F=>v.jsx(TC,{article:F,onSelect:l},F.id))}):v.jsx("p",{className:"text-on-surface-light dark:text-on-surface-dark",children:"No breaking news available."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-on-primary-light dark:text-on-primary-dark",children:"Trending on the Internet"}),a.length>0?v.jsx("div",{className:"space-y-6",children:a.map(F=>v.jsx(fu,{article:F,onSelect:l},F.id))}):v.jsx("p",{className:"text-on-surface-light dark:text-on-surface-dark",children:"Could not load trending news from the web."}),f.length>0&&v.jsx("div",{className:"space-y-6 mt-6",children:f.map(F=>v.jsx(fu,{article:F,onSelect:l},F.id))}),w&&v.jsx("div",{className:"mt-8 text-center",children:v.jsx("button",{onClick:O,disabled:g,className:"px-6 py-3 font-semibold rounded-lg transition-colors duration-200 bg-accent text-white dark:text-primary-dark hover:bg-accent-dark disabled:opacity-50 disabled:cursor-not-allowed",children:g?v.jsx(RC,{}):"Load More AI Articles"})}),!w&&f.length>0&&v.jsx("p",{className:"mt-8 text-center text-on-surface-light dark:text-on-surface-dark",children:"You've reached the end of AI-generated articles!"})]})]}),v.jsxs("aside",{className:"lg:sticky lg:top-24 space-y-8 mt-12 lg:mt-0",children:[v.jsx(AC,{}),v.jsx(bC,{onArticleSelect:l})]})]})},_a=({title:l,onBack:t})=>v.jsxs("div",{className:"flex items-center mb-6",children:[v.jsx("button",{onClick:t,"aria-label":"Go back",className:"flex items-center justify-center h-10 w-10 rounded-full bg-gray-100 dark:bg-zinc-900 text-gray-800 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-zinc-800 transition-colors mr-4 shrink-0",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),v.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white truncate",children:l})]}),MC=({article:l,onBack:t})=>{var x,S;const[o,a]=q.useState(!1),[r,f]=q.useState(()=>{const E={};return l.fullContent.forEach((C,M)=>{C.type==="step"&&(E[M]=C.isComplete||!1)}),E}),{uiConfig:p}=it();q.useEffect(()=>{a(!1)},[l.imageUrl]);const h=()=>{a(!0)},y=E=>{f(C=>({...C,[E]:!C[E]}))},g=(E,C)=>{switch(E.type){case"subheading":return v.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-on-primary-light dark:text-on-primary-dark mt-8 mb-4",children:E.content},C);case"quote":return v.jsx("blockquote",{className:"my-6 pl-4 border-l-4 border-accent",children:v.jsxs("p",{className:"text-lg md:text-xl italic text-on-surface-light dark:text-on-surface-dark",children:['"',E.content,'"']})},C);case"step":const M=r[C];return v.jsxs("div",{className:"flex items-start gap-3 bg-surface-light dark:bg-surface-dark p-4 rounded-lg my-4 border border-outline-light dark:border-outline-dark transition-all duration-200",children:[v.jsx("input",{type:"checkbox",checked:M,onChange:()=>y(C),className:"mt-1 w-5 h-5 accent-accent cursor-pointer flex-shrink-0","aria-label":`Mark step as ${M?"incomplete":"complete"}`}),v.jsx("p",{className:`flex-1 text-lg text-on-surface-light dark:text-on-surface-dark leading-relaxed ${M?"line-through text-on-surface-light/60 dark:text-on-surface-dark/60":""}`,children:E.content})]},C);case"paragraph":default:return v.jsx("p",{className:"text-lg text-on-surface-light dark:text-on-surface-dark mb-6 leading-relaxed",children:E.content},C)}};return v.jsxs("div",{className:"animate-fade-in pb-24",children:[v.jsx(_a,{title:l.title,onBack:t}),v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsx("div",{className:"w-full h-64 sm:h-80 bg-surface-dark flex items-center justify-center rounded-lg overflow-hidden mb-8 border border-outline-light dark:border-outline-dark",children:o?v.jsxs("div",{className:"flex flex-col items-center text-on-surface-dark/50 p-4",children:[v.jsx("span",{className:"material-symbols-outlined text-6xl mb-2",children:"broken_image"}),v.jsx("span",{className:"text-lg text-center",children:"Image Unavailable"})]}):v.jsx("img",{src:l.imageUrl,alt:l.title,className:"w-full h-full object-cover",onError:h})}),v.jsxs("div",{className:"mb-8",children:[v.jsx("span",{className:"inline-block bg-accent text-primary-dark text-xs font-bold px-3 py-1 rounded-full mb-2",children:l.category}),v.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-on-primary-light dark:text-on-primary-dark mb-4 leading-tight",children:l.title}),v.jsx("p",{className:"text-xl text-on-surface-light dark:text-on-surface-dark italic mb-6",children:l.summary}),v.jsxs("div",{className:"flex items-center text-sm md:text-base text-on-surface-light dark:text-on-surface-dark",children:[l.sourceName&&v.jsxs("span",{children:["By ",l.sourceName]}),l.sourceName&&l.id&&v.jsx("span",{className:"mx-2",children:""}),l.id&&v.jsx("span",{children:new Date(parseInt(l.id.split("-")[1])).toLocaleDateString()})]})]}),v.jsx("div",{className:"prose-lg max-w-none",children:l.fullContent.map(g)}),l.groundingUrls&&l.groundingUrls.length>0||l.mapsGroundingUrls&&l.mapsGroundingUrls.length>0&&v.jsxs("div",{className:"mt-12 border-t border-outline-light dark:border-outline-dark pt-8",children:[v.jsx("h3",{className:"text-xl font-bold text-on-primary-light dark:text-on-primary-dark mb-4",children:"Sources"}),v.jsxs("ul",{className:"list-disc list-inside space-y-2 text-on-surface-light dark:text-on-surface-dark",children:[(x=l.groundingUrls)==null?void 0:x.map((E,C)=>v.jsx("li",{children:v.jsx("a",{href:E,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline break-all",children:E})},`search-${C}`)),(S=l.mapsGroundingUrls)==null?void 0:S.map((E,C)=>v.jsx("li",{children:v.jsx("a",{href:E.uri,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline break-all",children:E.title||E.uri})},`map-${C}`))]})]})]}),v.jsx("style",{children:`
        .prose-lg p {
            font-size: 1.125rem;
            line-height: 1.75;
        }
      `})]})},kC=()=>v.jsxs("div",{className:"mt-8 space-y-4 shimmer-bg p-6 rounded-xl",children:[v.jsx("div",{className:"h-8 w-3/4 bg-outline-light dark:bg-outline-dark rounded-lg"}),v.jsx("div",{className:"h-5 w-full bg-outline-light dark:bg-outline-dark rounded-lg"}),v.jsx("div",{className:"h-5 w-full bg-outline-light dark:bg-outline-dark rounded-lg"}),v.jsx("div",{className:"h-5 w-5/6 bg-outline-light dark:bg-outline-dark rounded-lg"}),v.jsx("div",{className:"h-6 w-1/3 bg-outline-light dark:bg-outline-dark rounded-lg mt-6"}),v.jsx("div",{className:"h-5 w-1/2 bg-outline-light dark:bg-outline-dark rounded-lg"}),v.jsx("div",{className:"h-5 w-1/2 bg-outline-light dark:bg-outline-dark rounded-lg"})]}),wC=()=>{const[l,t]=q.useState(""),[o,a]=q.useState(!1),[r,f]=q.useState(null),[p,h]=q.useState(null),{uiConfig:y}=it(),g=async M=>{if(M.trim()){a(!0),f(null),h(null);try{const w=await pC(M,y.aiProvider);h(w)}catch(w){f(w instanceof Error?w.message:"An unexpected error occurred.")}finally{a(!1)}}},x=M=>{M.preventDefault(),g(l)},S=M=>{t(M),g(M)},E=()=>{h(null)},C=["Quantum Computing","History of South Africa","How does AI work?","Photosynthesis"];return p?v.jsx(MC,{article:p,onBack:E}):v.jsxs("div",{className:"animate-fade-in",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h1",{className:"text-4xl font-extrabold tracking-tight text-on-primary-light dark:text-on-primary-dark mb-2",children:"What do you want to learn today?"}),v.jsx("p",{className:"text-lg text-on-surface-light dark:text-on-surface-dark",children:"Enter any topic below to get a quick, AI-powered explanation."})]}),v.jsx("form",{onSubmit:x,className:"max-w-2xl mx-auto mb-8",children:v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"search",value:l,onChange:M=>t(M.target.value),placeholder:"e.g., General Relativity",className:"w-full bg-surface-light dark:bg-surface-dark border-2 border-outline-light dark:border-outline-dark focus:border-accent focus:ring-0 text-on-primary-light dark:text-on-primary-dark text-lg rounded-full py-4 pl-6 pr-32 transition-colors",disabled:o}),v.jsx("button",{type:"submit",disabled:o||!l.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 px-6 py-2.5 font-semibold rounded-full transition-colors duration-200 bg-accent text-white dark:text-primary-dark hover:bg-accent-dark disabled:opacity-50 disabled:cursor-not-allowed",children:o?"...":"Learn"})]})}),v.jsxs("div",{className:"max-w-3xl mx-auto",children:[o&&v.jsx(kC,{}),r&&v.jsx(jl,{message:r}),!o&&!r&&!p&&v.jsxs("div",{className:"text-center py-10",children:[v.jsx("h3",{className:"text-lg font-semibold text-on-primary-light dark:text-on-primary-dark mb-4",children:"Or try one of these topics:"}),v.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:C.map(M=>v.jsx("button",{onClick:()=>S(M),className:"px-4 py-2 text-sm font-medium bg-surface-light dark:bg-surface-dark border border-outline-light dark:border-outline-dark rounded-full hover:bg-outline-light dark:hover:bg-outline-dark transition-colors",children:M},M))})]})]})]})},IC=()=>v.jsx("span",{className:"inline-block w-2 h-4 bg-on-surface-light/50 dark:bg-on-surface-dark/50 animate-blink align-bottom ml-1"}),DC=({url:l})=>{const[t,o]=q.useState(!1);return v.jsxs("div",{className:"relative mb-2 rounded-lg overflow-hidden border border-outline-light dark:border-outline-dark",children:[!t&&v.jsx("div",{className:"aspect-video w-full shimmer-bg"}),v.jsx("img",{src:l,alt:"AI generated content",className:`w-full transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onLoad:()=>o(!0)})]})},UC=({sources:l})=>{const{uiConfig:t}=it();return v.jsxs("div",{className:"mt-3 pt-3 border-t border-outline-light dark:border-outline-dark",children:[v.jsx("h4",{className:"text-xs font-bold text-on-surface-light dark:text-on-surface-dark mb-2 uppercase tracking-wider",children:"Sources"}),v.jsx("div",{className:"space-y-2",children:l.map((o,a)=>v.jsxs("a",{href:o.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-2 rounded-md bg-primary-light dark:bg-primary-dark hover:bg-outline-light dark:hover:bg-outline-dark transition-colors",children:[v.jsx("span",{className:"material-symbols-outlined text-base text-on-surface-light dark:text-on-surface-dark",children:"link"}),v.jsx("span",{className:"text-sm hover:underline truncate",style:{color:t.accentColor},children:o.title||o.uri})]},a))})]})},LC=({content:l})=>{const o=l.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/### (.*)/g,"<h3>$1</h3>").replace(/## (.*)/g,"<h2>$1</h2>").replace(/# (.*)/g,"<h1>$1</h1>").replace(/^> (.*)$/gm,"<blockquote>$1</blockquote>").split(`
`),a=[];let r=[];const f=()=>{r.length>0&&(a.push(v.jsx("ul",{className:"list-disc list-inside space-y-1 mb-2",children:r.map((p,h)=>v.jsx("li",{dangerouslySetInnerHTML:{__html:p}},h))},`ul-${a.length}`)),r=[])};return o.forEach((p,h)=>{const y=p.trim();y.startsWith("<h")?(f(),a.push(v.jsx("div",{dangerouslySetInnerHTML:{__html:y}},h))):y.startsWith("<blockquote>")?(f(),a.push(v.jsx("div",{className:"pl-4 border-l-4 border-accent italic my-2",dangerouslySetInnerHTML:{__html:y.replace("<blockquote>","").replace("</blockquote>","")}},h))):y.startsWith("- ")?r.push(y.substring(2)):y===""?f():(f(),a.push(v.jsx("p",{className:"mb-2",dangerouslySetInnerHTML:{__html:y}},h)))}),f(),v.jsx(v.Fragment,{children:a})},GC=({text:l,files:t})=>{const{uiConfig:o}=it();return v.jsx("div",{className:"flex justify-end mb-4",children:v.jsxs("div",{className:"text-white dark:text-primary-dark rounded-l-xl rounded-t-xl p-3 max-w-[80%] sm:max-w-md lg:max-w-lg animate-fade-in border",style:{backgroundColor:o.accentColor,borderColor:o.accentColor},children:[t&&t.length>0&&v.jsx("div",{className:"mb-2 grid grid-cols-2 sm:grid-cols-3 gap-2",children:t.map(a=>v.jsx("div",{className:"relative aspect-square bg-accent-dark rounded-md overflow-hidden",style:{backgroundColor:o.accentColor},children:a.previewUrl?v.jsx("img",{src:a.previewUrl,alt:a.name,className:"w-full h-full object-cover"}):v.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2",children:[v.jsx("span",{className:"material-symbols-outlined text-3xl",children:"description"}),v.jsx("span",{className:"text-xs text-center truncate w-full mt-1",children:a.name})]})},a.name))}),l&&v.jsx("p",{className:"whitespace-pre-wrap",children:l})]})})},qC=({message:l,isTyping:t})=>{const{text:o,imageUrl:a,sources:r}=l;return v.jsx("div",{className:"flex justify-start mb-4",children:v.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-r-xl rounded-t-xl p-3 max-w-[80%] sm:max-w-md lg:max-w-lg border border-outline-light dark:border-outline-dark animate-fade-in",children:[a&&v.jsx(DC,{url:a}),(o||t&&!a)&&v.jsxs("p",{className:"whitespace-pre-wrap text-on-primary-light dark:text-on-primary-dark",children:[v.jsx(LC,{content:o}),t&&v.jsx(IC,{})]}),r&&v.jsx(UC,{sources:r})]})})},PC=()=>{const{user:l}=mu(),{uiConfig:t}=it(),{theme:o}=Xl(),[a,r]=q.useState([]),[f,p]=q.useState(""),[h,y]=q.useState(!1),[g,x]=q.useState([]),[S,E]=q.useState("gpt-5-nano"),C=q.useRef(null),M=q.useRef(null),[w,z]=q.useState(null),[Y,K]=q.useState(null),O=B=>B==="Puter.js"?[{value:"gpt-5-nano",label:"GPT-5 Nano (Fast)"},{value:"claude",label:"Claude (Advanced Streaming)"}]:[{value:"openai/gpt-4o",label:"OpenAI GPT-4o"},{value:"openrouter/claude-3-opus",label:"OpenRouter Claude 3 Opus"}];q.useEffect(()=>{const B=O(t.aiProvider);B.some(re=>re.value===S)||E(B[0].value)},[t.aiProvider,S]),q.useEffect(()=>{r([{role:"model",text:`Hi ${(l==null?void 0:l.name.split(" ")[0])||"there"}! I'm your AI assistant. I can find information, generate images, and more. How can I help you today?`}])},[l]),q.useEffect(()=>{var B;(B=M.current)==null||B.scrollIntoView({behavior:"smooth"})},[a,h]);const F=B=>{if(B.target.files){const ce=Array.from(B.target.files).slice(0,1).filter(ge=>!g.some(ae=>ae.name===ge.name&&ae.size===ge.size));if(ce.length===0)return;const le=ce.map(ge=>new Promise(ae=>{if(ge.type.startsWith("image/")){const xe=new FileReader;xe.onloadend=()=>{const D=xe.result.split(",")[1];ae({...ge,previewUrl:xe.result,base64Data:D})},xe.readAsDataURL(ge)}else ae({...ge,previewUrl:void 0})}));Promise.all(le).then(ge=>{x(ge)})}},X=B=>{x(re=>re.filter(ce=>ce.name!==B))},W=async B=>{if(B.preventDefault(),!f.trim()&&g.length===0||h)return;const re={role:"user",text:f,files:g};r(ae=>[...ae,re]);const ce=f,le=g,ge=t.aiProvider;if(p(""),x([]),y(!0),r(ae=>[...ae,{role:"model",text:""}]),ce.toLowerCase().includes("near me")||ce.toLowerCase().includes("nearby"))try{const ae=await fh();z(ae),K(null)}catch(ae){const xe=ae instanceof Error?ae.message:"Failed to get location.";K(xe),r(D=>{const J=[...D];return J[J.length-1]={role:"model",text:`I usually need your location to answer that, but the Maps grounding tool isn't available with the current AI provider. Your location data: ${xe}`},J}),y(!1);return}try{const ae=le.map(D=>({name:D.name,type:D.type,dataUrl:D.base64Data})),xe=hC(ce,ae,S,ge);for await(const D of xe)r(J=>{const te=[...J],he=te[te.length-1];return D.text&&(he.text+=D.text),D.imageUrl&&(he.imageUrl=D.imageUrl),D.sources&&(he.sources=[...he.sources||[],...D.sources]),te})}catch(ae){console.error("Chat stream error:",ae);let xe="Sorry, I encountered an error. Please try again.";ae instanceof Error?xe=ae.message:typeof ae=="string"&&(xe=ae);const D={role:"model",text:xe};r(J=>{const te=[...J];return te[te.length-1]=D,te})}finally{y(!1)}},Q=()=>({backgroundColor:`rgba(${o==="dark"?"0, 0, 0":"255, 255, 255"}, ${t.transparency})`,backdropFilter:`blur(${t.blurIntensity}px)`,WebkitBackdropFilter:`blur(${t.blurIntensity}px)`,borderTop:`1px solid rgba(${o==="dark"?"255, 255, 255":"0, 0, 0"}, ${t.transparency*2/3})`}),de=t.aiProvider==="OpenRouter";return v.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 h-full flex flex-col animate-fade-in",children:[v.jsxs("div",{className:"shrink-0 mb-4 pt-8",children:[v.jsx("h1",{className:"text-3xl font-bold text-on-primary-light dark:text-on-primary-dark",children:"AI Assistant"}),v.jsx("p",{className:"text-on-surface-light dark:text-on-surface-dark",children:"I can help with news, analysis, and more."}),v.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[v.jsx("label",{htmlFor:"chat-model-select",className:"text-sm font-medium text-on-surface-light dark:text-on-surface-dark",children:"Model:"}),v.jsx("select",{id:"chat-model-select",value:S,onChange:B=>E(B.target.value),className:"bg-surface-light dark:bg-surface-dark border border-outline-light dark:border-outline-dark rounded-md text-on-primary-light dark:text-on-primary-dark text-sm py-1 px-2",disabled:h,children:O(t.aiProvider).map(B=>v.jsx("option",{value:B.value,children:B.label},B.value))}),v.jsxs("span",{className:"text-xs text-on-surface-light/70 dark:text-on-surface-dark/70 ml-2",children:["Provider: ",v.jsx("strong",{children:t.aiProvider})]})]}),Y&&v.jsxs("div",{className:"text-red-500 text-sm mt-2",children:[Y," ",v.jsx("button",{onClick:()=>fh().then(z).catch(K),className:"text-accent underline",children:"Try again"})]})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto pr-4 -mr-4 scrollbar-hide pb-4",children:[a.map((B,re)=>{const ce=re===a.length-1;return B.role==="user"?v.jsx(GC,{text:B.text,files:B.files},re):v.jsx(qC,{message:B,isTyping:h&&ce},re)}),v.jsx("div",{ref:M})]}),v.jsxs("div",{className:"mt-auto pt-4 shrink-0 pb-20 lg:pb-4 fixed bottom-0 left-0 right-0 z-10 px-4 sm:px-6 lg:px-8",style:Q(),children:[g.length>0&&v.jsx("div",{className:"px-1 pb-2 flex items-center overflow-x-auto gap-3 border-b border-outline-light dark:border-outline-dark mb-2 scrollbar-hide",children:g.map(B=>v.jsxs("div",{className:"relative shrink-0 w-20 h-20 bg-surface-light dark:bg-surface-dark border border-outline-light dark:border-outline-dark rounded-lg overflow-hidden animate-fade-in",title:B.name,children:[B.previewUrl?v.jsx("img",{src:B.previewUrl,alt:B.name,className:"w-full h-full object-cover"}):v.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-1 text-center",children:[v.jsx("span",{className:"material-symbols-outlined text-3xl text-on-surface-light dark:text-on-surface-dark",children:"description"}),v.jsx("span",{className:"text-xs text-on-primary-light dark:text-on-primary-dark truncate w-full mt-1",children:B.name})]}),v.jsx("button",{onClick:()=>X(B.name),className:"absolute top-1 right-1 w-5 h-5 flex items-center justify-center bg-black/60 text-white rounded-full hover:bg-black/80 transition-colors","aria-label":`Remove ${B.name}`,children:v.jsx("span",{className:"material-symbols-outlined text-sm leading-none block",children:"close"})})]},`${B.name}-${B.size}`))}),de&&g.length>0&&v.jsx("div",{className:"text-red-500 text-sm mb-2",children:"Image input is not supported by OpenRouter chat. Please remove the image or switch to Puter.js."}),v.jsxs("form",{onSubmit:W,className:"flex items-center gap-3",children:[v.jsx("input",{type:"file",ref:C,onChange:F,className:"hidden","aria-hidden":"true",disabled:de}),v.jsx("button",{type:"button",onClick:()=>{var B;return(B=C.current)==null?void 0:B.click()},disabled:h||de,className:`w-12 h-12 flex items-center justify-center text-on-surface-light dark:text-on-surface-dark rounded-full transition-colors shrink-0 ${de?"opacity-50 cursor-not-allowed":"hover:bg-outline-light dark:hover:bg-outline-dark"}`,"aria-label":"Attach files",children:v.jsx("span",{className:"material-symbols-outlined",children:"attach_file"})}),v.jsx("input",{type:"text",value:f,onChange:B=>p(B.target.value),placeholder:"Ask me anything, or attach a file...",className:"flex-1 bg-surface-light dark:bg-surface-dark border-2 border-outline-light dark:border-outline-dark focus:border-accent focus:ring-0 text-on-primary-light dark:text-on-primary-dark rounded-lg py-3 px-4 transition-colors",disabled:h}),v.jsx("button",{type:"submit",disabled:h||!f.trim()&&g.length===0,className:"w-12 h-12 flex items-center justify-center rounded-full transition-transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed shrink-0","aria-label":"Send message",style:{backgroundColor:t.accentColor},children:v.jsx("span",{className:"material-symbols-outlined",children:"send"})})]})]}),v.jsx("style",{children:`
                @keyframes blink {
                    50% { opacity: 0; }
                }
                .animate-blink {
                    animation: blink 1s step-end infinite;
                }
            `})]})},HC=({onArticleSelect:l})=>{const[t,o]=q.useState([]),[a,r]=q.useState([]),[f,p]=q.useState(!0),[h,y]=q.useState(null),{uiConfig:g}=it();q.useEffect(()=>{(async()=>{p(!0),y(null);try{const[M,w]=await Promise.all([mC(g.aiProvider),dC(g.aiProvider)]);o(M),r(w)}catch(M){y(M instanceof Error?M.message:"Failed to load financial data.")}finally{p(!1)}})()},[g.aiProvider]);const x=({item:C})=>{const M=!C.change.startsWith("-");return v.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-4 rounded-lg border border-outline-light dark:border-outline-dark",children:[v.jsx("p",{className:"text-sm text-on-surface-light dark:text-on-surface-dark truncate",children:C.name}),v.jsx("h3",{className:"text-xl font-bold text-on-primary-light dark:text-on-primary-dark",children:C.price}),v.jsxs("p",{className:`text-sm font-semibold ${M?"text-green-500":"text-red-500"}`,children:[C.change," (",C.changePercent,")"]})]})},S=()=>v.jsx("div",{className:"h-24 bg-surface-light dark:bg-surface-dark rounded-lg shimmer-bg"}),E=()=>v.jsxs("div",{className:"flex items-center space-x-4 p-2",children:[v.jsx("div",{className:"w-24 h-20 sm:w-32 sm:h-24 rounded-lg shimmer-bg shrink-0"}),v.jsxs("div",{className:"flex-1 space-y-3",children:[v.jsx("div",{className:"h-4 shimmer-bg rounded w-1/4"}),v.jsx("div",{className:"h-5 shimmer-bg rounded w-full"}),v.jsx("div",{className:"h-5 shimmer-bg rounded w-3/4"})]})]});return v.jsxs("div",{className:"animate-fade-in",children:[v.jsx("h1",{className:"text-3xl font-bold text-on-primary-light dark:text-on-primary-dark mb-8",children:"Finance"}),h&&v.jsx(jl,{message:h}),v.jsxs("section",{className:"mb-12",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4 text-on-primary-light dark:text-on-primary-dark",children:"Market Overview"}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:f?Array.from({length:4}).map((C,M)=>v.jsx(S,{},M)):t.map(C=>v.jsx(x,{item:C},C.symbol))})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-bold mb-4 text-on-primary-light dark:text-on-primary-dark",children:"Top Stories"}),v.jsx("div",{className:"space-y-6",children:f?Array.from({length:4}).map((C,M)=>v.jsx(E,{},M)):a.map(C=>v.jsx(fu,{article:C,onSelect:l},C.id))})]})]})},ph=({condition:l,className:t="w-16 h-16"})=>{const o=l.toLowerCase();let a="thermostat";return o.includes("sunny")||o.includes("clear")?a="sunny":o.includes("partly cloudy")?a="partly_cloudy_day":o.includes("cloudy")||o.includes("overcast")?a="cloud":o.includes("rain")||o.includes("shower")?a="rainy":o.includes("thunderstorm")?a="thunderstorm":o.includes("snow")?a="cloudy_snowing":o.includes("mist")||o.includes("fog")?a="foggy":o.includes("windy")&&(a="wind_power"),v.jsx("span",{className:`material-symbols-outlined ${t}`,children:a})},VC=()=>v.jsxs("div",{className:"space-y-6 shimmer-bg p-6 rounded-xl",children:[v.jsx("div",{className:"h-20 bg-outline-light dark:bg-outline-dark rounded-lg"}),v.jsx("div",{className:"h-48 bg-outline-light dark:bg-outline-dark rounded-lg"}),v.jsx("div",{className:"h-32 bg-outline-light dark:bg-outline-dark rounded-lg"})]}),zC=()=>{const[l,t]=q.useState("Johannesburg"),[o,a]=q.useState("Johannesburg"),[r,f]=q.useState(null),[p,h]=q.useState(!0),[y,g]=q.useState(null);q.useEffect(()=>{(async()=>{if(l){h(!0),g(null);try{const E=await Wh(l);f(E)}catch(E){g(E instanceof Error?E.message:"Could not fetch weather data."),f(null)}finally{h(!1)}}})()},[l]);const x=S=>{S.preventDefault(),o.trim()&&t(o.trim())};return v.jsxs("div",{className:"animate-fade-in",children:[v.jsx("h1",{className:"text-3xl font-bold text-on-primary-light dark:text-on-primary-dark mb-8",children:"Weather"}),v.jsxs("form",{onSubmit:x,className:"flex flex-col sm:flex-row gap-3 mb-8",children:[v.jsx("input",{type:"text",value:o,onChange:S=>a(S.target.value),placeholder:"Search for a city...",className:"flex-1 bg-surface-light dark:bg-surface-dark border-2 border-outline-light dark:border-outline-dark focus:border-accent focus:ring-0 text-on-primary-light dark:text-on-primary-dark rounded-lg py-3 px-4 transition-colors",disabled:p}),v.jsx("button",{type:"submit",disabled:p||!o.trim(),className:"px-6 py-3 font-semibold rounded-lg bg-accent text-white dark:text-primary-dark hover:bg-accent-dark disabled:opacity-50 shrink-0",children:p?"Loading...":"Search"})]}),y&&v.jsx(jl,{message:y}),p&&v.jsx(VC,{}),!p&&r&&v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"bg-surface-light dark:bg-surface-dark p-6 rounded-xl border border-outline-light dark:border-outline-dark",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center text-on-primary-light dark:text-on-primary-dark gap-6",children:[v.jsxs("div",{className:"text-center sm:text-left",children:[v.jsx("h2",{className:"text-3xl font-bold",children:r.current.city}),v.jsx("p",{className:"text-on-surface-light dark:text-on-surface-dark",children:r.current.condition}),v.jsxs("p",{className:"text-7xl font-extrabold tracking-tighter mt-1",children:[r.current.temperature,"C"]})]}),v.jsx("div",{className:"text-on-surface-light dark:text-on-surface-dark text-9xl",children:v.jsx(ph,{condition:r.current.condition,className:"text-9xl"})}),v.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-2 text-sm text-center sm:text-left",children:[v.jsx("div",{className:"font-semibold text-on-surface-light dark:text-on-surface-dark",children:"Humidity"}),v.jsxs("div",{className:"font-bold text-on-primary-light dark:text-on-primary-dark",children:[r.current.humidity,"%"]}),v.jsx("div",{className:"font-semibold text-on-surface-light dark:text-on-surface-dark",children:"Wind"}),v.jsx("div",{className:"font-bold text-on-primary-light dark:text-on-primary-dark",children:r.current.windSpeed})]})]})}),v.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-6 rounded-xl border border-outline-light dark:border-outline-dark",children:[v.jsx("h3",{className:"text-xl font-bold text-on-primary-light dark:text-on-primary-dark mb-4",children:"5-Day Forecast"}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:r.forecast.map(S=>v.jsxs("div",{className:"flex flex-col items-center space-y-2 text-center bg-primary-light dark:bg-primary-dark p-4 rounded-lg",children:[v.jsx("p",{className:"text-md font-bold text-on-surface-light dark:text-on-surface-dark",children:S.dayOfWeek}),v.jsx("div",{className:"text-on-primary-light dark:text-on-primary-dark text-5xl",children:v.jsx(ph,{condition:S.condition,className:"text-5xl"})}),v.jsxs("p",{className:"text-lg font-semibold text-on-primary-light dark:text-on-primary-dark",children:[S.highTemp," ",v.jsxs("span",{className:"text-on-surface-light/50 dark:text-on-surface-dark/50",children:[S.lowTemp,""]})]}),v.jsx("p",{className:"text-xs text-on-surface-light dark:text-on-surface-dark capitalize",children:S.condition})]},S.dayOfWeek))})]})]})]})},qn=({label:l,icon:t,isActive:o,onClick:a,isSidebarExpanded:r})=>{const{uiConfig:f}=it();return v.jsxs("button",{onClick:a,className:`flex items-center w-full p-3 text-left rounded-lg transition-colors duration-200
                ${o?"bg-accent/10":"text-on-surface-light dark:text-on-surface-dark hover:bg-outline-light dark:hover:bg-outline-dark"}
            `,style:o?{color:f.accentColor}:{},children:[v.jsx("span",{className:"material-symbols-outlined mr-4 flex-shrink-0",style:o?{fontVariationSettings:"'FILL' 1, 'wght' 300, 'GRAD' 0, 'opsz' 24",color:f.accentColor}:{fontVariationSettings:"'FILL' 0, 'wght' 300, 'GRAD' 0, 'opsz' 24",color:"inherit"},children:t}),v.jsx("span",{className:`font-semibold overflow-hidden transition-all duration-200 ${r?"w-auto opacity-100":"w-0 opacity-0"}`,children:l})]})},BC=({activeView:l,onNavigate:t,isSidebarExpanded:o,toggleSidebar:a})=>{const{uiConfig:r}=it();return v.jsxs("aside",{className:`hidden lg:flex flex-col ${o?"w-64":"w-20"} bg-surface-light dark:bg-surface-dark border-r border-outline-light dark:border-outline-dark h-screen sticky top-0 transition-all duration-300`,children:[v.jsxs("div",{className:"p-4 h-16 flex items-center justify-between border-b border-outline-light dark:border-outline-dark",children:[r.appIconBase64?v.jsx("img",{src:r.appIconBase64,alt:"App Icon",className:`h-8 w-auto transition-opacity duration-200 ${o?"opacity-100":"opacity-0"}`}):v.jsx("h2",{className:`text-sm font-medium text-accent uppercase tracking-widest overflow-hidden transition-all duration-200 ${o?"w-auto opacity-100":"w-0 opacity-0"}`,children:"news.kamocodes.xyz"}),v.jsx("button",{onClick:a,className:"p-1 rounded-full text-on-surface-light dark:text-on-surface-dark hover:bg-outline-light dark:hover:bg-outline-dark transition-colors","aria-label":o?"Collapse sidebar":"Expand sidebar",children:v.jsx("span",{className:"material-symbols-outlined text-2xl",children:o?"chevron_left":"chevron_right"})})]}),v.jsxs("nav",{className:"p-4 space-y-2 flex-1",children:[v.jsx(qn,{label:"Home",icon:"home",isActive:l==="home",onClick:()=>t("home"),isSidebarExpanded:o}),v.jsx(qn,{label:"Learn",icon:"school",isActive:l==="learn",onClick:()=>t("learn"),isSidebarExpanded:o}),v.jsx("h3",{className:`px-4 pt-4 pb-2 text-xs font-bold text-on-surface-light/50 dark:text-on-surface-dark/50 uppercase tracking-wider overflow-hidden transition-all duration-200 ${o?"w-auto opacity-100":"w-0 opacity-0"}`,children:"Tools"}),v.jsx(qn,{label:"Chat",icon:"chat",isActive:l==="chat",onClick:()=>t("chat"),isSidebarExpanded:o}),v.jsx(qn,{label:"Voice Chat",icon:"mic",isActive:l==="voiceChat",onClick:()=>t("voiceChat"),isSidebarExpanded:o}),v.jsx(qn,{label:"Finance",icon:"monitoring",isActive:l==="finance",onClick:()=>t("finance"),isSidebarExpanded:o}),v.jsx(qn,{label:"Weather",icon:"partly_cloudy_day",isActive:l==="weather",onClick:()=>t("weather"),isSidebarExpanded:o}),v.jsx(qn,{label:"Offline Reading",icon:"download",isActive:l==="offlineReading",onClick:()=>t("offlineReading"),isSidebarExpanded:o}),v.jsx(qn,{label:"Settings",icon:"settings",isActive:l==="settings",onClick:()=>t("settings"),isSidebarExpanded:o})]})]})},OC=()=>v.jsx("div",{className:"hidden lg:flex items-center justify-center flex-1 [perspective:1000px]",children:v.jsxs("div",{className:`
            w-full max-w-xl h-[480px]
            bg-surface-light/50 dark:bg-surface-dark/50 backdrop-blur-lg
            rounded-2xl shadow-2xl
            border border-outline-light/50 dark:border-outline-dark/50
            p-4 space-y-4 overflow-hidden
            transition-all duration-500 hover:rotate-y-[-10deg] hover:rotate-x-[2deg]
        `,style:{transform:"rotateY(-15deg) rotateX(5deg)"},children:[v.jsxs("div",{className:"flex items-center gap-2 px-2",children:[v.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),v.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),v.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),v.jsxs("div",{className:"p-2 space-y-4",children:[v.jsx("div",{className:"h-8 w-1/2 shimmer-bg rounded-lg"}),v.jsx("div",{className:"h-40 shimmer-bg rounded-lg"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx("div",{className:"h-28 shimmer-bg rounded-lg"}),v.jsx("div",{className:"h-28 shimmer-bg rounded-lg"})]})]})]})}),FC=({onNavigate:l})=>{const t=q.useRef(null),{uiConfig:o}=it(),{theme:a}=Xl();return q.useEffect(()=>{typeof google<"u"&&t.current&&google.accounts.id.renderButton(t.current,{theme:"filled_black",size:"large",type:"standard",text:"continue_with",shape:"pill"})},[]),q.useEffect(()=>{const r=document.documentElement;r.style.setProperty("--accent-color-bg-light-opacity",`${o.accentColor}26`),r.style.setProperty("--accent-color-bg-dark-opacity",`${o.accentColor}33`),r.style.setProperty("--dot-pattern-light","radial-gradient(rgba(0, 0, 0, 0.02) 1px, transparent 1px)"),r.style.setProperty("--dot-pattern-dark","radial-gradient(rgba(255, 255, 255, 0.04) 1px, transparent 1px)")},[o.accentColor]),v.jsxs("div",{className:"min-h-screen animate-fade-in",style:{backgroundColor:a==="dark"?"#1A1A1A":"#f9fafb",position:"relative",overflow:"hidden"},children:[v.jsx("div",{className:"absolute inset-0 bg-fixed z-0",style:{backgroundImage:`radial-gradient(circle at 10% 20%, var(--accent-color-bg-${a}-opacity), transparent 35%), radial-gradient(circle at 90% 80%, var(--accent-color-bg-${a}-opacity), transparent 35%)`}}),v.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",style:{backgroundImage:`var(--dot-pattern-${a})`,backgroundSize:"20px 20px"}}),v.jsx("main",{className:"min-h-screen flex flex-col items-center justify-center container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:v.jsxs("div",{className:"w-full lg:w-3/4 flex flex-col lg:flex-row items-center justify-center gap-10",children:[" ",v.jsxs("div",{className:"w-full lg:w-1/2 text-center lg:text-left pt-10 pb-10 lg:py-0",children:[v.jsx("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight text-on-primary-light dark:text-on-primary-dark mb-6",children:"Stay Ahead of the Curve."}),v.jsx("p",{className:"max-w-xl mx-auto lg:mx-0 text-lg text-on-surface-light/80 dark:text-on-surface-dark/80 mb-10",children:"Your intelligent news feed, powered by AI. Personalized, insightful, and always up-to-date."}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-center lg:justify-start items-center gap-4",children:[v.jsx("div",{ref:t,className:"h-12 flex items-center"}),v.jsx("button",{onClick:()=>l("home"),className:"bg-transparent text-on-primary-light dark:text-on-primary-dark font-semibold px-8 h-12 flex items-center rounded-full border border-outline-light dark:border-outline-dark hover:bg-outline-light dark:hover:bg-outline-dark transition-colors",children:"Continue as Guest"})]})]}),v.jsx(OC,{})]})})]})},JC=({onBack:l})=>{const{uiConfig:t,updateUIConfig:o}=it(),{theme:a}=Xl(),[r,f]=q.useState(t.transparency),[p,h]=q.useState(t.blurIntensity),[y,g]=q.useState(t.accentColor),[x,S]=q.useState(""),E=q.useRef(null),C=q.useCallback(F=>{const X=parseFloat(F.target.value);f(X),o({transparency:X})},[o]),M=q.useCallback(F=>{const X=parseInt(F.target.value,10);h(X),o({blurIntensity:X})},[o]),w=q.useCallback(F=>{const X=F.target.value;g(X),o({accentColor:X})},[o]),z=q.useCallback(F=>{var W;const X=(W=F.target.files)==null?void 0:W[0];if(X&&X.type.startsWith("image/")){const Q=new FileReader;Q.onloadend=()=>{o({appIconBase64:Q.result})},Q.readAsDataURL(X)}else alert("Please upload an image file.")},[o]),Y=q.useCallback(async()=>{if(x.trim())try{const F=await fetch(x);if(!F.ok)throw new Error("Failed to fetch image URL.");const X=await F.blob(),W=new FileReader;W.onloadend=()=>{o({appIconBase64:W.result}),S("")},W.readAsDataURL(X)}catch(F){console.error("Error loading image from URL:",F),alert("Failed to load image from URL. Please check the URL.")}},[x,o]),K=q.useCallback(F=>{o({aiProvider:F})},[o]),O=()=>({backgroundColor:`rgba(${a==="dark"?"0, 0, 0":"255, 255, 255"}, ${r})`,backdropFilter:`blur(${p}px)`,WebkitBackdropFilter:`blur(${p}px)`});return v.jsxs("div",{className:"animate-fade-in space-y-8",children:[v.jsx(_a,{title:"UI Settings",onBack:l}),v.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-6 rounded-xl border border-outline-light dark:border-outline-dark",children:[v.jsx("h2",{className:"text-xl font-bold text-on-primary-light dark:text-on-primary-dark mb-4",children:"Theme & Appearance"}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{htmlFor:"accentColor",className:"block text-sm font-medium text-on-surface-light dark:text-on-surface-dark mb-2",children:"Accent Color"}),v.jsx("input",{type:"color",id:"accentColor",value:y,onChange:w,className:"w-full h-10 p-1 border border-outline-light dark:border-outline-dark rounded-md cursor-pointer"})]}),v.jsxs("div",{className:"mb-6",children:[v.jsxs("label",{htmlFor:"transparency",className:"block text-sm font-medium text-on-surface-light dark:text-on-surface-dark mb-2",children:["Transparency: ",Math.round(r*100),"%"]}),v.jsx("input",{type:"range",id:"transparency",min:"0",max:"0.4",step:"0.01",value:r,onChange:C,className:"w-full h-2 bg-outline-light dark:bg-outline-dark rounded-lg appearance-none cursor-pointer range-sm"})]}),v.jsxs("div",{className:"mb-6",children:[v.jsxs("label",{htmlFor:"blurIntensity",className:"block text-sm font-medium text-on-surface-light dark:text-on-surface-dark mb-2",children:["Blur Intensity: ",p,"px"]}),v.jsx("input",{type:"range",id:"blurIntensity",min:"0",max:"40",step:"1",value:p,onChange:M,className:"w-full h-2 bg-outline-light dark:bg-outline-dark rounded-lg appearance-none cursor-pointer range-sm"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("p",{className:"text-sm font-medium text-on-surface-light dark:text-on-surface-dark mb-2",children:"Glassmorphism Preview:"}),v.jsx("div",{className:"w-full h-24 rounded-lg border border-outline-light dark:border-outline-dark flex items-center justify-center p-4",style:O(),children:v.jsx("span",{className:"text-on-primary-light dark:text-on-primary-dark text-center",children:"Hello World!"})})]})]}),v.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-6 rounded-xl border border-outline-light dark:border-outline-dark",children:[v.jsx("h2",{className:"text-xl font-bold text-on-primary-light dark:text-on-primary-dark mb-4",children:"App Icon"}),v.jsxs("div",{className:"mb-4 flex items-center space-x-4",children:[v.jsx("span",{className:"text-sm font-medium text-on-surface-light dark:text-on-surface-dark",children:"Current Icon:"}),t.appIconBase64?v.jsx("img",{src:t.appIconBase64,alt:"Current App Icon",className:"h-10 w-auto rounded-md"}):v.jsx("span",{className:"text-on-surface-light/50 dark:text-on-surface-dark/50",children:"Default Text Logo"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{htmlFor:"iconFileUpload",className:"block text-sm font-medium text-on-surface-light dark:text-on-surface-dark mb-2",children:"Upload Custom Icon"}),v.jsx("input",{type:"file",id:"iconFileUpload",accept:"image/*",ref:E,onChange:z,className:"block w-full text-sm text-on-surface-light dark:text-on-surface-dark file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-dark file:text-white dark:file:bg-primary-light dark:file:text-black hover:file:bg-gray-700 dark:hover:file:bg-gray-200"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{htmlFor:"iconUrlInput",className:"block text-sm font-medium text-on-surface-light dark:text-on-surface-dark mb-2",children:"Or, Enter Image URL"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"url",id:"iconUrlInput",value:x,onChange:F=>S(F.target.value),placeholder:"https://example.com/my-icon.png",className:"flex-1 bg-primary-light dark:bg-primary-dark border border-outline-light dark:border-outline-dark focus:border-accent focus:ring-0 text-on-primary-light dark:text-on-primary-dark rounded-lg py-2 px-3"}),v.jsx("button",{onClick:Y,disabled:!x.trim(),className:"px-4 py-2 bg-accent text-white dark:text-primary-dark rounded-lg font-semibold hover:bg-accent-dark disabled:opacity-50",children:"Apply"})]})]})]}),v.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-6 rounded-xl border border-outline-light dark:border-outline-dark",children:[v.jsx("h2",{className:"text-xl font-bold text-on-primary-light dark:text-on-primary-dark mb-4",children:"AI Provider Selection"}),v.jsx("p",{className:"text-on-surface-light dark:text-on-surface-dark mb-4",children:"Choose your preferred AI service provider for chat and content generation."}),v.jsxs("div",{className:"flex flex-col space-y-3",children:[v.jsxs("label",{className:"inline-flex items-center",children:[v.jsx("input",{type:"radio",name:"aiProvider",value:"Puter.js",checked:t.aiProvider==="Puter.js",onChange:()=>K("Puter.js"),className:"form-radio text-accent h-4 w-4"}),v.jsx("span",{className:"ml-2 text-on-primary-light dark:text-on-primary-dark",children:"Puter.js (Default, supports image generation)"})]}),v.jsxs("label",{className:"inline-flex items-center",children:[v.jsx("input",{type:"radio",name:"aiProvider",value:"OpenRouter",checked:t.aiProvider==="OpenRouter",onChange:()=>K("OpenRouter"),className:"form-radio text-accent h-4 w-4"}),v.jsx("span",{className:"ml-2 text-on-primary-light dark:text-on-primary-dark",children:"OpenRouter (Requires API Key, chat only)"})]}),v.jsxs("label",{className:"inline-flex items-center",children:[v.jsx("input",{type:"radio",name:"aiProvider",value:"Gemini",checked:t.aiProvider==="Gemini",onChange:()=>K("Gemini"),className:"form-radio text-accent h-4 w-4"}),v.jsx("span",{className:"ml-2 text-on-primary-light dark:text-on-primary-dark",children:"Gemini (Requires API Key, enables voice chat)"})]}),v.jsx("p",{className:"text-xs text-on-surface-light/70 dark:text-on-surface-dark/70 mt-2",children:"Note: OpenRouter and Gemini require their respective API keys (`OPENROUTER_API_KEY` and `API_KEY`) environment variables. Image generation is only supported by Puter.js."})]})]}),v.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-6 rounded-xl border border-outline-light dark:border-outline-dark",children:[v.jsx("h2",{className:"text-xl font-bold text-on-primary-light dark:text-on-primary-dark mb-4",children:"Navigation Layout"}),v.jsxs("p",{className:"text-on-surface-light dark:text-on-surface-dark mb-4",children:["Current mobile navigation position: ",v.jsx("strong",{children:t.navPosition==="bottom"?"Bottom":"Top"}),"."]}),v.jsxs("div",{className:"flex space-x-4",children:[v.jsxs("label",{className:"inline-flex items-center",children:[v.jsx("input",{type:"radio",name:"navPosition",value:"bottom",checked:t.navPosition==="bottom",onChange:()=>o({navPosition:"bottom"}),className:"form-radio text-accent h-4 w-4"}),v.jsx("span",{className:"ml-2 text-on-primary-light dark:text-on-primary-dark",children:"Bottom Navigation"})]}),v.jsxs("label",{className:"inline-flex items-center",children:[v.jsx("input",{type:"radio",name:"navPosition",value:"top",checked:t.navPosition==="top",onChange:()=>o({navPosition:"top"}),className:"form-radio text-accent h-4 w-4"}),v.jsx("span",{className:"ml-2 text-on-primary-light dark:text-on-primary-dark",children:"Top Navigation"})]})]})]}),v.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-6 rounded-xl border border-outline-light dark:border-outline-dark",children:[v.jsx("h2",{className:"text-xl font-bold text-on-primary-light dark:text-on-primary-dark mb-4",children:"Chart Style (Placeholder)"}),v.jsxs("p",{className:"text-on-surface-light dark:text-on-surface-dark mb-4",children:["Currently: ",v.jsx("strong",{children:t.chartStyle==="minimal"?"Minimal":"Detailed"}),". (Actual chart styling not implemented in this demo.)"]}),v.jsxs("div",{className:"flex space-x-4",children:[v.jsxs("label",{className:"inline-flex items-center",children:[v.jsx("input",{type:"radio",name:"chartStyle",value:"minimal",checked:t.chartStyle==="minimal",onChange:()=>o({chartStyle:"minimal"}),className:"form-radio text-accent h-4 w-4"}),v.jsx("span",{className:"ml-2 text-on-primary-light dark:text-on-primary-dark",children:"Minimal"})]}),v.jsxs("label",{className:"inline-flex items-center",children:[v.jsx("input",{type:"radio",name:"chartStyle",value:"detailed",checked:t.chartStyle==="detailed",onChange:()=>o({chartStyle:"detailed"}),className:"form-radio text-accent h-4 w-4"}),v.jsx("span",{className:"ml-2 text-on-primary-light dark:text-on-primary-dark",children:"Detailed"})]})]})]})]})},YC=({article:l,onSelect:t})=>{const o=q.useRef(null),[a,r]=q.useState(!1),[f,p]=q.useState(!1);q.useEffect(()=>{o.current&&o.current.scrollHeight>o.current.clientHeight&&r(!0),p(!1)},[l.summary,l.imageUrl]);const h=()=>{p(!0)},y="shortHeadline"in l?l.shortHeadline:l.title;return v.jsxs("div",{onClick:()=>t(l),className:"bg-surface-light dark:bg-surface-dark rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer group border border-outline-light/50 dark:border-outline-dark/50 hover:border-outline-light dark:hover:border-outline-dark",children:[v.jsx("div",{className:"w-full h-40 sm:h-48 overflow-hidden bg-surface-light dark:bg-primary-dark flex items-center justify-center",children:f?v.jsxs("div",{className:"flex flex-col items-center text-on-surface-light/50 dark:text-on-surface-dark/50 p-4",children:[v.jsx("span",{className:"material-symbols-outlined text-4xl mb-1",children:"broken_image"}),v.jsx("span",{className:"text-xs text-center",children:"Image Unavailable"})]}):v.jsx("img",{src:l.imageUrl,alt:l.title,loading:"lazy",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:h})}),v.jsxs("div",{className:"p-4",children:[v.jsx("span",{className:"text-xs font-semibold text-on-surface-light dark:text-on-surface-dark uppercase",children:l.category}),v.jsx("h3",{className:"font-bold text-base sm:text-lg mt-1 h-14 text-on-primary-light dark:text-on-primary-dark group-hover:underline leading-tight line-clamp-2",title:l.title,children:y}),v.jsx("p",{ref:o,className:"text-sm text-on-surface-light dark:text-on-surface-dark mt-2 h-16 line-clamp-3",children:l.summary}),a&&v.jsx("span",{className:"text-sm font-semibold text-accent mt-1 inline-block",children:"Read More"})]})]})},KC=()=>v.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg overflow-hidden shimmer-bg h-80"}),XC=({onArticleSelect:l})=>{const[t,o]=q.useState([]),[a,r]=q.useState(!0),[f,p]=q.useState(null);return q.useEffect(()=>{(async()=>{r(!0),p(null);try{const y=await Th();o(y)}catch(y){console.error("Failed to load articles for offline reading",y),p(y instanceof Error?y.message:"An unknown error occurred.")}finally{r(!1)}})()},[]),v.jsx("div",{className:"space-y-12",children:v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-on-primary-light dark:text-on-primary-dark mb-4",children:"Offline Reading"}),v.jsx("p",{className:"text-on-surface-light dark:text-on-surface-dark mb-6",children:"These articles are available for reading even when you're offline, loaded from your local storage."}),a?v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:Array.from({length:10}).map((h,y)=>v.jsx(KC,{},y))}):v.jsxs(v.Fragment,{children:[f&&v.jsx(jl,{message:f}),!f&&t.length>0&&v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:t.map(h=>v.jsx(YC,{article:h,onSelect:l},h.id))}),!f&&t.length===0&&v.jsx("p",{className:"text-center py-8 text-on-surface-light dark:text-on-surface-dark",children:"No articles available for offline reading. Save some articles from the home page!"})]})]})})},QC=()=>{const{uiConfig:l}=it(),{theme:t}=Xl(),[o,a]=q.useState("idle"),[r,f]=q.useState(""),[p,h]=q.useState(""),[y,g]=q.useState([]),[x,S]=q.useState(null),E=q.useRef(null),C=q.useRef(null),M=q.useRef(null),w=q.useRef(null),z=q.useRef(null),Y=q.useRef(null),K=q.useRef(0),O=q.useRef(new Set),F="PLACEHOLDER_API_KEY",X=()=>({backgroundColor:`rgba(${t==="dark"?"0, 0, 0":"255, 255, 255"}, ${l.transparency})`,backdropFilter:`blur(${l.blurIntensity}px)`,WebkitBackdropFilter:`blur(${l.blurIntensity}px)`,borderTop:`1px solid rgba(${t==="dark"?"255, 255, 255":"0, 0, 0"}, ${l.transparency*2/3})`}),W=()=>{var le;z.current&&(z.current.disconnect(),z.current=null),M.current&&(M.current.close().catch(console.error),M.current=null),w.current&&(w.current.close().catch(console.error),w.current=null),(le=C.current)==null||le.getTracks().forEach(ge=>ge.stop()),C.current=null,O.current.forEach(ge=>ge.stop()),O.current.clear(),K.current=0},Q=q.useCallback(async()=>{if(!(o==="connecting"||o==="listening"||o==="speaking")){if(l.aiProvider!=="Gemini"){a("not-gemini"),S("Please select 'Gemini' as your AI Provider in settings to use Voice Chat.");return}a("connecting"),S(null),f(""),h(""),g([]),W();try{const le=await navigator.mediaDevices.getUserMedia({audio:!0});C.current=le,M.current=new AudioContext({sampleRate:16e3}),w.current=new AudioContext({sampleRate:24e3}),Y.current=w.current.createGain(),Y.current.connect(w.current.destination);const ge=await xC(l.aiProvider,{onopen:()=>{console.log("Gemini Live Session opened."),a("listening");const ae=M.current.createMediaStreamSource(le),xe=M.current.createScriptProcessor(4096,1,1);xe.onaudioprocess=D=>{var he;const J=D.inputBuffer.getChannelData(0),te=vC(J);(he=E.current)==null||he.sendRealtimeInput({media:te})},ae.connect(xe),xe.connect(M.current.destination),z.current=xe},onmessage:async ae=>{var J,te,he,be,b,V,Z,j;if((J=ae.serverContent)!=null&&J.outputTranscription){const oe=ae.serverContent.outputTranscription.text;h(ue=>ue+oe)}if((te=ae.serverContent)!=null&&te.inputTranscription){const oe=ae.serverContent.inputTranscription.text;f(oe)}(he=ae.serverContent)!=null&&he.turnComplete&&(g(oe=>[...oe,`You: ${r}`,`AI: ${p}`]),f(""),h(""),a("listening"));const xe=(Z=(V=(b=(be=ae.serverContent)==null?void 0:be.modelTurn)==null?void 0:b.parts[0])==null?void 0:V.inlineData)==null?void 0:Z.data;if(xe&&w.current){a("speaking"),K.current=Math.max(K.current,w.current.currentTime);const oe=await yC(gC(xe),w.current,24e3,1),ue=w.current.createBufferSource();ue.buffer=oe,ue.connect(Y.current),ue.addEventListener("ended",()=>{O.current.delete(ue),O.current.size===0&&o==="speaking"&&a("listening")}),ue.start(K.current),K.current=K.current+oe.duration,O.current.add(ue)}((j=ae.serverContent)==null?void 0:j.interrupted)&&(O.current.forEach(oe=>oe.stop()),O.current.clear(),K.current=0,a("listening"))},onerror:ae=>{console.error("Gemini Live Session error:",ae),S(`Voice chat error: ${ae instanceof ErrorEvent?ae.message:"Unknown error"}`),a("error"),de()},onclose:ae=>{console.log("Gemini Live Session closed:",ae),a("disconnected"),de()}},"You are a friendly and helpful news assistant. Always summarize news concisely and ask follow-up questions to understand what the user wants to learn more about.");E.current=ge}catch(le){console.error("Failed to start voice chat session:",le),S(le instanceof Error?le.message:"Failed to connect to voice chat. Check microphone permissions."),a("error"),W()}}},[o,l.aiProvider,F,r,p]),de=q.useCallback(()=>{E.current&&(console.log("Closing Gemini Live Session..."),E.current.close(),E.current=null),W(),a("idle"),f(""),h("")},[]);if(q.useEffect(()=>()=>{de()},[de]),l.aiProvider!=="Gemini")return v.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 h-full flex flex-col animate-fade-in",children:[v.jsx(_a,{title:"AI Voice Chat",onBack:()=>window.history.back()}),v.jsxs("div",{className:"flex-1 bg-surface-light dark:bg-surface-dark rounded-xl border border-outline-light dark:border-outline-dark p-4 overflow-y-auto scrollbar-hide text-on-primary-light dark:text-on-primary-dark space-y-2 flex flex-col items-center justify-center text-center",children:[v.jsx("span",{className:"material-symbols-outlined text-6xl text-on-surface-light/50 dark:text-on-surface-dark/50 mb-4",children:"mic_off"}),v.jsx("h3",{className:"text-xl font-bold mb-2",children:"Voice Chat Unavailable"}),v.jsxs("p",{className:"text-on-surface-light dark:text-on-surface-dark max-w-md",children:["Please select 'Gemini' as your AI Provider in the ",v.jsx("span",{className:"text-accent font-semibold",children:"Settings"})," page to enable this feature."]}),v.jsx("button",{onClick:()=>window.history.back(),className:"mt-6 px-6 py-3 font-semibold rounded-lg transition-colors duration-200 bg-accent text-white dark:text-primary-dark hover:bg-accent-dark",children:"Go Back"})]})]});const B=()=>{switch(o){case"connecting":return v.jsx("span",{className:"material-symbols-outlined animate-spin",children:"sync"});case"listening":return v.jsx("span",{className:"material-symbols-outlined",children:"mic"});case"speaking":return v.jsx("span",{className:"material-symbols-outlined animate-pulse",children:"volume_up"});case"error":case"disconnected":return v.jsx("span",{className:"material-symbols-outlined",children:"wifi_off"});default:return v.jsx("span",{className:"material-symbols-outlined",children:"mic"})}},re=()=>{switch(o){case"idle":return"Tap to start voice chat.";case"connecting":return"Connecting to AI...";case"listening":return"Listening...";case"speaking":return"AI is speaking...";case"error":return`Error: ${x||"An unexpected error occurred."}`;case"disconnected":return"Disconnected. Tap to restart.";case"no-microphone":return"No microphone found or permission denied.";default:return""}},ce=q.useRef(null);return q.useEffect(()=>{ce.current&&(ce.current.scrollTop=ce.current.scrollHeight)},[y,r,p]),v.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 h-full flex flex-col animate-fade-in",children:[v.jsx(_a,{title:"AI Voice Chat",onBack:()=>window.history.back()}),v.jsx("p",{className:"text-on-surface-light dark:text-on-surface-dark mb-6",children:"Have a real-time voice conversation with our AI assistant."}),x&&v.jsx("div",{className:"bg-red-900/50 border border-red-500/50 text-red-300 px-4 py-3 rounded-lg mb-4 text-center",children:x}),v.jsxs("div",{ref:ce,className:"flex-1 bg-surface-light dark:bg-surface-dark rounded-xl border border-outline-light dark:border-outline-dark p-4 overflow-y-auto scrollbar-hide text-on-primary-light dark:text-on-primary-dark space-y-2 text-sm",children:[y.map((le,ge)=>v.jsx("p",{className:le.startsWith("You:")?"text-right text-accent":"text-left text-on-primary-light dark:text-on-primary-dark",children:le},ge)),r&&v.jsxs("p",{className:"text-right text-accent",children:["You: ",r,v.jsx("span",{className:"inline-block w-1 h-3 bg-accent animate-blink ml-1"})]}),p&&v.jsxs("p",{className:"text-left text-on-primary-light dark:text-on-primary-dark",children:["AI: ",p,v.jsx("span",{className:"inline-block w-1 h-3 bg-on-primary-light dark:bg-on-primary-dark animate-blink ml-1"})]}),(o==="connecting"||o==="listening"||o==="speaking")&&!r&&!p&&y.length===0&&v.jsx("p",{className:"text-center text-on-surface-light/50 dark:text-on-surface-dark/50 italic animate-pulse",children:re()})]}),v.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-10 p-4 sm:p-6 lg:p-8 flex flex-col items-center gap-4 pb-20 lg:pb-8",style:X(),children:[v.jsx("button",{onClick:o==="listening"||o==="speaking"||o==="connecting"?de:Q,disabled:o==="connecting"&&E.current===null,className:`w-20 h-20 rounded-full flex items-center justify-center shadow-lg transition-all duration-300 text-white dark:text-primary-dark text-3xl
                                ${o==="listening"||o==="speaking"||o==="connecting"?"bg-red-500 hover:bg-red-600":"bg-accent hover:bg-accent-dark"}
                                ${o==="connecting"?"animate-pulse":""}
                              `,style:{backgroundColor:o==="listening"||o==="speaking"||o==="connecting"?void 0:l.accentColor},"aria-label":o==="listening"||o==="speaking"||o==="connecting"?"Stop voice chat":"Start voice chat",children:B()}),v.jsx("p",{className:"text-center text-sm text-on-surface-light dark:text-on-surface-dark",children:re()})]}),v.jsx("style",{children:`
                @keyframes blink {
                    50% { opacity: 0; }
                }
                .animate-blink {
                    animation: blink 1s step-end infinite;
                }
            `})]})},ZC=({label:l,icon:t,isActive:o,onClick:a})=>{const{uiConfig:r}=it();return v.jsxs("button",{onClick:a,"aria-label":l,className:`flex flex-col items-center justify-center flex-1 h-full pt-2 pb-1 px-2 transition-colors duration-200 text-xs text-center min-w-[70px]
            ${o?"text-accent":"text-on-surface-light dark:text-on-surface-dark hover:text-on-primary-light dark:hover:text-on-primary-dark"}
        `,children:[v.jsx("span",{className:"material-symbols-outlined text-2xl mb-1",style:o?{fontVariationSettings:"'FILL' 1, 'wght' 300, 'GRAD' 0, 'opsz' 24",color:r.accentColor}:{fontVariationSettings:"'FILL' 0, 'wght' 300, 'GRAD' 0, 'opsz' 24",color:"inherit"},children:t}),v.jsx("span",{children:l})]})},$C=({label:l,icon:t,isActive:o,onClick:a,accentColor:r})=>v.jsxs("button",{onClick:a,className:`flex items-center w-full p-3 text-left rounded-lg transition-colors duration-200
                ${o?"bg-accent/10":"text-on-surface-light dark:text-on-surface-dark hover:bg-outline-light dark:hover:bg-outline-dark"}
            `,style:o?{color:r}:{},role:"menuitem",children:[v.jsx("span",{className:"material-symbols-outlined mr-4 flex-shrink-0",style:o?{fontVariationSettings:"'FILL' 1, 'wght' 300, 'GRAD' 0, 'opsz' 24",color:r}:{fontVariationSettings:"'FILL' 0, 'wght' 300, 'GRAD' 0, 'opsz' 24",color:"inherit"},children:t}),v.jsx("span",{className:"font-semibold",children:l})]}),hh=({activeView:l,onNavigate:t})=>{const{uiConfig:o}=it(),{theme:a}=Xl(),[r,f]=q.useState(!1),p=[{view:"home",label:"Home",icon:"home"},{view:"learn",label:"Learn",icon:"school"},{view:"chat",label:"Chat",icon:"chat"},{view:"voiceChat",label:"Voice",icon:"mic"},{view:"finance",label:"Finance",icon:"monitoring"},{view:"weather",label:"Weather",icon:"partly_cloudy_day"},{view:"offlineReading",label:"Offline",icon:"download"},{view:"settings",label:"Settings",icon:"settings"}],h=p.slice(0,4),y=p,g=()=>{const C=a==="dark"?"0, 0, 0":"255, 255, 255",M=o.navPosition==="top"?"borderBottom":"borderTop";return{backgroundColor:`rgba(${C}, ${o.transparency})`,backdropFilter:`blur(${o.blurIntensity}px)`,WebkitBackdropFilter:`blur(${o.blurIntensity}px)`,[M]:`1px solid rgba(${a==="dark"?"255, 255, 255":"0, 0, 0"}, ${o.transparency*2/3})`}},x=()=>({backgroundColor:`rgba(${a==="dark"?"0, 0, 0":"255, 255, 255"}, ${o.transparency*1.2})`,backdropFilter:`blur(${o.blurIntensity}px)`,WebkitBackdropFilter:`blur(${o.blurIntensity}px)`,borderLeft:`1px solid rgba(${a==="dark"?"255, 255, 255":"0, 0, 0"}, ${o.transparency*2/3})`}),S=q.useCallback(()=>{f(!1)},[]),E=`lg:hidden fixed left-0 right-0 z-40 transition-all duration-300 ease-in-out
                      ${o.navPosition==="bottom"?"bottom-0":"top-0"}
                      h-16`;return v.jsxs(v.Fragment,{children:[v.jsx("nav",{className:E,style:g(),role:"navigation","aria-label":"Main navigation",children:v.jsxs("div",{className:"flex justify-around items-center h-16 w-full relative z-10",children:[h.map(C=>v.jsx(ZC,{label:C.label,icon:C.icon,isActive:l===C.view,onClick:()=>{t(C.view),S()}},C.view)),v.jsx("div",{className:`absolute ${o.navPosition==="bottom"?"bottom-2":"top-2"} right-4 z-50`,children:v.jsx("button",{onClick:()=>f(!r),"aria-label":r?"Collapse menu":"Expand menu",className:`w-12 h-12 rounded-full flex items-center justify-center shadow-lg transition-all duration-300
                            text-white dark:text-primary-dark hover:scale-105 active:scale-95 material-symbols-outlined text-2xl`,style:{backgroundColor:o.accentColor},children:r?"close":"add"})})]})}),r&&v.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex justify-end animate-fade-in",onClick:S,"aria-hidden":!r,children:v.jsxs("div",{className:`w-2/3 max-w-xs bg-surface-light dark:bg-surface-dark h-full p-6 shadow-xl flex flex-col transition-transform duration-300 ease-in-out ${r?"translate-x-0":"translate-x-full"}`,style:x(),onClick:C=>C.stopPropagation(),role:"menu","aria-orientation":"vertical","aria-label":"Expanded Navigation",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h3",{className:"text-xl font-bold text-on-primary-light dark:text-on-primary-dark",children:"Menu"}),v.jsx("button",{onClick:S,className:"p-1 rounded-full text-on-surface-light dark:text-on-surface-dark hover:bg-outline-light dark:hover:bg-outline-dark transition-colors","aria-label":"Close menu",children:v.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),v.jsx("nav",{className:"flex flex-col space-y-3 flex-grow",children:y.map(C=>v.jsx($C,{label:C.label,icon:C.icon,isActive:l===C.view,onClick:()=>{t(C.view),S()},accentColor:o.accentColor},C.view))})]})})]})},WC=()=>{const{user:l}=mu(),{uiConfig:t}=it(),[o,a]=q.useState("landing"),[r,f]=q.useState("landing"),[p,h]=q.useState(null),[y,g]=q.useState(!0);q.useEffect(()=>{l&&o==="landing"&&a("home")},[l,o]);const x=Y=>{f(o),h(Y),a("articleDetail"),window.scrollTo(0,0)},S=()=>{h(null),a(r)},E=Y=>{o==="articleDetail"&&h(null),a(Y),window.scrollTo(0,0)},C=()=>{g(Y=>!Y)},M=()=>{switch(o){case"landing":return v.jsx(FC,{onNavigate:E});case"articleDetail":return p?v.jsx(Fv,{article:p,onBack:S}):v.jsx(tu,{onArticleSelect:x});case"home":return v.jsx("div",{className:"animate-fade-in-up",children:v.jsx(tu,{onArticleSelect:x})});case"learn":return v.jsx("div",{className:"animate-fade-in-up",children:v.jsx(wC,{})});case"chat":return v.jsx("div",{className:"animate-fade-in-up h-full flex flex-col",children:v.jsx(PC,{})});case"finance":return v.jsx("div",{className:"animate-fade-in-up",children:v.jsx(HC,{onArticleSelect:x})});case"weather":return v.jsx("div",{className:"animate-fade-in-up",children:v.jsx(zC,{})});case"settings":return v.jsx("div",{className:"animate-fade-in-up",children:v.jsx(JC,{onBack:()=>a(r)})});case"offlineReading":return v.jsx("div",{className:"animate-fade-in-up",children:v.jsx(XC,{onArticleSelect:x})});case"voiceChat":return v.jsx("div",{className:"animate-fade-in-up h-full flex flex-col",children:v.jsx(QC,{})});default:return v.jsx("div",{className:"animate-fade-in-up",children:v.jsx(tu,{onArticleSelect:x})})}};if(o==="landing")return v.jsx("div",{className:"min-h-screen bg-primary-light dark:bg-primary-dark text-on-primary-light dark:text-on-primary-dark",children:M()});const w=t.navPosition==="top",z=w?"pt-[5rem] lg:pt-8":"pb-[5rem] lg:pb-8";return v.jsxs("div",{className:"min-h-screen bg-primary-light dark:bg-primary-dark text-on-primary-light dark:text-on-primary-dark lg:flex",children:[v.jsx(BC,{activeView:o,onNavigate:E,isSidebarExpanded:y,toggleSidebar:C}),v.jsxs("div",{className:"flex-1 flex flex-col min-w-0 transition-all duration-300 lg:pl-0",children:[v.jsx("div",{className:`sticky top-0 z-30 bg-primary-light/80 dark:bg-primary-dark/80 backdrop-blur-lg lg:border-b border-outline-light dark:border-outline-dark shadow-sm ${w||o==="articleDetail"?"hidden lg:block":""}`,children:v.jsx(Vm,{})}),w&&v.jsxs("div",{className:"fixed top-0 left-0 right-0 z-40 bg-primary-light/80 dark:bg-primary-dark/80 backdrop-blur-lg border-b border-outline-light dark:border-outline-dark shadow-sm lg:hidden",children:[v.jsx(Vm,{})," ",v.jsx(hh,{activeView:o,onNavigate:E})]}),o==="articleDetail"?v.jsx("div",{className:"flex-1",children:M()}):o==="chat"||o==="voiceChat"?v.jsxs("div",{className:`flex-1 flex flex-col min-w-0 overflow-hidden ${w?"pt-[4rem]":"pb-[4rem]"}`,children:[" ",M()]}):v.jsx("main",{className:`container mx-auto px-4 sm:px-6 lg:px-8 pt-8 ${z} flex-1`,children:M()})]}),!w&&v.jsx(hh,{activeView:o,onNavigate:E}),v.jsx("style",{children:`
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.5s ease-out forwards;
        }
      `})]})},eg=document.getElementById("root");if(!eg)throw new Error("Could not find root element to mount to");const jC=Lv.createRoot(eg);jC.render(v.jsx(bv.StrictMode,{children:v.jsx(Vv,{children:v.jsx(Pv,{children:v.jsx(Hv,{children:v.jsx(WC,{})})})})}));
